id: "ESS-05"
category: "ESS"
priority: "high"
enabled: true

metadata:
  naam: "Voldoende onderscheidend"
  uitleg: |
    Een definitie moet duidelijk maken wat het begrip uniek maakt ten opzichte van andere
    verwante begrippen. De definitie moet aangeven waarin het begrip zich onderscheidt
    van andere begrippen binnen hetzelfde domein.
  version: "1.0"
  last_updated: "2025-10-02"
  author: "Extracted from legacy system"

  rule_type: "semantic"
  applies_to:
    categories: ["ENT", "ACT", "REL", "ATT", "AUT", "STA", "OTH"]
    contexts: []

implementation:
  type: "regex"
  patterns:
    required:
      - pattern: '\bonderscheidt zich door\b'
        description: "Distinction indicator"
        case_sensitive: false

      - pattern: '\bspecifiek voor\b'
        description: "Specificity indicator"
        case_sensitive: false

      - pattern: '\bin tegenstelling tot\b'
        description: "Contrast indicator"
        case_sensitive: false

      - pattern: '\bverschilt van\b'
        description: "Difference indicator"
        case_sensitive: false

      - pattern: '\bonderscheidend kenmerk\b'
        description: "Distinguishing feature"
        case_sensitive: false

      - pattern: '\buniek ten opzichte van\b'
        description: "Uniqueness indicator"
        case_sensitive: false

  logic_description: |
    1. Search for distinguishing characteristics
    2. Check for contrast or comparison markers
    3. Verify uniqueness indicators
    4. Return validation result

  legacy_reference: "src/toetsregels/regels/ESS-05.py"

validation:
  input_fields:
    - name: "definitie"
      type: "string"
      required: true

    - name: "begrip"
      type: "string"
      required: true

    - name: "context"
      type: "dict"
      required: false

  output:
    success:
      type: "boolean"
      description: "Whether validation passed"

    message:
      type: "string"
      description: "Human-readable validation message"

    score:
      type: "float"
      min: 0.0
      max: 1.0
      description: "Validation score"

examples:
  good:
    - input:
        definitie: "toezicht gericht op gedragsverandering, in tegenstelling tot detentietoezicht dat gericht is op vrijheidsbeneming"
        begrip: "reclasseringstoezicht"
      expected:
        success: true
        score: 1.0

    - input:
        definitie: "vierwielig motorvoertuig met uniek chassisnummer en kenteken, waardoor elke auto individueel wordt ge√Ødentificeerd"
        begrip: "auto"
      expected:
        success: true
        score: 1.0

  bad:
    - input:
        definitie: "het houden van toezicht op iemand"
        begrip: "toezicht"
      expected:
        success: false
        score: 0.0

generation_hints:
  - "Geef aan waarin dit begrip zich onderscheidt van vergelijkbare begrippen"
  - "Gebruik contrasttermen: 'in tegenstelling tot', 'verschilt van'"
  - "Noem unieke, onderscheidende kenmerken"
  - "Denk aan: wat maakt dit begrip anders dan soortgelijke begrippen?"

test_cases:
  - name: "valid_with_distinction"
    input:
      definitie: "controle die zich onderscheidt door automatische verificatie, in tegenstelling tot handmatige controle"
      begrip: "geautomatiseerde controle"
    expected:
      success: true
      score: 1.0

  - name: "invalid_no_distinction"
    input:
      definitie: "een vorm van controle"
      begrip: "controle"
    expected:
      success: false
      score: 0.0

performance:
  max_execution_time_ms: 50
  complexity: "O(n)"
  memory_usage: "O(1)"
