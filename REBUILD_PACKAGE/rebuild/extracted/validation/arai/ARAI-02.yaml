id: "ARAI-02"
category: "ARAI"
priority: "medium"
enabled: true

metadata:
  naam: "Vermijd vage containerbegrippen"
  uitleg: |
    De definitie mag geen containerbegrippen bevatten die op zichzelf weinig verklarende waarde hebben.
    Containerbegrippen zoals 'aspect', 'element', 'activiteit', 'proces', of 'systeem' geven zonder
    verdere specificatie onvoldoende informatie.
  version: "1.0"
  last_updated: "2025-10-02"
  author: "Extracted from legacy system"

  rule_type: "semantic"
  applies_to:
    categories: ["ENT", "ACT", "REL", "ATT", "AUT", "STA", "OTH"]
    contexts: []

implementation:
  type: "regex"
  patterns:
    forbidden:
      - pattern: '\bproces\b(?!\s+dat|\s+van)'
        description: "Container term 'proces' without specification"
        case_sensitive: false

      - pattern: '\bactiviteit\b(?!\s+die|\s+van)'
        description: "Container term 'activiteit' without specification"
        case_sensitive: false

      - pattern: '\bsysteem\b(?!\s+dat|\s+voor)'
        description: "Container term 'systeem' without specification"
        case_sensitive: false

      - pattern: '\baspect\b'
        description: "Container term 'aspect'"
        case_sensitive: false

      - pattern: '\belement\b'
        description: "Container term 'element'"
        case_sensitive: false

  logic_description: |
    1. Search for container terms using negative lookahead patterns
    2. Check if container terms are followed by specifications
    3. Compare with good/bad examples
    4. Return validation result with found container terms

  legacy_reference: "src/toetsregels/regels/ARAI-02.py"

validation:
  input_fields:
    - name: "definitie"
      type: "string"
      required: true

    - name: "begrip"
      type: "string"
      required: true

    - name: "context"
      type: "dict"
      required: false

  output:
    success:
      type: "boolean"
      description: "Whether validation passed"

    message:
      type: "string"
      description: "Human-readable validation message"

    score:
      type: "float"
      min: 0.0
      max: 1.0
      description: "Validation score"

examples:
  good:
    - input:
        definitie: "proces dat gegevens verzamelt voor analyse"
        begrip: "dataverzamelingsproces"
      expected:
        success: true
        score: 1.0
        message_pattern: "✔️.*ARAI02.*goed voorbeeld"

    - input:
        definitie: "activiteit die gericht is op toezicht"
        begrip: "toezichtactiviteit"
      expected:
        success: true
        score: 1.0

  bad:
    - input:
        definitie: "proces ter ondersteuning"
        begrip: "ondersteuningsproces"
      expected:
        success: false
        score: 0.0
        message_pattern: "❌.*ARAI02.*containerb begrippen"

    - input:
        definitie: "activiteit binnen het systeem"
        begrip: "systeemactiviteit"
      expected:
        success: false
        score: 0.0

generation_hints:
  - "Concretiseer containerbegrippen met specificaties"
  - "Voeg 'dat', 'die', 'van' toe na proces/activiteit/systeem"
  - "Vermijd vage termen zoals aspect, element zonder context"
  - "Maak explicieet wat het proces/systeem/activiteit doet"

test_cases:
  - name: "valid_process_with_specification"
    input:
      definitie: "proces dat identiteitsgegevens verifieert"
      begrip: "verificatieproces"
    expected:
      success: true
      score: 1.0

  - name: "invalid_bare_container_term"
    input:
      definitie: "proces voor de organisatie"
      begrip: "organisatieproces"
    expected:
      success: false
      score: 0.0

performance:
  max_execution_time_ms: 50
  complexity: "O(n)"
  memory_usage: "O(1)"
