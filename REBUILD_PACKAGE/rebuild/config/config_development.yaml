# Development Environment Configuration
# Purpose: Development-specific settings, debug flags, mock services
version: "2.0"
created: "2025-10-02"
updated: "2025-10-02"
description: "Development environment configuration with references to specialized config files"

# Import other configuration files
imports:
  - "openai_config.yaml"
  - "cache_config.yaml"
  - "logging_config.yaml"
  - "web_lookup_defaults.yaml"
  - "approval_gate.yaml"
  - "validation/rule_reasoning_config.yaml"
  - "ontology/category_patterns.yaml"
  - "toetsregels/toetsregels_config.yaml"

# API Configuration (now references openai_config.yaml)
api:
  default_model: "gpt-4o-mini"
  default_temperature: 0.9  # Higher creativity in development
  default_max_tokens: 300
  request_timeout: 60.0
  max_retries: 5
  retry_backoff_factor: 1.5

  # Model settings - see openai_config.yaml for full details
  model_settings:
    gpt-4:
      temperature: 0.01
      max_tokens: 300
      cost_per_token: 0.00003
    gpt-4.1:
      temperature: 0.0
      max_tokens: 300
      cost_per_token: 0.00003

  # API key (use environment variable OPENAI_API_KEY)
  openai_api_key: "your-api-key-here"

# Cache Configuration (now references cache_config.yaml)
cache:
  enabled: true
  cache_dir: "cache"
  default_ttl: 600
  definition_ttl: 3600
  examples_ttl: 1800
  synonyms_ttl: 7200
  validation_ttl: 900
  max_cache_size: 500
  cleanup_interval: 120

# Logging Configuration (now references logging_config.yaml)
logging:
  level: "DEBUG"
  console_enabled: true
  file_enabled: true
  log_file: "logs/definitie_agent_dev.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"
  max_log_size: 10485760  # 10 MB
  backup_count: 5

  # Module-specific levels - see logging_config.yaml for full list
  module_levels:
    definitie_agent: "DEBUG"
    openai: "INFO"
    requests: "INFO"
    urllib3: "INFO"

# Rate Limiting Configuration
rate_limiting:
  enabled: true
  requests_per_minute: 120
  requests_per_hour: 5000
  tokens_per_second: 2.0
  max_concurrent: 15
  bucket_capacity: 15
  adjustment_factor: 0.2
  min_rate: 0.1
  max_rate: 10.0
  target_response_time: 3.0

  priority_weights:
    critical: 1.0
    high: 0.8
    normal: 0.6
    low: 0.4
    background: 0.2

# Resilience Configuration
resilience:
  enabled: true
  base_delay: 0.5
  max_delay: 15.0
  max_retries: 5
  failure_threshold: 2
  recovery_timeout: 15.0
  retry_strategy: "adaptive"
  enable_fallback: true
  fallback_cache_duration: 300.0
  health_check_interval: 15.0
  persist_failed_requests: true
  degraded_threshold: 0.9
  unhealthy_threshold: 0.7

# Monitoring Configuration
monitoring:
  enabled: true
  health_check_interval: 15
  metrics_interval: 30
  collect_metrics: true
  export_metrics: true
  response_time_threshold: 10.0
  error_rate_threshold: 0.2
  cost_calculation_interval: 120
  cost_threshold_daily: 5.0
  cost_threshold_monthly: 50.0

  openai_pricing:
    gpt-4: 0.03
    gpt-4.1: 0.03

# Security Configuration
security:
  enabled: true
  api_key_validation: true
  require_api_key: true
  validate_inputs: true
  sanitize_inputs: true
  max_input_length: 15000
  detect_sql_injection: true
  detect_xss: true
  detect_path_traversal: true
  security_rate_limit: 200
  block_duration: 60

# Validation Configuration (now references validation/rule_reasoning_config.yaml)
validation:
  enabled: true
  strict_mode: false
  min_definition_length: 5
  max_definition_length: 1000
  max_text_length: 15000
  max_validation_errors: 20

  # Allowed validation rules - see toetsregels/toetsregels_config.yaml
  allowed_toetsregels:
    - CON-01
    - CON-02
    - ESS-01
    - ESS-02
    - ESS-04
    - ESS-05
    - INT-01
    - INT-02
    - INT-03
    - INT-04
    - INT-06
    - INT-07
    - INT-08
    - SAM-01
    - SAM-05
    - SAM-07
    - STR-01
    - STR-02
    - STR-03
    - STR-04
    - STR-05
    - STR-06
    - STR-07
    - STR-08
    - STR-09
    - ARAI01
    - ARAI02
    - ARAI02SUB1
    - ARAI02SUB2
    - ARAI03
    - ARAI04
    - ARAI04SUB1
    - ARAI05
    - ARAI06

# UI Configuration
ui:
  page_title: "DefinitieAgent"
  page_icon: "ðŸ§ "
  sidebar_width: 300

  # Organizational contexts
  organizational_contexts:
    - OM
    - ZM
    - Reclassering
    - DJI
    - NP
    - Justid
    - KMAR
    - FIOD
    - CJIB
    - Strafrechtketen
    - Migratieketen
    - Justitie en Veiligheid
    - Anders...

  # Legal contexts
  legal_contexts:
    - Strafrecht
    - Civiel recht
    - Bestuursrecht
    - Internationaal recht
    - Anders...

  # Common laws
  common_laws:
    - "Wetboek van Strafrecht (Sr)"
    - "Wetboek van Strafvordering (Sv) â€” huidig"
    - "Wetboek van Strafvordering (Sv) â€” toekomstig"
    - "Algemene wet bestuursrecht (Awb)"
    - "Burgerlijk Wetboek (BW)"
    - "Algemene verordening gegevensbescherming (AVG)"
    - "Wet politiegegevens (Wpg)"
    - "Wet op de identificatieplicht (Wid)"
    - "Anders..."

  # Abbreviations
  afkortingen:
    DJI: "Dienst JustitiÃ«le Inrichtingen"
    OM: "Openbaar Ministerie"
    ZM: "Zittende Magistratuur"
    NP: "Nederlands Politie"
    KMAR: "Koninklijke Marechaussee"
    CJIB: "Centraal Justitieel Incassobureau"
    FIOD: "Fiscale Inlichtingen- en Opsporingsdienst"
    Justid: "Dienst JustitiÃ«le Informatievoorziening"
    AVG: "Algemene verordening gegevensbescherming"
    3RO: "Samenwerkingsverband Reclasseringsorganisaties"

  # Chain partners
  ketenpartners:
    - ZM
    - DJI
    - KMAR
    - CJIB
    - JUSTID
    - OM
    - Politie
    - Reclassering
    - Halt
    - Raad voor de Kinderbescherming

# File Paths
paths:
  base_dir: "."
  config_dir: "config"
  cache_dir: "cache"
  logs_dir: "logs"
  exports_dir: "exports"
  reports_dir: "reports"
  toetsregels_file: "src/toetsregels/regels"
  verboden_woorden_file: "config/verboden_woorden.json"
  context_mapping_file: "config/context_wet_mapping.json"
  rate_limit_history_file: "cache/rate_limit_history.json"

# Development-specific settings
development:
  # Debug flags
  debug_mode: true
  verbose_logging: true
  show_debug_info: true
  enable_profiling: false

  # Mock services
  mock_services:
    enabled: false
    mock_ai_service: false
    mock_web_lookup: false
    mock_database: false

  # Test data
  test_data:
    use_synthetic: false
    seed_data: true
    baseline_definitions: 42

  # Hot reload
  hot_reload: true
  auto_refresh: false

  # Error handling
  show_error_details: true
  raise_on_error: false
  fail_fast: false

# Feature flags
features:
  web_lookup: true
  category_classification: true
  duplicate_detection: true
  validation_orchestrator_v2: true
  approval_gate: true
  export_functionality: true
  regeneration_service: true

# Database configuration
database:
  path: "data/definities.db"
  timeout: 30.0
  check_same_thread: false
  isolation_level: null

# Environment identification
environment: "development"
