---
id: US-020
epic: EPIC-003
titel: Web Lookup fallback & timeouts + provenance‑afdwinging
status: Nog te bepalen
prioriteit: HOOG
story_points: 5
sprint: sprint-37
owner: integrations-engineer
applies_to: definitie-app@current
canonical: false
last_verified: 2025-09-12
links:
  - docs/backlog/DEEP_DIVE_IMPROVEMENT_PLAN.md#web-lookup
---

# US-020: Web Lookup fallback & timeouts + provenance‑afdwinging

## Gebruikersverhaal
Als integratie‑engineer wil ik dat web lookup robuust is met fallbacks en strikte provenance, zodat verrijking betrouwbaar en verifieerbaar is.

## Acceptatiecriteria (SMART)
- Specifiek: timeouts per provider (config), retry policy met backoff, fallback volgorde, en verplicht `provenance` bij elke augmentatie.
- Meetbaar: p95 bronselectie < 300ms; 0 onopgevangen exceptions bij 404/timeout; ≥1 authoritative bron in top‑N indien beschikbaar.
- Tijdgebonden: sprint‑37.

## Testplan
- tests/web_lookup/test_timeouts_fallbacks.py – simuleer 404/timeout; asserts op fallback en logs.
- tests/web_lookup/test_provenance_required.py – geen augmentatie zonder provenance.

## Definition of Done
- Config documentatie in `docs/technisch/web_lookup_config.md` geüpdatet.

