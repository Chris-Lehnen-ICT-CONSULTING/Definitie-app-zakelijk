[pytest]
# Centrale pytest-configuratie voor het hele project

# Waar pytest je tests vindt
testpaths = tests

# Voeg 'src' toe aan sys.path
pythonpath = src

# Async test mode voor pytest-asyncio
asyncio_mode = auto

# Bestands- en naamgevingspatronen
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Exclude directories from test discovery
norecursedirs = archived .git __pycache__ .pytest_cache .ruff_cache

# Optionele extra flags:
# -ra  show extra summary info for skipped, xfailed, etc.
# -q   quiet(er) output
addopts = -ra -q --strict-markers
xfail_strict = true

# Custom markers voor test suites
markers =
    asyncio: Async tests (pytest-asyncio)
    golden: Golden tests for business logic preservation
    regression: Regression tests for backward compatibility
    performance: Performance tests for overhead validation
    benchmark: Benchmark tests (pytest-benchmark)
    unit: Unit tests for component testing
    acceptance: Acceptance tests for end-to-end validation
    red_phase: TDD RED phase tests
    antipattern: Tests that ensure anti-patterns are blocked
    ontological_category: Ontology category specific tests
    integration: Integration tests (container/wiring/orchestrators)
    contract: Contract/schema compliance tests
    smoke: Minimal happy-path smoke tests
    smoke_web_lookup: Web Lookup smoke tests (mocked, fast)
    slow: Slow-running tests excluded from default runs
    tdd: TDD tests expected to fail until implemented
    flaky: Flaky tests that may fail intermittently
    baseline: Baseline validation tests for EPIC-026 rebuild (require OLD system)
    parity: Parity tests comparing OLD vs NEW system (100% match required)
