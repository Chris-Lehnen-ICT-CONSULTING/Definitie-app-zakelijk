# Production Environment Configuration
# Settings optimized for production deployment

# API Configuration - Production settings
api:
  default_temperature: 0.01  # Maximum consistency in production
  request_timeout: 30.0  # Standard timeout
  max_retries: 3  # Conservative retries

# Cache Configuration - Production settings
cache:
  enabled: true
  default_ttl: 3600  # Longer TTL for production (1 hour)
  max_cache_size: 2000  # Larger cache for production
  cleanup_interval: 600  # Less frequent cleanup
  
  # Optimized TTLs for production
  definition_ttl: 7200  # 2 hours
  examples_ttl: 3600   # 1 hour
  synonyms_ttl: 14400  # 4 hours
  validation_ttl: 1800  # 30 minutes

# Monitoring Configuration - Production settings
monitoring:
  enabled: true
  collect_metrics: true
  export_metrics: true
  
  # Production thresholds
  error_rate_threshold: 0.05
  response_time_threshold: 3.0
  cost_threshold_daily: 20.0
  cost_threshold_monthly: 500.0
  
  # Standard monitoring intervals
  metrics_interval: 60
  health_check_interval: 30
  cost_calculation_interval: 300

# Logging Configuration - Production settings
logging:
  level: "INFO"
  console_enabled: false  # Disable console in production
  file_enabled: true
  log_file: "log/definitie_agent_prod.log"
  max_log_size: 52428800  # 50MB
  backup_count: 10
  
  # Minimal logging in production
  module_levels:
    openai: "ERROR"
    urllib3: "ERROR"
    requests: "ERROR"
    definitie_agent: "INFO"

# Rate Limiting Configuration - Production settings
rate_limiting:
  enabled: true
  
  # Production rate limits
  requests_per_minute: 30
  requests_per_hour: 1000
  max_concurrent: 5
  
  # Conservative rate limiting
  tokens_per_second: 0.5
  bucket_capacity: 5
  target_response_time: 1.5
  adjustment_factor: 0.05
  min_rate: 0.1
  max_rate: 2.0

# Resilience Configuration - Production settings
resilience:
  enabled: true
  
  # Production retry settings
  max_retries: 3
  base_delay: 1.0
  max_delay: 60.0
  retry_strategy: "adaptive"
  
  # Stable circuit breaker
  failure_threshold: 5
  recovery_timeout: 60.0
  
  # Standard health monitoring
  health_check_interval: 30.0
  degraded_threshold: 0.8
  unhealthy_threshold: 0.5
  
  # Production fallback settings
  enable_fallback: true
  fallback_cache_duration: 600.0
  persist_failed_requests: true

# Security Configuration - Production settings
security:
  enabled: true
  
  # Strict validation in production
  validate_inputs: true
  sanitize_inputs: true
  max_input_length: 8000
  
  # API security
  require_api_key: true
  api_key_validation: true
  
  # Strict rate limiting for security
  security_rate_limit: 50
  block_duration: 600  # 10 minutes
  
  # All threat detection enabled
  detect_xss: true
  detect_sql_injection: true
  detect_path_traversal: true

# Validation Configuration - Production settings
validation:
  enabled: true
  strict_mode: true  # Strict validation in production
  
  # Production limits
  max_text_length: 8000
  min_definition_length: 10
  max_definition_length: 300
  max_validation_errors: 5
