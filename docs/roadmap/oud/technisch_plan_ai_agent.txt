Titel: Promptoptimalisatie + Slimme contextinjectie (RAG)
Versie: v1.0
Status: Klaar voor implementatie
Doel: AI-definities genereren die voldoen aan prioritaire toetsregels, met betere context en uitleg.

1. Promptoptimalisatie (Prompt Engineering)

Doel:
Maak de GPT-prompt explicieter, zodat de AI:
- Begrijpt wat een goede definitie is
- Slechte formuleringen vermijdt
- De toetsregels toepast zoals bedoeld

Taken:
- Voeg minimaal 3 goede en 3 foute voorbeelden toe aan de prompt
- Specificeer instructies als: “Vermijd containertermen zoals 'optimaal', 'belangrijk'...”
- Benoem de toetsregels bij naam en ID in de prompt (zoals STR-01)
- Voeg uitlegprompt toe: “Licht toe hoe deze definitie voldoet aan STR-01, CON-01...”

2. Slimme contextinjectie (RAG)

Doel:
Verbeter achtergrondinformatie via:
- Bronselectie op relevantie
- Samenvatting van contextinfo
- Beperkte tokenruimte met hoge informatiedichtheid

Taken:
- Breid web_lookup.py uit met bronprioritering (wetten > overheid.nl > wiki)
- Voeg automatische samenvatter toe
- Max 800 tokens aan context
- Minimale contexthits (2+) vereist voor opname

3. Promptintegratie in bouw_prompt()

Taken:
- Splits prompt in: taakomschrijving, context, regels, bronnen, instructies
- Voeg uitlegprompt toe (optioneel): “Waarom voldoet deze definitie aan STR-01?”

4. Testplan

Testcriteria:
- Eén zin
- Contextspecifiek (CON-01)
- Begrijpelijk voor juridisch-beleidsmatig gebruik

Testsets:
- Begrippen: sanctie, beoordeling, afhandeling, hergebruik, gegevensverstrekking
- Evaluatie: ✔️ per toetsregel, herformuleringen nodig?

5. Betrokken bestanden

- definitie_agent_webinterface_logging.py: aanpassing prompt
- web_lookup.py: bronselectie en samenvatting
- toetsregels.json: optioneel toevoegen voorbeelden

6. Planning (inschatting)

- Promptverbetering: 1 dag
- web_lookup uitbreiden: 1 dag
- Samenvatting integreren: 0,5 dag
- Testen en finetunen: 1 dag
Totaal: ~3,5 dagen
