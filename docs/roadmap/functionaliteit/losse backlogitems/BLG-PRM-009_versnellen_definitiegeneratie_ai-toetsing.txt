ğŸ“ Backlogitem: Versnellen van definitiegeneratie en AI-toetsing

ğŸ¯ Doel:
Verkort de wachttijd voor gebruikers bij het genereren en toetsen van definities door optimalisatie van AI-calls, caching van regels en betere controle over UI-opties.

ğŸ“Œ Aanleiding:
Gebruikers ervaren momenteel een lange wachttijd (45â€“60 seconden) bij het genereren en toetsen van definities. Dit frustreert iteratief werken en leidt tot onnodige kosten bij gebruik van GPT-4.

ğŸ” Probleem:
- AI-aanroepen worden momenteel sequentieel uitgevoerd.
- GPT-4 is relatief traag vergeleken met gpt-4o of gpt-3.5.
- Elke actie laadt toetsregels opnieuw i.p.v. te cachen.
- Geen mogelijkheid om optionele onderdelen (zoals voorbeelden of toelichting) uit te schakelen.

ğŸ“ˆ Impact:
- Gebruikers haken sneller af bij meerdere definities.
- Hogere kosten bij OpenAI-gebruik.
- Slechtere UX voor iteratief verbeteren.

ğŸ› ï¸ Taken:
- Meet de verwerkingstijd per fase (generatie, toelichting, toetsing).
- Implementeer `asyncio.gather()` of `ThreadPoolExecutor` voor parallelle AI-aanroepen.
- Introduceer UI-toggles:  
  - "âš™ï¸ Alleen definitie genereren"  
  - "âš™ï¸ Inclusief toelichting en voorbeelden"
- Vervang `GPT-4` door `gpt-4o` of `gpt-3.5-turbo` als standaardoptie.
- Cache toetsregels na eerste parse in geheugen.
- Voeg in Streamlit een statusindicator toe ("â³ Definitie wordt opgesteld...").

ğŸ§ª Tests:
- Tijdmetingen worden gelogd per fase.
- Meerdere async-taken worden in <5s afgehandeld.
- UI-toggles schakelen effectief logica uit.
- Er is geen regressie in output of foutafhandeling.

âœ… Acceptatiecriteria:
- Totale laadtijd per definitie â‰¤ 15 seconden.
- Logging bevat tijd per AI-fase.
- Gebruiker kan AI-deelprocessen afzonderlijk in-/uitschakelen.
- Geen foutmeldingen bij wisselen van model of bij caching.

ğŸ“¦ Bestand(en):
- definitie_agent_webinterface_logging.py
- ai_toetser.py
- config/.env of settings.py

ğŸ‘¥ Betrokkenen:
- Ontwikkelaar
- Product Owner

â±ï¸ Prioriteit: Hoog
ğŸ—“ï¸ Sprint: 4
ğŸ†” ID: BLG-PRM-009
ğŸ“… Datum: 2025-06-10
ğŸ“Œ Status: in progress