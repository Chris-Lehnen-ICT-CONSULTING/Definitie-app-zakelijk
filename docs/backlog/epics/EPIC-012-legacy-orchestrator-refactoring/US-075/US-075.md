# US-075: Centraliseer async/sync-bridging in UI-laag

## Story Overview
**ID**: US-075
**Epic**: EPIC-012 - Legacy Orchestrator Refactoring
**Status**: TODO
**Priority**: HIGH
**Points**: 5

## User Story
Als developer wil ik één centrale async-bridge zodat `asyncio.run`, `run_coroutine_threadsafe`, `new_event_loop()` en `run_until_complete` niet verspreid zijn en we geen nested loops krijgen.

## Business Context
Verspreide bridging verhoogt risico op event loop fouten en complexiteit. V2-services zijn async-first; UI heeft sync-paden. Een centrale helper in UI voorkomt fragmentatie.

## Acceptance Criteria
- [ ] Eén UI-helper voor async-calls (met loop-detectie, thread-safe submit)
- [ ] Alle verspreide bridging-calls vervangen door helper
- [ ] Geen nested event loop errors in tests/logs

## Technical Implementation
- Introduceer `ui/async_bridge.py` met functies:
  - `run_async(coro)` (detecteert loop; gebruikt `run_coroutine_threadsafe` of `asyncio.run` veilig)
  - Optioneel scheduler voor batch-taken
- Refactor call-sites (service_factory, prompt_service_v2 sync-entry, export_service, UI componenten).

## Testing Requirements
- Unit tests voor helper (loop aanwezig/afwezig).
- Integratietests voor UI flow zonder loop-errors.

## Migration Plan
1. Helper implementeren.
2. Geleidelijke vervanging call-sites.
3. Verwijder legacy bridging-snippets.

## Dependencies
- `services/service_factory.py`, `services/prompts/prompt_service_v2.py`, `services/export_service.py`, UI componenten.

## Definition of Done
- [ ] Eén helper in gebruik
- [ ] Geen losse bridging meer
- [ ] Tests groen
