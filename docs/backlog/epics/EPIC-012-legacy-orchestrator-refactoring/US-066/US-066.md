# US-066: Verwijder Legacy DefinitieAgent uit Integratie en UI

## User Story
**Als** ontwikkelaar
**Wil ik** de legacy DefinitieAgent adapter volledig vervangen door V2 services
**Zodat** er één consistente dataflow is voor context en voorbeelden (EPIC-010 alignment)

## Context
De DefinitieAgent is een legacy adapter die V2 wrapt in een V1-achtig interface. Dit wordt nog gebruikt door:
- `src/integration/definitie_checker.py` (regels 205, 255)
- `src/ui/components/orchestration_tab.py` (regel 48)

Dit zorgt voor inconsistenties in context mapping en voorbeelden generatie ten opzichte van de V2 hoofdflow.

## Acceptatiecriteria
- [ ] `definitie_checker.py` gebruikt uitsluitend V2 service via `get_definition_service()`
- [ ] Orchestration tab gebruikt V2 orchestrator direct of is gemarkeerd als deprecated
- [ ] Geen imports meer naar `orchestration.definitie_agent`
- [ ] Alle tests blijven groen
- [ ] Context en voorbeelden consistent met hoofdflow UI

## Technische Details

### Huidige Situatie
```python
# integration/definitie_checker.py
from orchestration.definitie_agent import DefinitieAgent
self.agent = DefinitieAgent()
agent_result = self.agent.generate_definition(...)  # Legacy pad
```

### Target Situatie
```python
# integration/definitie_checker.py
from services.service_factory import get_definition_service
self.service = get_definition_service()
result = self.service.generate_definition(...)  # V2 pad
```

### Impacted Files
1. `src/integration/definitie_checker.py`
   - Vervang DefinitieAgent instantiatie
   - Update generate_definition calls
   - Aanpassen result handling (dict vs object)

2. `src/ui/components/orchestration_tab.py`
   - Optie 1: Migreer naar V2 orchestrator
   - Optie 2: Markeer als deprecated met feature flag
   - Optie 3: Verwijder tab volledig

3. `src/orchestration/definitie_agent.py`
   - Kan gearchiveerd worden na migratie
   - Business logica eerst extraheren (zie US-062)

## Dependencies
- US-062: FeedbackBuilder business logica moet eerst geëxtraheerd zijn
- US-043: Onderdeel van legacy routes removal (EPIC-010)

## Risico's
- Integratie tests kunnen falen door contract verschillen
- UI gedrag kan subtiel wijzigen (iteraties vs single-pass)

## Verificatie
1. Run integration tests
2. Test checker met verschillende begrippen
3. Verify context mapping identiek aan UI flow
4. Check voorbeelden generatie consistent

## Story Points: 5

## Priority: HIGH

## Sprint: TBD
