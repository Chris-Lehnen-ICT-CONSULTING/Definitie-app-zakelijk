---
id: US-031
epic: EPIC-006
titel: CI‑security: Secrets‑scan en dependency‑audit (pip‑audit/safety)
status: Nog te bepalen
prioriteit: HOOG
story_points: 3
sprint: sprint-37
owner: devops-engineer
applies_to: definitie-app@current
canonical: false
last_verified: 2025-09-12
vereisten:
  - REQ-006
links:
  - docs/backlog/DEEP_DIVE_IMPROVEMENT_PLAN.md#testing--cicd
---

# US-031: CI‑security: Secrets‑scan en dependency‑audit (pip‑audit/safety)

## Gebruikersverhaal
Als DevOps engineer wil ik secrets‑scans en dependency‑audits in CI, zodat lekken en kwetsbaarheden vroegtijdig worden gedetecteerd.

## Acceptatiecriteria (SMART)
- Specifiek: GitHub Actions job(s) voor detect‑secrets/ggshield en pip‑audit/safety.
- Meetbaar: pipeline faalt bij High severity; rapporten geüpload als artifacts.
- Acceptabel: extra jobtijd < 2m gemiddeld.
- Relevant: REQ‑006.
- Tijdgebonden: sprint‑37.

## Implementatienotities
- Workflow `.github/workflows/security.yml` met 2 jobs: `secrets-scan`, `deps-audit`.
- baseline file voor detect‑secrets in repo om false positives te whitelisten.

## Testplan
- E2E: maak een testbranch met dummy secret → job moet falen.
- E2E: forceer kwetsbare dependency in virtualenv → audit moet detecteren.

## Definition of Done
- Jobs draaien op PR en main; badge/README sectie “Security Status” geüpdatet.

