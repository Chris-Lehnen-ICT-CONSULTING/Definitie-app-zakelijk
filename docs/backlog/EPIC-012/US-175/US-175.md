---
id: US-175
titel: Legacy Orchestrator isoleren (V2-only hoofdflow)
epic: EPIC-012
status: TODO
prioriteit: HIGH
story_points: 5
sprint: 2025-09
type: refactor
applies_to: definitie-app@current
canonical: true
owner: core-services
---

# US-175: Legacy Orchestrator isoleren (V2-only hoofdflow)

Doel: legacy orchestrator (`src/orchestration/definitie_agent.py`) volledig buiten runtime-pad; UI hoofdflow V2-only.

## Scope
- Archiveer/relocate legacy orchestrator naar `src/legacy/` of document-only pad.
- `src/ui/**`: verwijder `best_iteration`-fallbacks buiten demo-tab.
- `src/ui/components/orchestration_tab.py`: strikt achter feature flag; gebruikt eigen data, los van hoofdflow.

## Acceptatiecriteria
- `rg -n "\bbest_iteration\b" src | grep -v 'src/ui/components/orchestration_tab.py'` â†’ 0 matches
- Geen runtime import van `definitie_agent.py` in hoofdflow.

## Taken
1) Verplaats legacy orchestrator; update imports.
2) UI: verwijder fallbacks; houd demo-tab achter flag.
3) Update documentatie (korte notitie in EPIC-012 en README badge V2-only).

## Testplan
- Smoke: UI hoofdflow met V2-responses (definitie_gecorrigeerd/validation_details/voorbeelden/metadata) rendert zonder exceptions.
- Regex-acceptatie (zie boven) in CI.

