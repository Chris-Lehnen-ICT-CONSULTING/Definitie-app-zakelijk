
<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EPIC-001 - EPIC-001-basis-definitie-generatie</title>
  <link rel="stylesheet" href="../assets/style.css" />
</head>
<body>
  <div class="container">
    <div class="breadcrumbs"><a href="../index.html">Requirements</a> / <span>EPIC-001</span></div>
    <h1>EPIC-001: EPIC-001-basis-definitie-generatie</h1>
    <div><h1>EPIC-001: Basis Definitie Generatie</h1>

<h2>Managementsamenvatting</h2>

<p>Kernfunctionaliteit voor het genereren van juridische definities met GPT-4. Deze epic dekt de basis van het DefinitieAgent systeem, waarmee geautomatiseerde generatie van Nederlandse juridische definities met AI-ondersteuning mogelijk wordt.</p>

<h2>Bedrijfswaarde</h2>

<ul>
<li>**Primaire Waarde**: Geautomatiseerde generatie van hoogwaardige juridische definities</li>
<li>**Tijdsbesparing**: Reduceert definitiecreatie van uren naar seconden</li>
<li>**Kwaliteit**: Consistente toepassing van juridische terminologiestandaarden</li>
<li>**Compliance**: ASTRA/NORA/BIR compliant vanaf het begin</li>
</ul>

<h2>Succesmetrieken</h2>

<ul>
<li>✅ Definitiegeneratie responstijd < 5 seconden</li>
<li>✅ 95% nauwkeurigheid in gebruik juridische terminologie</li>
<li>✅ Geen hardcoded configuratiewaarden</li>
<li>✅ 100% omgevingsgebaseerde configuratie</li>
</ul>

<h2>Traceability Matrix</h2>

<h3>Vereisten → Gebruikersverhalen</h3>

<p>| Requirement | Gebruikersverhaal | Beschrijving | Status |</p>
<p>|------------|------------|--------------|--------|</p>
<p>| REQ-018 | US-001 | GPT-4 integratie voor definitiegeneratie | ✅ Voltooid |</p>
<p>| REQ-038 | US-001, US-002 | Context-aware prompting | ✅ Voltooid |</p>
<p>| REQ-059 | US-003 | Prompt template management | ✅ Voltooid |</p>
<p>| REQ-078 | US-001, US-004 | Response tijd < 5 seconden | ✅ Voltooid |</p>
<p>| REQ-079 | US-001, US-005 | 95% nauwkeurigheid | ✅ Voltooid |</p>
<p>| REQ-082 | US-002 | Omgevingsconfiguratie | ✅ Voltooid |</p>

<h3>Gebruikersverhalen → Implementatie</h3>

<p>| Gebruikersverhaal | Component | Module | Test Coverage |</p>
<p>|------------|-----------|--------|---------------|</p>
<p>| US-001 | UnifiedDefinitionGenerator | src/services/definition_generator.py | 99% |</p>
<p>| US-002 | ServiceContainer | src/services/container.py | 95% |</p>
<p>| US-003 | PromptServiceV2 | src/services/prompt_service_v2.py | 92% |</p>
<p>| US-004 | Prestaties optimalisatie | Multiple modules | 88% |</p>
<p>| US-005 | ValidationOrchestratorV2 | src/services/validation/validation_orchestrator_v2.py | 98% |</p>

<h2>ASTRA/NORA Compliance</h2>

<h3>ASTRA Richtlijnen</h3>
<ul>
<li>✅ **Modulaire architectuur**: Service-oriented design met dependency injection</li>
<li>✅ **Herbruikbaarheid**: Generieke services voor alle justitieketens</li>
<li>✅ **Schaalbaarheid**: Horizontaal schaalbaar via container deployment</li>
<li>✅ **Beveiliging**: API key management via environment variables</li>
</ul>

<h3>NORA Principes</h3>
<ul>
<li>✅ **NP01 - Proactief**: Anticipeert op toekomstige behoeften met extensible architecture</li>
<li>✅ **NP02 - Vindbaar**: Alle definities doorzoekbaar en categoriseerbaar</li>
<li>✅ **NP03 - Toegankelijk**: Web-based interface, platform-onafhankelijk</li>
<li>✅ **NP04 - Standaarden**: Gebruikt open standaarden (REST, JSON, SQLite)</li>
<li>✅ **NP05 - Gebundeld**: Eén systeem voor alle justitiepartners</li>
</ul>

<h2>Gebruikersverhalen Overzicht</h2>

<h3>US-001: Basic Definition Generation via GPT-4 ✅</h3>
<p>**Status:** GEREED</p>
<p>**Prioriteit:** HOOG</p>
<p>**Verhaalpunten:** 8</p>

<p>**Gebruikersverhaal:**</p>
<p>Als juridisch medewerker bij het OM/DJI/Rechtspraak</p>
<p>wil ik to generate definitions using AI</p>
<p>zodat I can quickly create consistent juridische definities</p>

<p>**Implementatie:**</p>
<ul>
<li>Core generator in `src/services/definition_generator.py`</li>
<li>OpenAI integration via `src/services/ai_service_v2.py`</li>
<li>Full GPT-4 support with temperature control</li>
</ul>

<h3>US-002: Prompt Template System ✅</h3>
<p>**Status:** GEREED</p>
<p>**Prioriteit:** HOOG</p>
<p>**Verhaalpunten:** 5</p>

<p>**Gebruikersverhaal:**</p>
<p>Als systeembeheerder binnen de justitieketen</p>
<p>wil ik configurable prompt templates</p>
<p>zodat prompts can be adjusted without code Wijzigingen</p>

<p>**Implementatie:**</p>
<ul>
<li>Modular prompt service: `src/services/prompt_service_v2.py`</li>
<li>Template configuration in `config/prompts/`</li>
<li>Context-aware template selection</li>
</ul>

<h3>US-003: V1 Orchestrator Elimination ✅</h3>
<p>**Status:** GEREED</p>
<p>**Prioriteit:** HOOG</p>
<p>**Verhaalpunten:** 13</p>

<p>**Gebruikersverhaal:**</p>
<p>Als ontwikkelaar binnen de justitieketen</p>
<p>wil ik a single, modern orchestration system</p>
<p>zodat the codebase is maintainable and consistent</p>

<p>**Implementatie:**</p>
<ul>
<li>V2 orchestrator fully operational</li>
<li>V1 code removed from production paths</li>
<li>Migration Voltooid 04-09-2025</li>
</ul>

<h3>US-004: AI Configuration System via ConfigManager ✅</h3>
<p>**Status:** GEREED</p>
<p>**Prioriteit:** GEMIDDELD</p>
<p>**Verhaalpunten:** 5</p>

<p>**Gebruikersverhaal:**</p>
<p>Als systeembeheerder binnen de justitieketen</p>
<p>wil ik component-specific AI configuration</p>
<p>zodat each component can have optimized settings</p>

<p>**Implementatie:**</p>
<ul>
<li>ConfigManager in `src/config/config_manager.py`</li>
<li>Component configs in `config/ai/components/`</li>
<li>Dynamic configuration loading</li>
</ul>

<h3>US-005: Centralized AI Model Configuration ✅</h3>
<p>**Status:** GEREED</p>
<p>**Prioriteit:** GEMIDDELD</p>
<p>**Verhaalpunten:** 3</p>

<p>**Gebruikersverhaal:**</p>
<p>Als ontwikkelaar binnen de justitieketen</p>
<p>wil ik centralized model configuration</p>
<p>zodat there are no hardcoded defaults</p>

<p>**Implementatie:**</p>
<ul>
<li>All models defined in configuration</li>
<li>Environment variable overrides supported</li>
<li>No hardcoded "gpt-4" strings remain</li>
</ul>

<h2>Afhankelijkheden</h2>

<ul>
<li>OpenAI API access (GPT-4)</li>
<li>Environment configuration system</li>
<li>Validation framework (Episch Verhaal 2)</li>
</ul>

<h2>Risico's & Mitigaties</h2>

<p>| Risk | Impact | Mitigation |</p>
<p>|------|--------|------------|</p>
<p>| API Rate Limits | HOOG | Implemented rate limiting and retry logic |</p>
<p>| Model Wijzigingen | GEMIDDELD | Abstracted model selection via config |</p>
<p>| Cost Overruns | GEMIDDELD | Token usage monitoring geïmplementeerd |</p>

<h2>Technische Architectuur</h2>

<pre class=code><code>
User Input → UI Layer → Generation Request
                ↓
        ServiceContainer
                ↓
    UnifiedDefinitionGenerator
                ↓
    PromptServiceV2 + AIServiceV2
                ↓
            GPT-4 API
                ↓
        Generated Definition
</code></pre>

<h2>testdekking</h2>

<ul>
<li>Unit Tests: 95% coverage</li>
<li>Integration Tests: Complete</li>
<li>E2E Tests: Automated via CI/CD</li>
<li>Prestaties Tests: < 5s response validatied</li>
</ul>

<h2>Compliance Notities</h2>

<h3>ASTRA Compliance</h3>
<ul>
<li>✅ Service-oriented architecture</li>
<li>✅ Loose coupling via interfaces</li>
<li>✅ Configuration externalization</li>
<li>✅ Audit logging geïmplementeerd</li>
</ul>

<h3>NORA Standards</h3>
<ul>
<li>✅ Government IT architecture principles</li>
<li>✅ beveiliging by design</li>
<li>✅ Privacy protection measures</li>
<li>✅ Accessibility standards</li>
</ul>

<h2>Definitie van Gereed</h2>

<ul>
<li>[x] All user stories Voltooid</li>
<li>[x] testdekking > 90%</li>
<li>[x] Prestaties benchmarks met</li>
<li>[x] beveiliging review passed</li>
<li>[x] Documentatie compleet</li>
<li>[x] ASTRA/NORA/BIR compliance verified</li>
<li>[x] productie deployment successful</li>
</ul>

<h2>Wijzigingslog</h2>

<p>| Datum | Versie | Wijzigingen |</p>
<p>|-------|--------|-------------|</p>
<p>| 01-01-2025 | 1.0 | Episch Verhaal aangemaakt |</p>
<p>| 05-09-2025 | 1.x | Vertaald naar Nederlands met justitie context |</p>
<p>| 04-09-2025 | 1.1 | V1 orchestrator geëlimineerd |</p>
<p>| 05-09-2025 | 1.2 | Gemarkeerd als 100% voltooid |</p>
<p>| 05-09-2025 | 1.3 | Vertaald naar Nederlands met justitie context |</p>

<h2>Gerelateerde Documentatie</h2>

<ul>
<li>[Solution Architecture](../architectuur/SOLUTION_ARCHITECTURE.md)</li>
<li>[Technische Architectuur](../architectuur/TECHNICAL_ARCHITECTURE.md)</li>
<li>[Validation Orchestrator V2](../archief/2025-09-architectuur-consolidatie/misc/validation_orchestrator_v2.md)</li>
</ul>

<h2>Stakeholder Goedkeuring</h2>

<ul>
<li>Business Eigenaar: ✅ Goedgekeurd (04-09-2025)</li>
<li>Technisch Lead: ✅ Goedgekeurd (04-09-2025)</li>
<li>beveiliging Officer: ✅ Goedgekeurd (04-09-2025)</li>
<li>Compliance Officer: ✅ Goedgekeurd (04-09-2025)</li>
</ul>


<p>*This epic is part of the DefinitieAgent project and folLAAGs ASTRA/NORA/BIR guidelines for justice domain systems.*</p></div>
    <p class="muted">Bron: <a href="../../backlog/epics/EPIC-001-basis-definitie-generatie.md">docs/backlog/epics/EPIC-001-basis-definitie-generatie.md</a></p>
  </div>
</body>
</html>
