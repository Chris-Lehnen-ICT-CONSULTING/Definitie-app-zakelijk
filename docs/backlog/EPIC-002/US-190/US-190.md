---
id: US-190
titel: "US-190: Splits de verantwoordelijkheden:"
epic: EPIC-002
status: active
prioriteit: HOOG
story_points: 3
sprint: later
owner: architecture
applies_to: definitie-app@current
canonical: false
last_verified: 2025-09-16
---

# US-190 — Regelherstructurering: CON‑01 vs expliciete contextbenoeming

Context
In de huidige regels dekt CON‑01 zowel (A) contextvereiste + impliciete formulering als (B) het verbod op het expliciet benoemen van de context in de definitietekst. Dit maakt de regel semantisch breed en vermengt taalpatronen met data‑/workflowaspecten (context aanwezig, duplicate‑signaal).

Doel
Splits de verantwoordelijkheden:
- CON‑01: focus op “context aanwezig + duplicate‑signaal (DB‑check)” en implicietheid als eigenschap (zonder taalpatroon‑ban).
- Verplaats “expliciet context benoemen (tekstpatronen)” naar SAM‑01 of introduceer een aparte CON‑regel (bijv. CON‑03) die zuiver tekstueel is.

Scope
- Aanpassen JSON van CON‑01: verwijder/verminder expliciet‑context patronen; behoud toelichting over impliciet formuleren en DB‑signaal.
- Uitbreiden SAM‑01 met expliciet‑context patronen (of nieuwe CON‑regel toevoegen) voor taalgebaseerde detectie (FORBIDDEN_PATTERN).
- Updaten V2‑validator mapping: 
  - CON‑01: MISSING_ELEMENT (geen context) + WARNING bij duplicate (metadata met bestaande definitie‑ID); geen FORBIDDEN_PATTERN meer uit tekst.
  - SAM‑01 of CON‑03: FORBIDDEN_PATTERN voor expliciete contextbenoeming.

Acceptatiecriteria
- [ ] CON‑01 valideert enkel contextaanwezigheid + duplicate‑signaal; geen FORBIDDEN_PATTERN uit tekst.
- [ ] Expliciet‑context patronen actief onder SAM‑01 of nieuwe CON‑regel; voorbeelden uit huidige CON‑01.json blijven afgedekt.
- [ ] V2‑validator produceert consistente violations: CON‑01 → MISSING_ELEMENT/WARNING; SAM‑01/CON‑03 → FORBIDDEN_PATTERN.
- [ ] Documentatie (migratieplan) bijgewerkt; tests aangepast.

Impact
- JSON regels: wijziging in CON‑01 en SAM‑01/nieuwe CON‑regel.
- V2‑validator: mapping en tests wijzigen; geen DB‑schemawijziging nodig.

Risico’s & Mitigaties
- Gedragsverandering: minimaliseren door testdekking te updaten en golden cases te behouden.
- Overlap: duidelijke scheiding in documentatie en code (CON‑01 = data/workflow; SAM‑01/CON‑03 = tekstpatronen).

Plan van aanpak (kort)
1) Update JSON en migratieplan.
2) Aanpassen V2‑validator mapping (CON‑01 → context/duplicate; SAM‑01/CON‑03 → patterns).
3) Tests bijwerken (golden en integratie).

Opmerkingen
Deze US verandert geen database; het volgt schema.sql en V2 contracten; geen Streamlit of asyncio.run in services nodig.
