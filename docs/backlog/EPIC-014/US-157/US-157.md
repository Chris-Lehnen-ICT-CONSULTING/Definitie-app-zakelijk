---
id: US-157
epic: EPIC-014
titel: "US-157: titel: Implementeer Weighted Score Calculator"
status: open
prioriteit: P2
story_points: 5
aangemaakt: 2025-09-30
bijgewerkt: 2025-09-30
owner: tbd
applies_to: definitie-app@current
canonical: false
last_verified: 2025-09-30
---

# US-157: Implementeer Weighted Score Calculator

## User Story
**Als** validatie engine  
**Wil ik** weighted scores berekenen op basis van regel prioriteit  
**Zodat** belangrijke regels zwaarder wegen in de eindscore  

## Status
**Status**: TODO  
**Priority**: HIGH  
**Story Points**: 3  
**Epic**: [EPIC-014: Business Logic Refactoring](../EPIC-014.md)  

## Business Context
Complexe score berekening die rekening houdt met prioriteit en aanbeveling niveau van regels.

## Acceptance Criteria
- [ ] Implementeer weighted average formule
- [ ] Base weights: hoog=1.0, midden=0.7, laag=0.4
- [ ] Multipliers: verplicht=1.5, aanbevolen=1.0, optioneel=0.8
- [ ] Score penalties per violation type
- [ ] Severity multipliers toepassen

## Formula
```
Score = Σ(regel_score × regel_weight) / Σ(regel_weight)
```

## Penalties
- Forbidden pattern: -0.3 × count × severity_multiplier
- Missing element: -0.4 × severity_multiplier
- Structure issue: -0.25 × severity_multiplier

## Dependencies
- Rule priorities en aanbevelingen
- Violation counts per type
