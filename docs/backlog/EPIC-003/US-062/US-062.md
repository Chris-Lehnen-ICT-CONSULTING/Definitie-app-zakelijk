---
id: US-062
titel: Implement Wiktionary Integration
epic: EPIC-003
status: Open
prioriteit: LOW
story_points: 5
sprint: backlog
toegevoegd_door: system
toegevoegd_op: 2025-09-11
owner: developer
type: feature
vereisten:
- REQ-012
- REQ-021
applies_to: definitie-app@current
canonical: true
last_verified: 2025-09-11
---

# US-062: Implement Wiktionary Integration

**Epic:** EPIC-003 - Content Verrijking & Web Lookup

## Gebruikersverhaal

**Als een** juridisch professional
**wil ik** Wiktionary als bron voor woorddefinities kunnen gebruiken
**zodat** ik toegang heb tot taalkundige informatie naast juridische bronnen

## Probleembeschrijving

Service voor Wiktionary ontbreekt nog in `services/modern_web_lookup_service.py`.
De infrastructuur bestaat al (vergelijkbaar met Wikipedia), maar de specifieke implementatie ontbreekt.

## Acceptatiecriteria

### Functionele Criteria
- [ ] Wiktionary API integratie werkend
- [ ] Nederlandse taal ondersteuning
- [ ] Definitie extractie uit Wiktionary format
- [ ] Synoniemen/antoniemen extractie indien beschikbaar
- [ ] Etymologie informatie extraction
- [ ] Fallback naar Engels indien Nederlands niet beschikbaar

### Technische Criteria
- [ ] Service vergelijkbaar met Wikipedia implementatie
- [ ] Rate limiting gerespecteerd
- [ ] Caching van resultaten
- [ ] Error handling voor niet-bestaande termen
- [ ] Timeout handling (max 5 seconden)

### Data Criteria
- [ ] Structured data extraction
- [ ] Metadata behoud (bron, datum, versie)
- [ ] Unicode support voor speciale karakters
- [ ] HTML/wiki markup cleaning

## Implementatie Details

### Wiktionary Service
```python
class WiktionaryService:
    async def lookup(self, term: str, language: str = "nl") -> WiktionaryResult:
        # Parse Wiktionary API response
        # Extract definitions, etymology, synonyms
        # Clean wiki markup
        # Return structured result
```

### Expected Structure
```python
@dataclass
class WiktionaryResult:
    term: str
    definitions: list[str]
    etymology: str | None
    synonyms: list[str]
    antonyms: list[str]
    usage_examples: list[str]
```

## Definition of Done

- [ ] Wiktionary service ge√Ømplementeerd
- [ ] Unit tests voor API parsing
- [ ] Integration test met echte Wiktionary
- [ ] Error scenarios getest
- [ ] Caching werkend
- [ ] Performance binnen 5 seconden
- [ ] Documentatie bijgewerkt

## Risico's

| Risico | Impact | Mitigatie |
|--------|--------|-----------|
| API changes | Medium | Version check implementeren |
| Rate limiting | Low | Respecteer API limits |
| Incomplete NL data | Medium | Fallback naar EN |

## Notes

- Wiktionary heeft andere structuur dan Wikipedia
- Let op verschillende taalversies
- Overweeg offline dictionary als fallback

