<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prompt Optimalisatie - Executive Summary</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">â† Terug naar Portal</a>
    <h1>Prompt Optimalisatie - Executive Summary</h1>

<p><strong>Datum:</strong> 2025-11-07</p>
<p><strong>Geanalyseerd:</strong> <code>_Definitie_Generatie_prompt-7.txt</code> (419 regels)</p>
<p><strong>Status:</strong> ğŸ”´ KRITIEKE PROBLEMEN GEVONDEN</p>

<p>---</p>

<h2>ğŸ¯ QUICK WINS (30 minuten, 14% reductie)</h2>

<h3>Direct Uitvoerbaar - Nul Risico</h3>

<pre><code># 1. FIX KRITIEK CONFLICT
DELETE lijn 323-329  # "Start niet met proces waarbij/handeling die"
REDEN: Conflicteert met ESS-02 die juist "activiteit waarbij" vereist
IMPACT: -7 regels, AI krijgt geen tegengestelde instructies meer

# 2. REMOVE MASSIVE DUPLICATE
DELETE lijn 294-322  # Veelgemaakte fouten sectie
REDEN: 80% overlap met ARAI-06 en andere regels
IMPACT: -29 regels, geen functieverlies

# 3. MERGE DUPLICATE REGELS
MERGE lijn 142 (ESS-01) + lijn 187-191 (STR-06)
REDEN: Beide zeggen "essentie niet doel"
IMPACT: -6 regels, duidelijkere instructie

# 4. TRIM FINALE INSTRUCTIES
CONDENSE lijn 380-400 van 39 naar 15 regels
REDEN: Herhaalt eerdere regels en checklist items
IMPACT: -15 regels, behoud alleen checklist

TOTAAL: 419 â†’ 362 regels (-14%)
TOKENS: 7.250 â†’ 6.200 (-14%)
CONFLICTEN: 3 â†’ 0</code></pre>

<p>---</p>

<h2>ğŸ“Š HUIDIGE STAAT DIAGNOSE</h2>

<h3>Redundantie Heatmap</h3>

<pre><code>SECTIE                          REGELS   REDUNDANTIE   ACTIE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Introductie                     10       ğŸŸ¢ 0%         KEEP
Output Format                   6        ğŸŸ¢ 0%         KEEP
Definitie Kwaliteit            6        ğŸŸ¡ 30%        TRIM
Grammatica Regels              37       ğŸŸ¡ 40%        MERGE
Context Info                   7        ğŸŸ¢ 0%         KEEP
Betekenislaag (ESS-02)         39       ğŸ”´ CONFLICT   FIX!
Templates                      14       ğŸŸ¢ 0%         KEEP
Validatieregels (CORE)         168      ğŸŸ¡ 10%        OPTIMIZE
Veelgemaakte Fouten            43       ğŸ”´ 80%        CUT!
Context Verboden               16       ğŸŸ¢ 0%         KEEP
Kwaliteitsmetrieken            26       ğŸŸ¡ 60%        CONDENSE
Finale Instructies             39       ğŸ”´ 70%        CUT!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
TOTAAL                         419      ~40%          -129

LEGEND: ğŸŸ¢ Geen redundantie | ğŸŸ¡ Matige redundantie | ğŸ”´ Kritieke redundantie</code></pre>

<h3>Top 3 Conflicten</h3>

<h4>ğŸ”´ CONFLICT #1: Ontologische Kick-Off (KRITIEK!)</h4>

<pre><code>Lijn 73-77:   âœ… "start met: 'activiteit waarbij...', 'handeling die...'"
Lijn 323-325: âŒ "Start niet met 'proces waarbij', 'handeling die'"

=&gt; AI krijgt tegengestelde instructies!

OPLOSSING: DELETE lijn 323-329</code></pre>

<h4>ğŸŸ¡ CONFLICT #2: Containerterm Gebruik</h4>

<pre><code>ARAI-02: "Vermijd vage containerbegrippen (proces, activiteit)"
Template: "[Handeling/activiteit] waarbij..."

=&gt; Wanneer MAG "activiteit" wel gebruikt worden?

OPLOSSING: Verduidelijk "toegestaan in kick-off, verboden standalone"</code></pre>

<h4>ğŸŸ¡ CONFLICT #3: Essentie Regel Duplicate</h4>

<pre><code>ESS-01 (lijn 142): "Essentie, niet doel"
STR-06 (lijn 187): "Essentie â‰  informatiebehoefte"

=&gt; Beide regels zeggen HETZELFDE

OPLOSSING: MERGE naar Ã©Ã©n geconsolideerde regel</code></pre>

<p>---</p>

<h2>ğŸ¬ 3-FASE ROADMAP</h2>

<h3>FASE 1: KRITIEKE FIXES (30 min) - MUST DO</h3>

<p><strong>Doel:</strong> Verwijder conflicten en massieve duplicates</p>

<p>| Actie | Regels | Risico | Effort |</p>
<p>|-------|--------|--------|--------|</p>
<p>| Fix ontologisch conflict | -7 | ğŸŸ¢ | 5 min |</p>
<p>| Delete veelgemaakte fouten | -29 | ğŸŸ¢ | 5 min |</p>
<p>| Merge ESS-01 + STR-06 | -6 | ğŸŸ¢ | 10 min |</p>
<p>| Trim finale instructies | -15 | ğŸŸ¢ | 10 min |</p>
<p>| <strong>TOTAAL</strong> | <strong>-57</strong> | <strong>LOW</strong> | <strong>30 min</strong> |</p>

<p><strong>Resultaat:</strong> 419 â†’ 362 regels (-14%), 0 conflicten</p>

<p>---</p>

<h3>FASE 2: STRUCTURELE OPTIMALISATIE (1.5 uur) - SHOULD DO</h3>

<p><strong>Doel:</strong> Verbeter leesbaarheid en logische flow</p>

<p>| Actie | Regels | Risico | Effort |</p>
<p>|-------|--------|--------|--------|</p>
<p>| Merge Grammatica + VER | -20 | ğŸŸ¡ | 20 min |</p>
<p>| Condense Kwaliteitsmetrieken | -16 | ğŸŸ¢ | 15 min |</p>
<p>| Simplify Ontologie | -10 | ğŸŸ¡ | 20 min |</p>
<p>| Reorganize secties | 0 | ğŸŸ¢ | 30 min |</p>
<p>| <strong>TOTAAL</strong> | <strong>-46</strong> | <strong>MED</strong> | <strong>85 min</strong> |</p>

<p><strong>Resultaat:</strong> 362 â†’ 316 regels (-25% vs origineel)</p>

<p>---</p>

<h3>FASE 3: POLISH (1.5 uur) - NICE TO HAVE</h3>

<p><strong>Doel:</strong> Perfectie en finesse</p>

<p>| Actie | Regels | Risico | Effort |</p>
<p>|-------|--------|--------|--------|</p>
<p>| Optimize voorbeelden | -15 | ğŸŸ¢ | 30 min |</p>
<p>| Optimize bullet formatting | -10 | ğŸŸ¢ | 20 min |</p>
<p>| Add cross-references | 0 | ğŸŸ¢ | 30 min |</p>
<p>| <strong>TOTAAL</strong> | <strong>-25</strong> | <strong>LOW</strong> | <strong>80 min</strong> |</p>

<p><strong>Resultaat:</strong> 316 â†’ 290 regels (-31% vs origineel)</p>

<p>---</p>

<h2>ğŸ“ˆ VERWACHTE IMPACT</h2>

<h3>Token Reductie Projectie</h3>

<pre><code>PROGRESSIE:

Fase 0 (HUIDIG):      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 7.250 tokens (100%)
                      419 regels, 40% redundantie, 3 conflicten

Fase 1 (CRITICAL):    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 6.200 tokens (-14%)
                      362 regels, 25% redundantie, 0 conflicten âœ…

Fase 2 (STRUCTURAL):  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 5.400 tokens (-26%)
                      316 regels, 15% redundantie, betere flow âœ…

Fase 3 (POLISH):      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 4.500 tokens (-38%)
                      290 regels, &lt;10% redundantie, perfectie âœ…

LEGEND: â–ˆ Gebruikt | â–‘ GeÃ«limineerd</code></pre>

<h3>Kwaliteit Metrics</h3>

<p>| Metric | Huidig | Na Fase 1 | Na Fase 2 | Na Fase 3 |</p>
<p>|--------|--------|-----------|-----------|-----------|</p>
<p>| <strong>Regels</strong> | 419 | 362 | 316 | 290 |</p>
<p>| <strong>Tokens</strong> | 7.250 | 6.200 | 5.400 | 4.500 |</p>
<p>| <strong>Redundantie</strong> | 40% | 25% | 15% | <10% |</p>
<p>| <strong>Conflicten</strong> | 3 | 0 | 0 | 0 |</p>
<p>| <strong>Leesbaarheid</strong> | 6/10 | 7/10 | 8/10 | 9/10 |</p>

<p>---</p>

<h2>ğŸ¯ CORE vs REMOVABLE</h2>

<h3>Behouden (Core Logica)</h3>

<pre><code>âœ… Validatieregels (ARAI/CON/ESS/STR/INT/SAM/VER)  168 regels (40%)
   â””â”€ Business logica kernstuk, minimaal redundant

âœ… Ontologische CategorieÃ«n (ESS-02)                25 regels (6%)
   â””â”€ Na conflict fix en simplificatie

âœ… Templates &amp; Voorbeelden                          14 regels (3%)
   â””â”€ Concrete guidance, bewezen effectief

âœ… Output Format Vereisten                          6 regels (1%)
   â””â”€ Technische specs, niet-negocieerbaar

âœ… Grammatica Regels (MERGED)                       15 regels (4%)
   â””â”€ Na merge met VER, zonder duplicates

âœ… Context Instructies                              10 regels (2%)
   â””â”€ Nodig voor contextspecifieke definities

âœ… Kwaliteitsmetrieken (CONDENSED)                  10 regels (2%)
   â””â”€ Nuttig voor debugging

SUBTOTAAL CORE: 248 regels (59% van origineel)</code></pre>

<h3>Verwijderen (Redundant)</h3>

<pre><code>âŒ Veelgemaakte Fouten (293-335)                   -35 regels
   â””â”€ 80% duplicate van ARAI-06 en andere regels

âŒ Finale Instructies redundantie                  -24 regels
   â””â”€ Herhaalt checklist en eerdere instructies

âŒ Grammatica/VER overlap                          -20 regels
   â””â”€ Na merge blijft alleen essentie over

âŒ Kwaliteitsmetrieken verbose                     -16 regels
   â””â”€ Metadata kan veel compacter

âŒ Duplicate voorbeelden                           -15 regels
   â””â”€ Max 2âœ… + 2âŒ per regel is voldoende

âŒ Ontologie redundantie                           -14 regels
   â””â”€ Simplificatie zonder informatieverlies

âŒ Overige duplicates                              -5 regels
   â””â”€ Scattered door prompt

SUBTOTAAL REMOVABLE: 129 regels (31% van origineel)</code></pre>

<h3>Balance Check</h3>

<pre><code>ORIGINEEL:        419 regels (100%)
  â”œâ”€ CORE:        248 regels (59%)  âœ… Behouden
  â”œâ”€ REMOVABLE:   129 regels (31%)  âŒ Verwijderen
  â””â”€ METADATA:    42 regels (10%)   ğŸ”§ Optimaliseren

OPTIMIZED:        290 regels (69%)
  â”œâ”€ CORE:        248 regels (86%)
  â””â”€ METADATA:    42 regels (14%)</code></pre>

<p>---</p>

<h2>ğŸš¦ RISICO ASSESSMENT</h2>

<h3>Per Fase</h3>

<p>| Fase | Risico | Mitigatie | Backwards Compatibility |</p>
<p>|------|--------|-----------|-------------------------|</p>
<p>| <strong>Fase 1</strong> | ğŸŸ¢ LOW | Alleen duplicates verwijderen | 98% compatible |</p>
<p>| <strong>Fase 2</strong> | ğŸŸ¡ MEDIUM | Test met 50 begrippen | 95% compatible |</p>
<p>| <strong>Fase 3</strong> | ğŸŸ¢ LOW | Alleen formatting | 99% compatible |</p>

<h3>Waarom Laag Risico?</h3>

<ol>
<li>**Core validatieregels blijven intact** (168 regels ongewijzigd)</li>
<li>**Templates behouden** (14 regels ongewijzigd)</li>
<li>**Alleen redundantie wordt verwijderd**</li>
<li>**Conflicten worden OPGELOST, niet verplaatst**</li>
<li>**Ontologische categorieÃ«n worden VERBETERD**</li>
</ol>

<h3>Test Strategie</h3>

<pre><code># Test Plan voor Fase 1
1. Draai 50 bestaande definities door v7 en v8
2. Compare outputs met diff tool
3. Flag significante verschillen (&gt;10% change)
4. Manuele review van alle afwijkingen
5. Sign-off: max 2% regressie toegestaan

# Success Criteria
âœ… &lt;2% regressie in definitiekwaliteit
âœ… 0 conflicten in validatieregels
âœ… -14% token reductie
âœ… Alle 45 validatieregels nog aanwezig</code></pre>

<p>---</p>

<h2>ğŸ’¡ AANBEVELINGEN</h2>

<h3>DIRECT ACTIE (Nu uitvoeren)</h3>

<p><strong>START MET FASE 1:</strong></p>
<ul>
<li>Tijdsinvestering: 30 minuten</li>
<li>Token reductie: 14%</li>
<li>Conflict removal: 100%</li>
<li>Risico: Minimaal</li>
</ul>

<p><strong>Verwachte ROI:</strong> 25x (1.050 tokens / 30 min = 35 tokens per minuut)</p>

<h3>PLANNING</h3>

<p><strong>Week 1:</strong></p>
<ul>
<li>Ma/Di: Fase 1 implementatie + testing</li>
<li>Wo/Do: Validatie met 50 begrippen</li>
<li>Vr: Sign-off en documentatie</li>
</ul>

<p><strong>Week 2:</strong></p>
<ul>
<li>Ma-Do: Fase 2 implementatie (indien Fase 1 succesvol)</li>
<li>Vr: Integration testing</li>
</ul>

<p><strong>Week 3:</strong></p>
<ul>
<li>Optioneel: Fase 3 polish</li>
</ul>

<h3>NIET DOEN</h3>

<p>âŒ <strong>Grote refactor in Ã©Ã©n keer</strong> - Te risicovol</p>
<p>âŒ <strong>Validatieregels aanpassen</strong> - Core business logica</p>
<p>âŒ <strong>Templates verwijderen</strong> - Bewezen effectief</p>
<p>âŒ <strong>Skip testing</strong> - Backwards compatibility kritiek</p>

<p>---</p>

<h2>ğŸ“‹ CHECKLIST VOOR IMPLEMENTATIE</h2>

<h3>Pre-Implementation</h3>

<ul>
<li>[ ] Backup huidige prompt v7</li>
<li>[ ] Setup A/B testing framework</li>
<li>[ ] Prepare 50 test begrippen (diverse categorieÃ«n)</li>
<li>[ ] Document huidige outputs als baseline</li>
</ul>

<h3>Fase 1 Execution</h3>

<ul>
<li>[ ] DELETE lijn 323-329 (ontologisch conflict)</li>
<li>[ ] ADD verduidelijking bij ESS-02</li>
<li>[ ] DELETE lijn 294-322 (veelgemaakte fouten)</li>
<li>[ ] MERGE ESS-01 + STR-06</li>
<li>[ ] TRIM lijn 380-400 naar 15 regels</li>
<li>[ ] Verify: 419 â†’ 362 regels</li>
</ul>

<h3>Post-Implementation</h3>

<ul>
<li>[ ] Draai 50 test begrippen door v8</li>
<li>[ ] Compare outputs met v7 baseline</li>
<li>[ ] Measure: token count, conflicts, redundantie</li>
<li>[ ] Review afwijkingen >10%</li>
<li>[ ] Sign-off door stakeholder</li>
<li>[ ] Deploy v8 naar productie</li>
</ul>

<h3>Monitoring (Week 1 na deployment)</h3>

<ul>
<li>[ ] Track definitiekwaliteit metrics</li>
<li>[ ] Monitor gebruiker feedback</li>
<li>[ ] Check voor nieuwe edge cases</li>
<li>[ ] Document lessons learned</li>
</ul>

<p>---</p>

<h2>ğŸ“– GERELATEERDE DOCUMENTEN</h2>

<ul>
<li>**Volledige Analyse:** `/docs/analyses/PROMPT_ARCHITECTURE_ANALYSIS.md`</li>
<li>**Huidige Prompt:** `/Users/chrislehnen/Downloads/_Definitie_Generatie_prompt-7.txt`</li>
<li>**Validatieregels:** `config/toetsregels/regels/`</li>
<li>**Prompt Builder:** `src/services/prompt/prompt_builder.py`</li>
</ul>

<p>---</p>

<p><strong>EINDE EXECUTIVE SUMMARY</strong></p>

<p><strong>Volgende Actie:</strong> Implementeer Fase 1 (30 min) en test met 50 begrippen</p>

  </div>
</body>
</html>