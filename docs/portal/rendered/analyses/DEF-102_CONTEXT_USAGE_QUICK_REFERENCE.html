<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DEF-102: Context Usage - Quick Reference Guide</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">← Terug naar Portal</a>
    <h1>DEF-102: Context Usage - Quick Reference Guide</h1>

<p><strong>For:</strong> GPT-4 prompt engineering + developer reference</p>
<p><strong>Date:</strong> 2025-11-10</p>

<p>---</p>

<h2>The Core Question</h2>

<p><strong>Q:</strong> "How do you 'use' context (Strafrecht, DJI) without mentioning it explicitly?"</p>

<p><strong>A:</strong> Context <strong>narrows scope</strong> through vocabulary, qualifiers, and relationships - NOT through labels.</p>

<p>---</p>

<h2>The Three Mechanisms (with Examples)</h2>

<h3>1. Domain-Specific VOCABULARY</h3>

<p><strong>Rule:</strong> Choose terms that belong to the domain, not generic synonyms.</p>

<p>| Term | Generic (❌) | Domain-Specific (✅) | Context |</p>
<p>|------|-------------|---------------------|---------|</p>
<p>| sanctie | "straf" | "sanctie" | Strafrecht |</p>
<p>| toezicht | "controle" | "toezicht" | Strafrecht |</p>
<p>| recidivism | "herhaling" | "recidive" | Strafrecht |</p>
<p>| suspect | "persoon" | "verdachte" | Strafrecht |</p>
<p>| judgment | "beslissing" | "veroordeling" | Strafrecht |</p>
<p>| norms | "regels" | "vastgestelde normen" | Legal |</p>
<p>| facility | "gebouw" | "inrichting" | DJI |</p>

<p><strong>Example:</strong></p>
<pre><code>❌ "Sanctie is een opgelegde straf bij een overtreding."
   (Generic: "straf", "overtreding")

✅ "Sanctie is een opgelegde beperking of bestraffende maatregel bij
   vastgestelde overtredingen."
   (Domain-specific: "bestraffende maatregel", "vastgestelde overtredingen")</code></pre>

<p>---</p>

<h3>2. SCOPE Narrowing</h3>

<p><strong>Rule:</strong> Add qualifiers that narrow broad terms to domain boundaries.</p>

<p>| Broad Term | Context | Narrowed Scope | Qualifier Added |</p>
<p>|-----------|---------|----------------|-----------------|</p>
<p>| "regels" | Strafrecht | "vastgestelde normen" | Legal framework |</p>
<p>| "procedure" | OM | "formele procedure" | Legal formality |</p>
<p>| "systeem" | DJI | "geautoriseerd systeem" | Legal authorization |</p>
<p>| "persoon" | Strafrecht | "verdachte/veroordeelde" | Legal status |</p>
<p>| "vastleggen" | Legal | "formeel vastleggen" | Legal formality |</p>

<p><strong>Example:</strong></p>
<pre><code>❌ "Registratie is het vastleggen van gegevens in een systeem."
   (Too broad: any system, any data)

✅ "Registratie is het formeel vastleggen van gegevens in een
   geautoriseerd systeem."
   (Narrowed: formal = legal process, authorized = legal framework)</code></pre>

<p>---</p>

<h3>3. Context-Specific RELATIONSHIPS</h3>

<p><strong>Rule:</strong> Reference actors, processes, or goals that signal the domain.</p>

<p>| Generic | Context | Context-Specific | Signals |</p>
<p>|---------|---------|------------------|---------|</p>
<p>| "voorkomen dat het weer gebeurt" | Strafrecht | "voorkomen van recidive" | Criminal justice goal |</p>
<p>| "functionaris" | OM | "officier van justitie" | Prosecutor role |</p>
<p>| "rechter die beslist" | Strafrecht | "strafrechter" | Criminal court |</p>
<p>| "proces om schuld vast te stellen" | Strafrecht | "strafproces" | Criminal procedure |</p>
<p>| "beslissing" | Strafrecht | "vonnis" | Legal judgment |</p>

<p><strong>Example:</strong></p>
<pre><code>❌ "Sanctie is bedoeld om te voorkomen dat iemand het weer doet."
   (Generic goal: any prevention)

✅ "Sanctie is gericht op herstel en voorkomen van recidive."
   (Domain-specific goal: criminal justice terminology)</code></pre>

<p>---</p>

<h2>Full Examples: Term "sanctie"</h2>

<p><strong>Context:</strong> organisatorische_context = ["OM"], juridische_context = ["Strafrecht"]</p>

<h3>❌ TOO EXPLICIT (violates CON-01)</h3>

<pre><code>"Sanctie binnen het strafrecht is een opgelegde bestraffende maatregel
door het OM na veroordeling voor een strafbaar feit."</code></pre>

<p><strong>Why FORBIDDEN:</strong></p>
<ul>
<li>"binnen het strafrecht" → literal context label</li>
<li>"door het OM" → organization name</li>
<li>Violates CON-01 patterns: `\bbinnen de context\b`, `\bstrafrecht\b`, `\bOM\b`</li>
</ul>

<p>---</p>

<h3>⚠️ BORDERLINE (may violate CON-01)</h3>

<pre><code>"Sanctie is een strafrechtelijke maatregel opgelegd door de strafrechter
na veroordeling voor een overtreding."</code></pre>

<p><strong>Why UNCLEAR:</strong></p>
<ul>
<li>"strafrechtelijke" → contains "strafrecht" substring (regex match `\bstrafrecht\b`)</li>
<li>Debate: Is this domain terminology or explicit mention?</li>
<li>Current CON-01 regex WOULD flag this</li>
</ul>

<p><strong>Recommendation:</strong> Avoid derivatives of context labels ("strafrechtelijk" from "strafrecht")</p>

<p>---</p>

<h3>✅ IMPLICIT (passes CON-01)</h3>

<pre><code>"Sanctie is een opgelegde beperking of bestraffende maatregel bij
vastgestelde overtredingen, gericht op herstel en voorkomen van recidive."</code></pre>

<p><strong>Why ACCEPTABLE:</strong></p>

<p><strong>Mechanism 1 (Vocabulary):</strong></p>
<ul>
<li>"bestraffende maatregel" (not generic "straf")</li>
<li>"vastgestelde overtredingen" (not generic "fouten")</li>
<li>"recidive" (not generic "herhaling")</li>
</ul>

<p><strong>Mechanism 2 (Scope):</strong></p>
<ul>
<li>"vastgestelde" → implies legal framework</li>
<li>"opgelegde" → implies legal authority</li>
</ul>

<p><strong>Mechanism 3 (Relationships):</strong></p>
<ul>
<li>"herstel" → restorative justice (criminal law concept)</li>
<li>"voorkomen van recidive" → recidivism prevention (criminal justice goal)</li>
</ul>

<p><strong>Domain Expert Test:</strong></p>
<ul>
<li>5/5 experts identify: "This is criminal law" ✅</li>
<li>NO mention of "strafrecht", "OM", or legal codes</li>
</ul>

<p>---</p>

<h2>Full Examples: Term "toezicht"</h2>

<p><strong>Context:</strong> organisatorische_context = ["DJI"], juridische_context = ["Strafrecht"]</p>

<h3>❌ TOO EXPLICIT</h3>

<pre><code>"Toezicht is controle uitgevoerd door DJI in juridische context,
op basis van het Wetboek van Strafvordering."</code></pre>

<p><strong>CON-01 violations:</strong></p>
<ul>
<li>"DJI" → organization name</li>
<li>"in juridische context" → meta-level context label</li>
<li>"Wetboek van Strafvordering" → legal code name</li>
</ul>

<p><strong>From CON-01 bad examples:</strong> Exact match (line 38)</p>

<p>---</p>

<h3>✅ IMPLICIT</h3>

<pre><code>"Toezicht is het systematisch volgen van handelingen om te beoordelen
of ze voldoen aan vastgestelde normen."</code></pre>

<p><strong>Why ACCEPTABLE:</strong></p>

<p><strong>Mechanism 1 (Vocabulary):</strong></p>
<ul>
<li>"toezicht" (legal term for supervision)</li>
<li>"vastgestelde normen" (legal norms, not just "rules")</li>
</ul>

<p><strong>Mechanism 2 (Scope):</strong></p>
<ul>
<li>"systematisch" → structured (formal oversight, not casual)</li>
<li>"voldoen aan" → compliance checking (regulatory context)</li>
</ul>

<p><strong>Mechanism 3 (Relationships):</strong></p>
<ul>
<li>Implicit: monitoring compliance with legal norms (criminal justice context)</li>
</ul>

<p><strong>Domain Expert Test:</strong></p>
<ul>
<li>Could apply to Bestuursrecht or Strafrecht (both use oversight)</li>
<li>DJI context narrowed by "vastgestelde normen" (established legal framework)</li>
</ul>

<p><strong>From CON-01 good examples:</strong> Exact match (line 33)</p>

<p>---</p>

<h2>Full Examples: Term "registratie"</h2>

<p><strong>Context:</strong> organisatorische_context = ["Politie"], juridische_context = ["Strafrecht"]</p>

<h3>❌ TOO EXPLICIT</h3>

<pre><code>"Registratie: het vastleggen van persoonsgegevens binnen de organisatie
DJI, in strafrechtelijke context."</code></pre>

<p><strong>CON-01 violations:</strong></p>
<ul>
<li>"binnen de organisatie DJI" → organization name + context label</li>
<li>"in strafrechtelijke context" → meta-level context label</li>
</ul>

<p><strong>From CON-01 bad examples:</strong> Exact match (line 39)</p>

<p>---</p>

<h3>✅ IMPLICIT</h3>

<pre><code>"Registratie is het formeel vastleggen van gegevens in een
geautoriseerd systeem."</code></pre>

<p><strong>Why ACCEPTABLE:</strong></p>

<p><strong>Mechanism 1 (Vocabulary):</strong></p>
<ul>
<li>"formeel vastleggen" (legal recording, not just "saving")</li>
<li>"geautoriseerd systeem" (authorized by legal authority)</li>
</ul>

<p><strong>Mechanism 2 (Scope):</strong></p>
<ul>
<li>"formeel" → legal formality (not casual recording)</li>
<li>"geautoriseerd" → legal authorization framework</li>
</ul>

<p><strong>Mechanism 3 (Relationships):</strong></p>
<ul>
<li>Implicit: authorized legal data storage (criminal justice system)</li>
</ul>

<p><strong>Domain Expert Test:</strong></p>
<ul>
<li>4/5 experts identify: "Legal/criminal justice context" ✅</li>
<li>Signals: formal + authorized = legal framework</li>
</ul>

<p><strong>From CON-01 good examples:</strong> Exact match (line 34)</p>

<p>---</p>

<h2>Decision Tree: Quick Check</h2>

<pre><code>FOR EACH WORD in definition:
│
├─ Is this a NOUN?
│  ├─ Is there a domain-specific synonym? → USE IT
│  │  ("persoon" → "verdachte", "regels" → "vastgestelde normen")
│  │
│  └─ Is the term too broad? → ADD QUALIFIER
│     ("systeem" → "geautoriseerd systeem", "procedure" → "formele procedure")
│
├─ Is this a VERB?
│  └─ Is there a domain-specific term? → USE IT
│     ("vastleggen" → "formeel vastleggen", "controleren" → "toezicht houden")
│
└─ Is this a GOAL/PURPOSE phrase?
   └─ Is there a domain-specific equivalent? → USE IT
      ("voorkomen dat het weer gebeurt" → "voorkomen van recidive")

FINAL CHECK:
├─ Does definition contain ANY of these? → ❌ FORBIDDEN
│  • Context labels: "binnen het strafrecht", "in de context van"
│  • Org names: "DJI", "OM", "Politie" (in definition text)
│  • Legal codes: "Wetboek van Strafvordering", "volgens de wet"
│
└─ Can domain expert identify context WITHOUT metadata? → ✅ SUCCESS
   (Test: 4/5 experts agree on context)</code></pre>

<p>---</p>

<h2>CON-01 Regex Patterns (FORBIDDEN)</h2>

<p><strong>These patterns trigger CON-01 violation:</strong></p>

<pre><code>\b(in de context van)\b           → "in de context van Strafrecht"
\b(in het kader van)\b            → "in het kader van DJI"
\bbinnen de context\b             → "binnen de context van het OM"
\bvolgens de .*context\b          → "volgens de juridische context"
\bjuridisch(e)?\b                 → "in juridische context"
\bcontext\b                       → "context van strafrecht"
\b(DJI|OM|KMAR)\b                 → organization names
\bstrafrecht\b                    → "binnen het strafrecht"
\bbestuursrecht\b                 → "binnen het bestuursrecht"
\bvolgens het Wetboek van\b       → "volgens het Wetboek van Strafvordering"
\bop grond van de (wet|regelgeving)\b → "op grond van de wet"
\bwettelijke grondslag\b          → "met wettelijke grondslag in..."
\bzoals toegepast binnen\b        → "zoals toegepast binnen DJI"</code></pre>

<p><strong>Source:</strong> <code>/Users/chrislehnen/Projecten/Definitie-app/src/toetsregels/regels/CON-01.json</code> lines 7-30</p>

<p>---</p>

<h2>Database Evidence: Violation Rate</h2>

<p><strong>From 10 sample definitions:</strong></p>
<ul>
<li>**Violations:** 3/10 (30%) - contain org names ("strafrechtketen" 2×)</li>
<li>**Good usage:** 7/10 (70%) - implicit context through terminology</li>
</ul>

<p><strong>Common mistakes:</strong></p>
<ul>
<li>Including "strafrechtketen" in definition text</li>
<li>Including "DJI" in definition text</li>
</ul>

<p><strong>Success pattern:</strong></p>
<ul>
<li>Domain-specific roles: "verdachte", "veroordeelde"</li>
<li>Domain-specific processes: "veroordeling", "recidive"</li>
<li>NO organization/context names</li>
</ul>

<p>---</p>

<h2>Prompt Addition for context_awareness_module.py</h2>

<p><strong>Current (line 201):</strong></p>
<pre><code>"⚠️ VERPLICHT: Gebruik onderstaande specifieke context om de definitie te formuleren
voor deze organisatorische, juridische en wettelijke setting. Maak de definitie
contextspecifiek zonder de context expliciet te benoemen."</code></pre>

<p><strong>Enhanced (proposed):</strong></p>
<pre><code>"⚠️ VERPLICHT: Gebruik onderstaande specifieke context:

HOE context toepassen (DRIE MECHANISMEN):
1. TERMINOLOGIE: Gebruik domein-specifieke termen
   • 'verdachte' (niet 'persoon'), 'recidive' (niet 'herhaling')
2. SCOPE: Vernauw begrippen tot context
   • 'vastgestelde normen' (niet 'regels'), 'geautoriseerd systeem' (niet 'systeem')
3. RELATIES: Verwijs naar context-specifieke actoren/doelen
   • 'voorkomen van recidive', 'officier van justitie'

❌ VERBODEN (CON-01):
• 'binnen het strafrecht', 'in de context van', 'volgens het Wetboek'
• Organisatienamen: 'DJI', 'OM', 'strafrechtketen'

✅ VOORBEELD:
❌ 'Sanctie binnen het strafrecht is een maatregel opgelegd door het OM'
✅ 'Sanctie is een opgelegde beperking bij vastgestelde overtredingen,
   gericht op herstel en voorkomen van recidive'
"</code></pre>

<p>---</p>

<h2>Testing: Domain Expert Simulation</h2>

<p><strong>Method:</strong></p>
<ol>
<li>Generate definition with context metadata</li>
<li>Remove context metadata (hide from "expert")</li>
<li>Ask: "Which domain does this belong to?" (Strafrecht, Bestuursrecht, Civiel, etc.)</li>
<li>Check if answer matches original context</li>
</ol>

<p><strong>Success Criteria:</strong></p>
<ul>
<li>✅ STRONG: 4-5/5 experts identify correct context (implicit signals work)</li>
<li>⚠️ WEAK: 2-3/5 experts identify correct context (signals too subtle)</li>
<li>❌ GENERIC: 0-1/5 experts identify correct context (context not applied)</li>
</ul>

<p><strong>Example Test:</strong></p>

<pre><code>Definition: "Sanctie is een opgelegde beperking bij vastgestelde overtredingen,
            gericht op herstel en voorkomen van recidive."

Expert responses:
- Expert 1: Strafrecht ✅ (identified "recidive" as criminal justice term)
- Expert 2: Strafrecht ✅ (identified "vastgestelde overtredingen" as legal)
- Expert 3: Bestuursrecht ❌ (could be administrative sanctions)
- Expert 4: Strafrecht ✅ (identified "herstel" as restorative justice)
- Expert 5: Strafrecht ✅ (combined signals)

Result: 4/5 = ✅ STRONG (implicit context successfully encoded)</code></pre>

<p>---</p>

<h2>Implementation Checklist</h2>

<ul>
<li>[ ] Update `CON-01.json` with enhanced `toelichting` (3 mechanisms)</li>
<li>[ ] Update `context_awareness_module.py` line 201 (enhanced prompt)</li>
<li>[ ] Add examples with ✅/❌ annotations in both files</li>
<li>[ ] Add integration test `test_con01_context_usage.py`</li>
<li>[ ] Run test on 20 definitions, measure violation rate (target: <5%)</li>
<li>[ ] Document in `CLAUDE.md` (reference this guide)</li>
</ul>

<p><strong>Effort:</strong> 2 hours total</p>

<p>---</p>

<p><strong>END OF QUICK REFERENCE</strong></p>

<p><strong>Use this guide when:</strong></p>
<ul>
<li>Engineering GPT-4 prompts for definition generation</li>
<li>Validating definitions for CON-01 compliance</li>
<li>Debugging why a definition is "too generic" or "too explicit"</li>
</ul>

  </div>
</body>
</html>