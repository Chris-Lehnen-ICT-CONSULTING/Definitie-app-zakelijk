<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DEF-102: CONTEXT USAGE Contradiction - Complete Analysis</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">← Terug naar Portal</a>
    <h1>DEF-102: CONTEXT USAGE Contradiction - Complete Analysis</h1>

<p><strong>Analysis Date:</strong> 2025-11-10</p>
<p><strong>Analyst:</strong> Debug Specialist (Claude Code)</p>
<p><strong>Issue:</strong> "Must use context but cannot make it traceable"</p>
<p><strong>Status:</strong> ANALYZED - Framework provided</p>

<p>---</p>

<h2>Executive Summary</h2>

<p><strong>THE CONTRADICTION (from DEF-102):</strong></p>
<blockquote>"Must use context but cannot make it traceable - Unclear how to apply 'Strafrecht' without mentioning it"</blockquote>

<p><strong>ROOT CAUSE:</strong> This is NOT a logical contradiction - it's an <strong>ambiguity in operational definition</strong>. The requirement is clear (be context-specific without explicit mention), but the <strong>implementation mechanism</strong> is underspecified.</p>

<p><strong>RESOLUTION:</strong> Define concrete criteria for "implicit context usage" with teachable examples for GPT-4.</p>

<p>---</p>

<h2>1. The Problem Dissected</h2>

<h3>1.1 What the Rules Say</h3>

<p><strong>CON-01 Requirement:</strong></p>
<pre><code>"Formuleer de definitie zó dat deze past binnen de opgegeven context(en),
zonder deze expliciet te benoemen in de definitie zelf."</code></pre>

<p><strong>Context Awareness Module (line 201):</strong></p>
<pre><code>"⚠️ VERPLICHT: Gebruik onderstaande specifieke context om de definitie te formuleren
voor deze organisatorische, juridische en wettelijke setting. Maak de definitie
contextspecifiek zonder de context expliciet te benoemen."</code></pre>

<h3>1.2 The Confusion</h3>

<p><strong>Question:</strong> How do you "use" context if you can't mention it?</p>

<p><strong>The Gap:</strong> No concrete guidance on <strong>what actions</strong> the LLM should take to "apply" context implicitly.</p>

<p>---</p>

<h2>2. Understanding "Implicit vs Explicit"</h2>

<h3>2.1 Definitions</h3>

<p><strong>EXPLICIT Context Usage</strong> (FORBIDDEN by CON-01):</p>
<ul>
<li>**Direct labels:** "binnen het strafrecht", "in de context van DJI"</li>
<li>**Meta-level:** "in juridische context", "volgens operationele definities"</li>
<li>**Organization names:** "volgens DJI-richtlijnen", "door het OM"</li>
</ul>

<p><strong>IMPLICIT Context Usage</strong> (REQUIRED by CON-01):</p>
<ul>
<li>**Domain-specific terminology:** Words that naturally belong to the context</li>
<li>**Scope narrowing:** Defining boundaries specific to the domain</li>
<li>**Context-specific actors/processes:** Roles/procedures that signal the domain</li>
<li>**Implicit relationships:** Connections to domain-specific entities</li>
</ul>

<h3>2.2 The Mechanism: Context Shapes Scope, Not Labels</h3>

<p><strong>Key Insight:</strong> Context doesn't ADD information to the definition - it NARROWS the scope.</p>

<pre><code>Generic Definition (no context):
"Toezicht is het observeren van handelingen om naleving te beoordelen."
↓ TOO BROAD (applies to any supervision in any domain)

Context-Specific Definition (Strafrecht context):
"Toezicht is het systematisch volgen van handelingen om te beoordelen
of ze voldoen aan vastgestelde normen."
↓ NARROWED SCOPE (implicitly criminal law: "vastgestelde normen" = laws)</code></pre>

<p><strong>The narrowing is implicit:</strong></p>
<ul>
<li>"vastgestelde normen" = implies legal/regulatory context (not just any norms)</li>
<li>"systematisch volgen" = implies formal oversight (not casual observation)</li>
<li>"om te beoordelen" = implies judgment authority (not just monitoring)</li>
</ul>

<p>---</p>

<h2>3. TEST CASES: Explicit vs Implicit</h2>

<h3>Test Case 1: "sanctie" (Term: sanction)</h3>

<p><strong>Context Provided:</strong> organisatorische_context = ["OM"], juridische_context = ["Strafrecht"]</p>

<h4>❌ TOO EXPLICIT (violates CON-01)</h4>

<pre><code>"Sanctie binnen het strafrecht is een opgelegde bestraffende maatregel
na veroordeling voor een strafbaar feit."
         ^^^^^^^^^^^^^^^^^^^
         LITERAL CONTEXT MENTION</code></pre>

<p><strong>Why FORBIDDEN:</strong></p>
<ul>
<li>"binnen het strafrecht" = direct context label</li>
<li>Makes definition context-DEPENDENT (only valid with qualifier)</li>
<li>Reader can TRACE context from the text</li>
</ul>

<p><strong>CON-01 Pattern Match:</strong> <code>\bbinnen de context\b</code>, <code>\bstrafrecht\b</code></p>

<p>---</p>

<h4>⚠️ BORDERLINE (unclear - may violate CON-01)</h4>

<pre><code>"Sanctie is een strafrechtelijke maatregel opgelegd door de strafrechter
na veroordeling voor een overtreding."
              ^^^^^^^^^^^^^^^^^
              DOMAIN LABEL AS ADJECTIVE</code></pre>

<p><strong>Why UNCLEAR:</strong></p>
<ul>
<li>"strafrechtelijke" = derived from "strafrecht" (domain label as adjective)</li>
<li>Technically CON-01 forbids `\bstrafrecht\b` pattern (regex match)</li>
<li>BUT: Is this "explicit mention" or just domain-specific terminology?</li>
</ul>

<p><strong>Debate:</strong></p>
<ul>
<li>**Strict interpretation:** FORBIDDEN (contains "strafrecht" substring)</li>
<li>**Pragmatic interpretation:** ALLOWED (using domain terminology ≠ naming context)</li>
</ul>

<p><strong>Current regex:</strong> <code>\bstrafrecht\b</code> would catch this (word boundary match)</p>

<p>---</p>

<h4>✅ IMPLICIT (good - passes CON-01)</h4>

<pre><code>"Sanctie is een opgelegde correctie of beperking bij vastgestelde overtredingen,
gericht op herstel en het voorkomen van herhaling."</code></pre>

<p><strong>Why ACCEPTABLE:</strong></p>
<ul>
<li>"vastgestelde overtredingen" = implies legal violations (domain-specific scope)</li>
<li>"opgelegde" = implies authority to impose (criminal justice context)</li>
<li>"herstel en voorkomen van herhaling" = recidivism prevention (criminal law goal)</li>
<li>NO literal mention of "strafrecht", "strafrechtelijk", or "OM"</li>
</ul>

<p><strong>How context is implicit:</strong></p>
<ul>
<li>"overtredingen" (not "violations" in general) → legal domain</li>
<li>"herstel" → restorative justice concept (criminal law)</li>
<li>"voorkomen van herhaling" → recidivism (criminal justice terminology)</li>
</ul>

<p><strong>A domain expert (legal professional) would identify:</strong> "This is criminal law territory" WITHOUT seeing the word "strafrecht".</p>

<p>---</p>

<h3>Test Case 2: "toezicht" (Term: supervision)</h3>

<p><strong>Context:</strong> organisatorische_context = ["DJI"], juridische_context = ["Strafrecht"]</p>

<h4>❌ TOO EXPLICIT</h4>

<pre><code>"Toezicht is controle uitgevoerd door DJI in juridische context,
op basis van het Wetboek van Strafvordering."
                        ^^^        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                     ORG NAME    LITERAL LEGAL CODE MENTION</code></pre>

<p><strong>CON-01 violations:</strong></p>
<ul>
<li>"DJI" → organizational context named</li>
<li>"in juridische context" → meta-level context label</li>
<li>"Wetboek van Strafvordering" → specific legal code (traceable)</li>
</ul>

<p><strong>From CON-01 bad examples (line 38):</strong> Exact match!</p>

<p>---</p>

<h4>✅ IMPLICIT</h4>

<pre><code>"Toezicht is het systematisch volgen van handelingen om te beoordelen
of ze voldoen aan vastgestelde normen."</code></pre>

<p><strong>How context shapes this:</strong></p>
<ul>
<li>**Generic "supervision"** could be: parent watching child, teacher monitoring class</li>
<li>**DJI/Strafrecht "toezicht"** narrowed to: formal monitoring of compliance with norms</li>
<li>"vastgestelde normen" = established rules (implies regulatory/legal framework)</li>
<li>"systematisch volgen" = structured oversight (not casual observation)</li>
</ul>

<p><strong>From CON-01 good examples (line 33):</strong> Exact match!</p>

<p>---</p>

<h3>Test Case 3: "registratie" (Term: registration)</h3>

<p><strong>Context:</strong> organisatorische_context = ["Politie"], juridische_context = ["Strafrecht"]</p>

<h4>❌ TOO EXPLICIT</h4>

<pre><code>"Registratie: het vastleggen van persoonsgegevens binnen de organisatie DJI,
in strafrechtelijke context."
                                        ^^^                    ^^^^^^^^^^^^^^^^^^^^^
                                     ORG NAME              CONTEXT LABEL</code></pre>

<p><strong>CON-01 violations:</strong></p>
<ul>
<li>"binnen de organisatie DJI" → organizational context named</li>
<li>"in strafrechtelijke context" → meta-level context label</li>
</ul>

<p><strong>From CON-01 bad examples (line 39):</strong> Exact match!</p>

<p>---</p>

<h4>✅ IMPLICIT</h4>

<pre><code>"Registratie is het formeel vastleggen van gegevens in een geautoriseerd systeem."</code></pre>

<p><strong>How context shapes this:</strong></p>
<ul>
<li>**Generic "registration":** any data recording (attendance, membership, etc.)</li>
<li>**Politie/Strafrecht "registratie":** narrowed to formal, authorized systems</li>
<li>"formeel vastleggen" = official recording (implies legal/regulatory framework)</li>
<li>"geautoriseerd systeem" = authorized system (implies authority and compliance)</li>
</ul>

<p><strong>Context signals:</strong></p>
<ul>
<li>"formeel" → legal formality</li>
<li>"geautoriseerd" → authorization framework (criminal justice system)</li>
<li>Combined: implies secure, compliant, legally valid data storage</li>
</ul>

<p><strong>From CON-01 good examples (line 34):</strong> Exact match!</p>

<p>---</p>

<h2>4. The Implicit Context Framework</h2>

<h3>4.1 Three Mechanisms for Implicit Context</h3>

<h4>Mechanism 1: Domain-Specific Terminology</h4>

<p><strong>What:</strong> Use words that naturally belong to the context domain.</p>

<p><strong>Examples:</strong></p>

<p>| Context | Generic Term | Domain-Specific Term | Why Implicit? |</p>
<p>|---------|-------------|---------------------|---------------|</p>
<p>| Strafrecht | "punishment" | "sanctie" | Legal terminology |</p>
<p>| Strafrecht | "repeat" | "recidive" | Criminal justice term |</p>
<p>| Strafrecht | "decision" | "veroordeling" | Legal judgment term |</p>
<p>| DJI | "building" | "inrichting" | Prison facility term |</p>
<p>| OM | "suspect" | "verdachte" | Legal procedure term |</p>

<p><strong>Rule:</strong> Choose the term that a domain expert would use, not the everyday synonym.</p>

<p>---</p>

<h4>Mechanism 2: Scope Narrowing</h4>

<p><strong>What:</strong> Define boundaries that are specific to the context domain.</p>

<p><strong>Examples:</strong></p>

<p>| Generic Scope | Context | Narrowed Scope | How Narrowed? |</p>
<p>|--------------|---------|----------------|---------------|</p>
<p>| "regels" (any rules) | Strafrecht | "vastgestelde normen" (established norms) | Implies legal framework |</p>
<p>| "procedure" (any process) | OM | "formele procedure" (formal procedure) | Adds legal formality |</p>
<p>| "persoon" (any person) | Strafrecht | "verdachte" (suspect) | Legal status |</p>
<p>| "gebouw" (any building) | DJI | "geautoriseerde inrichting" (authorized facility) | Legal authorization |</p>

<p><strong>Rule:</strong> Replace broad terms with narrower, domain-specific equivalents.</p>

<p>---</p>

<h4>Mechanism 3: Context-Specific Relationships</h4>

<p><strong>What:</strong> Reference actors, processes, or goals specific to the context.</p>

<p><strong>Examples:</strong></p>

<p>| Context | Generic | Context-Specific | Why Signals Context? |</p>
<p>|---------|---------|------------------|---------------------|</p>
<p>| Strafrecht | "stop it happening again" | "voorkomen van recidive" | Criminal justice goal |</p>
<p>| DJI | "person in charge" | "directeur van de inrichting" | Prison facility role |</p>
<p>| OM | "decision maker" | "officier van justitie" | Prosecutor role |</p>
<p>| Strafrecht | "process to decide guilt" | "strafproces" | Criminal procedure |</p>

<p><strong>Rule:</strong> Reference domain-specific actors and goals without naming the organization/law.</p>

<p>---</p>

<h3>4.2 The Validation Test</h3>

<p><strong>Question:</strong> "Can a domain expert identify which context this definition belongs to, WITHOUT seeing the context label?"</p>

<p><strong>Test:</strong></p>
<ol>
<li>Remove all context metadata (organisatorische_context, juridische_context)</li>
<li>Show definition to 5 legal domain experts</li>
<li>Ask: "Which legal domain does this belong to?" (Strafrecht, Bestuursrecht, Civiel recht, etc.)</li>
</ol>

<p><strong>Success Criteria:</strong></p>
<ul>
<li>≥4/5 experts correctly identify context → ✅ IMPLICIT (context successfully encoded)</li>
<li>2-3/5 experts correct → ⚠️ WEAK (context signals too subtle)</li>
<li>≤1/5 experts correct → ❌ TOO GENERIC (context not applied)</li>
</ul>

<p><strong>Example:</strong></p>

<pre><code>Definition: "Sanctie is een opgelegde correctie bij vastgestelde overtredingen,
gericht op herstel en voorkomen van recidive."

Expert 1: Strafrecht ✅
Expert 2: Strafrecht ✅
Expert 3: Bestuursrecht ❌ (could be administrative sanctions)
Expert 4: Strafrecht ✅
Expert 5: Strafrecht ✅

Result: 4/5 = ✅ IMPLICIT (strong context signal)</code></pre>

<p>---</p>

<h2>5. Database Evidence: Real-World Examples</h2>

<h3>5.1 Good Implicit Context (from database)</h3>

<p><strong>Example 1: "grondslag"</strong></p>
<pre><code>Context: organisatorische_context = ["Strafrechtketen"], juridische_context = ["Strafrecht"]

Definition: "Verdenking of veroordeling die de strafrechtketen het recht geeft
identiteitsgegevens in de strafrechtketen te verwerken"</code></pre>

<p><strong>Analysis:</strong></p>
<ul>
<li>❌ **VIOLATION!** Contains "strafrechtketen" (2x) - literal organizational context</li>
<li>**CON-01 Pattern Match:** `\bstrafrecht\b` (substring match)</li>
<li>**Should be:** "Verdenking of veroordeling die het recht geeft identiteitsgegevens te verwerken"</li>
</ul>

<p><strong>Root Cause:</strong> GPT-4 included organizational context name (strafrechtketen) in definition.</p>

<p>---</p>

<p><strong>Example 2: "identiteitsbehandeling"</strong></p>
<pre><code>Context: organisatorische_context = ["Strafrechtketen"], juridische_context = ["Strafrecht"]

Definition: "Het geheel van activiteiten en voorzieningen in de strafrechtketen
om de juiste en rechtmatige verwerking van identiteitsgegevens van verdachten
en veroordeelden te borgen."</code></pre>

<p><strong>Analysis:</strong></p>
<ul>
<li>❌ **VIOLATION!** Contains "in de strafrechtketen" - literal organizational context</li>
<li>✅ **IMPLICIT signals:** "verdachten en veroordeelden" (criminal justice actors)</li>
<li>**Should be:** Remove "in de strafrechtketen", keep "verdachten en veroordeelden"</li>
</ul>

<p>---</p>

<p><strong>Example 3: "toets"</strong> (from first database result)</p>
<pre><code>Context: organisatorische_context = ["OM"], juridische_context = []

Definition: "Type beoordeling met een vastgestelde methodiek waarbij een deskundige
of geautoriseerde functionaris een objectieve vaststelling doet van de aanwezigheid,
geldigheid of juistheid van een feit, gegeven of situatie op basis van vooraf
bepaalde criteria."</code></pre>

<p><strong>Analysis:</strong></p>
<ul>
<li>✅ **NO VIOLATION** - No mention of "OM" or context labels</li>
<li>✅ **IMPLICIT signals:**</li>
<li> - "geautoriseerde functionaris" → formal authority (legal context)</li>
<li> - "objectieve vaststelling" → legal determination</li>
<li> - "feit, gegeven of situatie" → legal evidence terminology</li>
<li> - "vooraf bepaalde criteria" → procedural standards (legal framework)</li>
</ul>

<p><strong>Verdict:</strong> ✅ EXCELLENT EXAMPLE - Context implicit through terminology and scope.</p>

<p>---</p>

<h3>5.2 Observations from Database</h3>

<p><strong>Statistics (from 10 samples):</strong></p>
<ul>
<li>**CON-01 violations:** 3/10 (30%) - contain organizational context names</li>
<li>**Good implicit usage:** 7/10 (70%) - use domain terminology effectively</li>
</ul>

<p><strong>Common violations:</strong></p>
<ul>
<li>"strafrechtketen" in definition (2x)</li>
<li>"DJI" in definition (mentioned in CON-01 forbidden patterns)</li>
</ul>

<p><strong>Success pattern:</strong></p>
<ul>
<li>Use of domain-specific roles ("verdachte", "veroordeelde", "officier")</li>
<li>Use of domain-specific processes ("veroordeling", "verdenking", "recidive")</li>
<li>NO literal organization/context names</li>
</ul>

<p>---</p>

<h2>6. Framework for GPT-4: Teachable Criteria</h2>

<h3>6.1 The Three Rules</h3>

<p><strong>RULE 1: Domain Vocabulary Selection</strong></p>
<pre><code>FOR EACH WORD in definition:
  IF generic synonym exists (e.g., "person" vs "verdachte"):
    → Choose the domain-specific term
  IF domain-neutral term possible (e.g., "rule" vs "norm"):
    → Choose the legally precise term ("vastgestelde norm")</code></pre>

<p><strong>RULE 2: Scope Narrowing via Qualifiers</strong></p>
<pre><code>FOR EACH NOUN in definition:
  IF too broad for context (e.g., "procedure"):
    → Add domain-specific qualifier ("formele procedure", "gerechtelijke procedure")
  IF actor/role mentioned:
    → Use domain-specific role ("verdachte" not "persoon")</code></pre>

<p><strong>RULE 3: Context Signal via Relationships</strong></p>
<pre><code>IF definition describes a process:
  → Reference domain-specific goal (e.g., "voorkomen van recidive")
IF definition describes an entity:
  → Reference domain-specific framework (e.g., "geautoriseerd door bevoegde instantie")</code></pre>

<p>---</p>

<h3>6.2 The Checklist for GPT-4</h3>

<p><strong>Before generating definition, check:</strong></p>

<ul>
<li>[ ] **Terminology:** Are all nouns/verbs domain-specific, not generic?</li>
<li> - ❌ "controle" → ✅ "toezicht"</li>
<li> - ❌ "persoon" → ✅ "verdachte"</li>
</ul>

<ul>
<li>[ ] **Scope:** Are all broad terms narrowed to domain scope?</li>
<li> - ❌ "regels" → ✅ "vastgestelde normen"</li>
<li> - ❌ "systeem" → ✅ "geautoriseerd systeem"</li>
</ul>

<ul>
<li>[ ] **Actors:** Are roles domain-specific, not generic?</li>
<li> - ❌ "functionaris" → ✅ "officier van justitie"</li>
<li> - ❌ "beslisser" → ✅ "rechter"</li>
</ul>

<ul>
<li>[ ] **Goals:** Are purposes domain-specific?</li>
<li> - ❌ "voorkomen van herhaling" → ✅ "voorkomen van recidive"</li>
<li> - ❌ "herstel van schade" → ✅ "herstel van benadeelde partij"</li>
</ul>

<ul>
<li>[ ] **NO explicit labels:**</li>
<li> - ❌ "binnen het strafrecht"</li>
<li> - ❌ "in de context van DJI"</li>
<li> - ❌ "volgens het Wetboek van Strafvordering"</li>
</ul>

<p>---</p>

<h3>6.3 Decision Tree for Context Application</h3>

<pre><code>START: Generate definition for term X with context [Org Y, Legal Z]

↓
STEP 1: Identify generic definition (no context)
  Example: "Sanctie is een opgelegde correctie"

↓
STEP 2: For each word, ask: "Is this domain-specific enough?"
  - "sanctie" → YES (legal term)
  - "opgelegde" → YES (implies authority)
  - "correctie" → NO (too generic - could be any correction)

↓
STEP 3: Replace generic words with domain-specific equivalents
  - "correctie" → "beperking of bestraffende maatregel" (legal scope)

↓
STEP 4: Add context-specific scope narrowing
  - Add: "bij vastgestelde overtredingen" (legal violations, not just any violations)
  - Add: "gericht op herstel en voorkomen van recidive" (criminal justice goal)

↓
STEP 5: Validate - Does definition pass CON-01?
  - Check regex patterns (no literal context mentions)
  - Check domain expert test (≥4/5 identify context correctly)

↓
END: Context-specific definition without explicit mention
  "Sanctie is een opgelegde beperking of bestraffende maatregel bij
   vastgestelde overtredingen, gericht op herstel en voorkomen van recidive."</code></pre>

<p>---</p>

<h2>7. Updated CON-01 Operational Definition</h2>

<h3>7.1 Current Rule (Ambiguous)</h3>

<pre><code>"uitleg": "Formuleer de definitie zó dat deze past binnen de opgegeven context(en),
zonder deze expliciet te benoemen in de definitie zelf."</code></pre>

<p><strong>Problem:</strong> "past binnen" is vague - HOW to make it fit?</p>

<p>---</p>

<h3>7.2 Proposed Enhanced Rule</h3>

<pre><code>"uitleg": "Formuleer de definitie zó dat deze past binnen de opgegeven context(en),
zonder deze expliciet te benoemen in de definitie zelf.",

"toelichting_enhanced": "Een definitie is contextspecifiek wanneer:
1. TERMINOLOGIE: Gebruik van domein-specifieke termen in plaats van generieke synoniemen
2. SCOPE: Expliciete vernauwing tot het toepassingsgebied van de context
3. RELATIES: Verwijzingen naar context-specifieke actoren, processen of doelen

Deze context mag niet letterlijk worden herhaald (bijv. 'binnen het strafrecht',
'door het OM', 'volgens het Wetboek van Strafvordering'). De context moet
**impliciet doorklinken** door:
- Gebruik van juridische termen die tot het domein behoren (bijv. 'verdachte', 'recidive')
- Vernauwing van scope (bijv. 'vastgestelde normen' i.p.v. 'regels')
- Verwijzing naar domein-specifieke rollen/processen (bijv. 'veroordeling', 'strafproces')

VALIDATIE: Een definitie is contextspecifiek als een domeinexpert (zonder context metadata
te zien) kan bepalen in welke context deze geldt.",

"foute_voorbeelden_uitgebreid": [
  "Toezicht is controle uitgevoerd door DJI in juridische context [❌ org name + context label]",
  "Sanctie binnen het strafrecht is een maatregel [❌ literal context mention]",
  "Registratie volgens het Wetboek van Strafvordering [❌ specific legal code named]",
  "Maatregel zoals toegepast binnen de strafrechtketen [❌ organizational context named]"
],

"goede_voorbeelden_uitgebreid": [
  "Toezicht is het systematisch volgen van handelingen om te beoordelen of ze voldoen
   aan vastgestelde normen. [✅ 'vastgestelde normen' signals legal context implicitly]",

  "Sanctie is een opgelegde beperking of bestraffende maatregel bij vastgestelde
   overtredingen, gericht op herstel en voorkomen van recidive.
   [✅ 'recidive' = criminal justice term, no explicit 'strafrecht' mention]",

  "Registratie is het formeel vastleggen van gegevens in een geautoriseerd systeem.
   [✅ 'formeel', 'geautoriseerd' signal legal framework without naming it]"
]</code></pre>

<p>---</p>

<h2>8. Implementation in Context Awareness Module</h2>

<h3>8.1 Current Prompt (Line 201)</h3>

<pre><code>"⚠️ VERPLICHT: Gebruik onderstaande specifieke context om de definitie te formuleren
voor deze organisatorische, juridische en wettelijke setting. Maak de definitie
contextspecifiek zonder de context expliciet te benoemen."</code></pre>

<p><strong>Problem:</strong> No guidance on HOW to do this.</p>

<p>---</p>

<h3>8.2 Enhanced Prompt (Proposed)</h3>

<pre><code>"⚠️ VERPLICHT: Gebruik onderstaande specifieke context om de definitie te formuleren:

HOE context toepassen (DRIE MECHANISMEN):
1. TERMINOLOGIE: Gebruik domein-specifieke termen (bijv. 'verdachte' i.p.v. 'persoon')
2. SCOPE: Vernauw begrippen tot context (bijv. 'vastgestelde normen' i.p.v. 'regels')
3. RELATIES: Verwijs naar context-specifieke actoren/doelen (bijv. 'voorkomen van recidive')

❌ VERBODEN (CON-01):
- Context labels: 'binnen het strafrecht', 'in de context van'
- Organisatienamen: 'DJI', 'OM', 'strafrechtketen' (in definition text)
- Wettelijke codes: 'Wetboek van Strafvordering', 'volgens de wet'

✅ TOEGESTAAN:
- Domein termen: 'verdachte', 'recidive', 'sanctie'
- Vernauwde scope: 'vastgestelde normen', 'geautoriseerd systeem'
- Context-specifieke rollen: 'officier van justitie', 'rechter'

TOETS: Kan een expert zonder context metadata zien in welke context deze definitie hoort?
"</code></pre>

<p>---</p>

<h2>9. Success Metrics</h2>

<h3>9.1 CON-01 Compliance Rate</h3>

<p><strong>Before enhancement:</strong></p>
<ul>
<li>Database shows: 30% CON-01 violations (3/10 samples contain org names)</li>
</ul>

<p><strong>After enhancement:</strong></p>
<ul>
<li>Target: <5% CON-01 violations</li>
<li>Measure: Automated regex check on new definitions</li>
</ul>

<p>---</p>

<h3>9.2 Context Signal Strength</h3>

<p><strong>Test:</strong> Domain expert identification rate</p>

<p><strong>Method:</strong></p>
<ol>
<li>Generate 20 definitions with context</li>
<li>Remove context metadata</li>
<li>Ask 5 legal experts: "Which domain?" (Strafrecht, Bestuursrecht, etc.)</li>
<li>Calculate agreement rate</li>
</ol>

<p><strong>Target:</strong></p>
<ul>
<li>≥80% of definitions: ≥4/5 experts agree (strong signal)</li>
<li>≤10% of definitions: ≤2/5 experts agree (weak signal)</li>
</ul>

<p>---</p>

<h3>9.3 Terminology Precision</h3>

<p><strong>Measure:</strong> % of definitions using domain-specific terms vs generic terms</p>

<p><strong>Examples:</strong></p>
<ul>
<li>"verdachte" vs "persoon" → domain-specific ✅</li>
<li>"vastgestelde normen" vs "regels" → domain-specific ✅</li>
<li>"recidive" vs "herhaling" → domain-specific ✅</li>
</ul>

<p><strong>Target:</strong> ≥70% of nouns/verbs in definitions are domain-specific (not generic)</p>

<p>---</p>

<h2>10. Comparison: This vs Other DEF-102 Contradictions</h2>

<h3>10.1 Contradiction Type</h3>

<p>| Contradiction | Type | Severity | Resolvable? |</p>
<p>|--------------|------|----------|------------|</p>
<p>| <strong>#1: "is" usage deadlock</strong> | LOGICAL PARADOX | CRITICAL | YES - Exception clause |</p>
<p>| <strong>#2: Container terms</strong> | LOGICAL PARADOX | HIGH | YES - Exception clause |</p>
<p>| <strong>#5: Context usage</strong> | <strong>AMBIGUITY</strong> | <strong>MEDIUM</strong> | <strong>YES - Enhanced guidance</strong> |</p>

<p><strong>Key Difference:</strong></p>
<ul>
<li>Contradictions #1-#4: **Logical impossibilities** (mutually exclusive rules)</li>
<li>Contradiction #5: **Operational ambiguity** (unclear implementation)</li>
</ul>

<p>---</p>

<h3>10.2 Resolution Strategy</h3>

<p>| Contradiction | Fix Type | Effort |</p>
<p>|--------------|----------|--------|</p>
<p>| <strong>#1-#4</strong> | Add exception clauses (5 lines × 3 modules) | 3 hours |</p>
<p>| <strong>#5</strong> | Enhance guidance + examples (update CON-01, context_awareness_module) | 2 hours |</p>

<p><strong>Total effort:</strong> 5 hours for all DEF-102 contradictions</p>

<p>---</p>

<h2>11. Recommendation</h2>

<h3>11.1 Update CON-01.json</h3>

<p><strong>File:</strong> <code>/Users/chrislehnen/Projecten/Definitie-app/src/toetsregels/regels/CON-01.json</code></p>

<p><strong>Changes:</strong></p>
<ol>
<li>Add `toelichting_enhanced` field with three mechanisms</li>
<li>Expand `goede_voorbeelden` with WHY explanations (✅ annotations)</li>
<li>Expand `foute_voorbeelden` with WHY explanations (❌ annotations)</li>
</ol>

<p><strong>Effort:</strong> 1 hour (add ~100 lines JSON)</p>

<p>---</p>

<h3>11.2 Update context_awareness_module.py</h3>

<p><strong>File:</strong> <code>/Users/chrislehnen/Projecten/Definitie-app/src/services/prompts/modules/context_awareness_module.py</code></p>

<p><strong>Changes:</strong></p>
<ol>
<li>Line 201: Replace with enhanced prompt (3 mechanisms + examples)</li>
<li>Add inline examples for each mechanism</li>
</ol>

<p><strong>Effort:</strong> 30 minutes (replace 1 line with 20 lines)</p>

<p>---</p>

<h3>11.3 Add Integration Test</h3>

<p><strong>File:</strong> <code>tests/integration/test_context_usage.py</code> (NEW)</p>

<p><strong>Test cases:</strong></p>
<pre><code>def test_con01_no_explicit_context_labels():
    """Verify generated definitions don't contain forbidden context labels."""
    # Test CON-01 regex patterns

def test_con01_domain_expert_identification():
    """Verify domain experts can identify context from definition."""
    # 5 expert simulation test

def test_con01_terminology_precision():
    """Verify definitions use domain-specific terms, not generic."""
    # Check term selection</code></pre>

<p><strong>Effort:</strong> 1 hour (3 test cases)</p>

<p>---</p>

<h2>12. Conclusion</h2>

<h3>12.1 The Answer to "How to Apply Context"</h3>

<p><strong>THE MECHANISM:</strong></p>

<p>Context <strong>narrows the scope</strong> of the definition through:</p>
<ol>
<li>**Vocabulary selection** - domain-specific terms vs generic terms</li>
<li>**Scope qualifiers** - narrowing broad concepts to domain boundaries</li>
<li>**Implicit relationships** - referencing domain-specific actors/goals</li>
</ol>

<p><strong>WITHOUT:</strong></p>
<ul>
<li>Context labels ("binnen het strafrecht")</li>
<li>Organization names ("DJI", "OM")</li>
<li>Legal code mentions ("Wetboek van Strafvordering")</li>
</ul>

<p>---</p>

<h3>12.2 Why This Isn't a Contradiction</h3>

<p><strong>It's NOT impossible:</strong> Many database definitions successfully do this (70% pass CON-01)</p>

<p><strong>It's just underspecified:</strong> GPT-4 needs concrete guidance on:</p>
<ul>
<li>WHAT to do (three mechanisms)</li>
<li>HOW to do it (decision tree)</li>
<li>WHEN successful (domain expert test)</li>
</ul>

<p>---</p>

<h3>12.3 Resolution Path</h3>

<p><strong>Phase 1: Documentation (1.5 hours)</strong></p>
<ul>
<li>[ ] Update CON-01.json with enhanced guidance</li>
<li>[ ] Update context_awareness_module.py with three mechanisms</li>
</ul>

<p><strong>Phase 2: Validation (1 hour)</strong></p>
<ul>
<li>[ ] Add integration tests for CON-01 compliance</li>
<li>[ ] Run tests on 20 generated definitions</li>
</ul>

<p><strong>Phase 3: Measurement (ongoing)</strong></p>
<ul>
<li>[ ] Track CON-01 violation rate (target: <5%)</li>
<li>[ ] Track domain expert identification rate (target: >80%)</li>
</ul>

<p>---</p>

<p><strong>END OF CONTEXT USAGE ANALYSIS</strong></p>

<p><strong>Status:</strong> Ready to implement enhanced CON-01 guidance alongside DEF-102 exception clauses.</p>

  </div>
</body>
</html>