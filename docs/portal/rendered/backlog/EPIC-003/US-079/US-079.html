<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Implement Wiktionary Integration</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">← Terug naar Portal</a>
    <p>---</p>
<p>id: US-079</p>
<p>epic: EPIC-003</p>
<p>titel: Implement Wiktionary Integration</p>
<p>type: feature</p>
<p>status: proposed</p>
<p>prioriteit: LOW</p>
<p>story_points: 5</p>
<p>sprint: backlog</p>
<p>owner: developer</p>
<p>applies_to: definitie-app@current</p>
<p>canonical: false</p>
<p>last_verified: 2025-09-11</p>
<p>vereisten:</p>
<ul>
<li> - REQ-012</li>
<li> - REQ-021</li>
<p>toegevoegd_door: system</p>
<p>toegevoegd_op: 2025-09-11</p>
<p>---</p>
</ul>

<h1>US-079: Implement Wiktionary Integration</h1>

<p><strong>Epic:</strong> EPIC-003 - Content Verrijking & Web Lookup</p>

<h2>Gebruikersverhaal</h2>

<p><strong>Als een</strong> juridisch professional</p>
<p><strong>wil ik</strong> Wiktionary als bron voor woorddefinities kunnen gebruiken</p>
<p><strong>zodat</strong> ik toegang heb tot taalkundige informatie naast juridische bronnen</p>

<h2>Probleembeschrijving</h2>

<p>Service voor Wiktionary ontbreekt nog in <code>services/modern_web_lookup_service.py</code>.</p>
<p>De infrastructuur bestaat al (vergelijkbaar met Wikipedia), maar de specifieke implementatie ontbreekt.</p>

<h2>Acceptatiecriteria</h2>

<h3>Functionele Criteria</h3>
<ul>
<li>[ ] Wiktionary API integratie werkend</li>
<li>[ ] Nederlandse taal ondersteuning</li>
<li>[ ] Definitie extractie uit Wiktionary format</li>
<li>[ ] Synoniemen/antoniemen extractie indien beschikbaar</li>
<li>[ ] Etymologie informatie extraction</li>
<li>[ ] Fallback naar Engels indien Nederlands niet beschikbaar</li>
</ul>

<h3>Technische Criteria</h3>
<ul>
<li>[ ] Service vergelijkbaar met Wikipedia implementatie</li>
<li>[ ] Rate limiting gerespecteerd</li>
<li>[ ] Caching van resultaten</li>
<li>[ ] Error handling voor niet-bestaande termen</li>
<li>[ ] Timeout handling (max 5 seconden)</li>
</ul>

<h3>Data Criteria</h3>
<ul>
<li>[ ] Structured data extraction</li>
<li>[ ] Metadata behoud (bron, datum, versie)</li>
<li>[ ] Unicode support voor speciale karakters</li>
<li>[ ] HTML/wiki markup cleaning</li>
</ul>

<h3>Niet‑functionele acceptatiecriteria (Veilige Scraping)</h3>
<ul>
<li>Robots.txt en Terms of Service worden gerespecteerd voor alle bronnen</li>
<li>Per provider geldt een timeout ≤ 5s; totale lookup binnen budget</li>
<li>Rate limiting + exponential backoff bij netwerkfouten/timeouts</li>
<li>Binnenkomende HTML/wiki‑markup wordt gesanitized (XSS‑preventie) vóór parsing</li>
<li>Geen PII wordt verzameld of gelogd; AVG/BIR‑conform</li>
<li>User‑Agent is eenduidig en herleidbaar naar dit project</li>
<li>Provenance bevat minimaal bron, URL, timestamp en (indien van toepassing) versie</li>
<li>Externe requests worden beknopt geaudit (zonder inhoud te loggen)</li>
</ul>

<h2>Implementatie Details</h2>

<h3>Wiktionary Service</h3>
<pre><code>class WiktionaryService:
    async def lookup(self, term: str, language: str = "nl") -&gt; WiktionaryResult:
        # Parse Wiktionary API response
        # Extract definitions, etymology, synonyms
        # Clean wiki markup
        # Return structured result</code></pre>

<h3>Expected Structure</h3>
<pre><code>@dataclass
class WiktionaryResult:
    term: str
    definitions: list[str]
    etymology: str | None
    synonyms: list[str]
    antonyms: list[str]
    usage_examples: list[str]</code></pre>

<h2>Definition of Done</h2>

<ul>
<li>[ ] Wiktionary service geïmplementeerd</li>
<li>[ ] Unit tests voor API parsing</li>
<li>[ ] Integration test met echte Wiktionary</li>
<li>[ ] Error scenarios getest</li>
<li>[ ] Caching werkend</li>
<li>[ ] Performance binnen 5 seconden</li>
<li>[ ] Documentatie bijgewerkt</li>
</ul>

<h2>Risico's</h2>

<p>| Risico | Impact | Mitigatie |</p>
<p>|--------|--------|-----------|</p>
<p>| API changes | Medium | Version check implementeren |</p>
<p>| Rate limiting | Low | Respecteer API limits |</p>
<p>| Incomplete NL data | Medium | Fallback naar EN |</p>

<h2>Notes</h2>

<ul>
<li>Wiktionary heeft andere structuur dan Wikipedia</li>
<li>Let op verschillende taalversies</li>
<li>Overweeg offline dictionary als fallback</li>
</ul>

  </div>
</body>
</html>