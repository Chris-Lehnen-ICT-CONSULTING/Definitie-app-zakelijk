<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>US-442: Remove Duplicate Context Selectors</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">‚Üê Terug naar Portal</a>
    <h1>US-442: Remove Duplicate Context Selectors</h1>

<p><strong>Epic:</strong> EPIC-028 - Feature Cleanup & UI Simplification</p>
<p><strong>Priority:</strong> HIGH</p>
<p><strong>Effort:</strong> 2 story points</p>
<p><strong>Status:</strong> üîµ TODO</p>

<p>---</p>

<h2>üìñ User Story</h2>

<p><strong>Als</strong> developer</p>
<p><strong>Wil ik</strong> duplicate context selector implementaties verwijderen</p>
<p><strong>Zodat</strong> er maar 1 duidelijke implementatie is en de codebase simpeler wordt</p>

<p>---</p>

<h2>üéØ Acceptance Criteria</h2>

<ul>
<li>[ ] `src/ui/components/context_selector.py` verwijderd</li>
<li>[ ] `src/ui/components/enhanced_context_selector.py` verwijderd</li>
<li>[ ] `enhanced_context_manager_selector.py` blijft (active version)</li>
<li>[ ] Alle imports updated naar actieve versie</li>
<li>[ ] Context selectie werkt nog steeds in UI</li>
<li>[ ] Geen broken references</li>
<li>[ ] Tests blijven groen</li>
</ul>

<p>---</p>

<h2>üîß Technical Tasks</h2>

<h3>1. Identify Active Version</h3>

<p><strong>KEEP:</strong> <code>src/ui/components/enhanced_context_manager_selector.py</code></p>
<ul>
<li>Huidige actieve implementatie</li>
<li>Gebruikt ContextManager pattern</li>
<li>100% functional</li>
</ul>

<p><strong>REMOVE:</strong></p>
<ul>
<li>`src/ui/components/context_selector.py` (legacy v1)</li>
<li>`src/ui/components/enhanced_context_selector.py` (intermediate version)</li>
</ul>

<h3>2. Remove Files</h3>
<pre><code>rm src/ui/components/context_selector.py
rm src/ui/components/enhanced_context_selector.py</code></pre>

<h3>3. Scan for References</h3>
<pre><code>grep -r "from.*context_selector import\|import.*context_selector" src/ --include="*.py"</code></pre>

<h3>4. Update Imports (if any found)</h3>

<p><strong>Replace:</strong></p>
<pre><code>from ui.components.context_selector import ContextSelector
from ui.components.enhanced_context_selector import EnhancedContextSelector</code></pre>

<p><strong>With:</strong></p>
<pre><code>from ui.components.enhanced_context_manager_selector import (
    EnhancedContextManagerSelector as ContextSelector
)</code></pre>

<h3>5. Verify UI Functionality</h3>
<ul>
<li>Load app</li>
<li>Test context selection in Generator tab</li>
<li>Verify organisatorische/juridische/wettelijke context dropdowns work</li>
<li>Test definition generation with context</li>
</ul>

<h3>6. Run Tests</h3>
<pre><code>pytest tests/ -k context -v
pytest tests/ -v</code></pre>

<p>---</p>

<h2>üìã Testing Checklist</h2>

<ul>
<li>[ ] App loads successfully</li>
<li>[ ] Context dropdowns render correctly</li>
<li>[ ] Can select organisatorische context</li>
<li>[ ] Can select juridische context</li>
<li>[ ] Can select wettelijke basis</li>
<li>[ ] Definition generation works with context</li>
<li>[ ] No import errors in console</li>
<li>[ ] All tests pass</li>
</ul>

<p>---</p>

<h2>üìä Impact</h2>

<p><strong>Before:</strong> 3 context selector implementations</p>
<p><strong>After:</strong> 1 clean implementation</p>

<p><strong>LOC Removed:</strong> ~500</p>
<p><strong>Files Removed:</strong> 2</p>

<p>---</p>

<h2>üîó Dependencies</h2>

<ul>
<li>**After:** US-441 (cleanup feature flags eerst)</li>
</ul>

<p>---</p>

<h2>üìù Notes</h2>

<ul>
<li>`enhanced_context_manager_selector.py` is current production code</li>
<li>Legacy versions zijn niet meer in gebruik</li>
<li>Possible that no imports need updating (already using enhanced version)</li>
</ul>

  </div>
</body>
</html>