<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>US-444: Remove Web Lookup Tab</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">â† Terug naar Portal</a>
    <h1>US-444: Remove Web Lookup Tab</h1>

<p><strong>Epic:</strong> EPIC-028 - Feature Cleanup & UI Simplification</p>
<p><strong>Priority:</strong> MEDIUM</p>
<p><strong>Effort:</strong> 2 story points</p>
<p><strong>Status:</strong> ğŸ”µ TODO</p>

<p>---</p>

<h2>ğŸ“– User Story</h2>

<p><strong>Als</strong> gebruiker</p>
<p><strong>Wil ik</strong> geen redundante web lookup tab zien</p>
<p><strong>Zodat</strong> ik weet dat web lookup automatisch gebeurt tijdens definitie generatie</p>

<p>---</p>

<h2>ğŸ¯ Acceptance Criteria</h2>

<ul>
<li>[ ] `src/ui/components/web_lookup_tab.py` verwijderd (300 LOC)</li>
<li>[ ] Tab registration verwijderd uit `tabbed_interface.py`</li>
<li>[ ] Import statements verwijderd</li>
<li>[ ] Tab verschijnt niet meer in UI (was 6 tabs â†’ nu 5 tabs)</li>
<li>[ ] Web lookup functionaliteit blijft werken via automatische integratie</li>
<li>[ ] `ModernWebLookupService` blijft beschikbaar voor definitie generatie</li>
<li>[ ] Tests blijven groen</li>
</ul>

<p>---</p>

<h2>ğŸ”§ Technical Tasks</h2>

<h3>1. Verify Web Lookup Integration</h3>

<p><strong>Check dat deze BLIJVEN:</strong></p>
<ul>
<li>`src/services/modern_web_lookup_service.py` â€” Core service</li>
<li>Web lookup tijdens definitie generatie (automatic)</li>
<li>Wikipedia/SRU integration in generation flow</li>
</ul>

<h3>2. Remove Files</h3>
<pre><code>rm src/ui/components/web_lookup_tab.py</code></pre>

<h3>3. Update `src/ui/tabbed_interface.py`</h3>

<p><strong>Remove import (line ~69):</strong></p>
<pre><code>from ui.components.web_lookup_tab import WebLookupTab</code></pre>

<p><strong>Remove initialization (line ~191):</strong></p>
<pre><code>self.web_lookup_tab = WebLookupTab(self.repository)</code></pre>

<p><strong>Remove tab config (lines ~241-245):</strong></p>
<pre><code>"web_lookup": {
    "title": "ğŸ” Web Lookup",
    "icon": "ğŸ”",
    "description": "Zoek definities en bronnen, valideer duplicaten",
},</code></pre>

<p><strong>Remove render call (lines ~1666-1667):</strong></p>
<pre><code>elif tab_key == "web_lookup":
    self.web_lookup_tab.render()</code></pre>

<h3>4. Verify Automatic Web Lookup Still Works</h3>

<p><strong>Test flow:</strong></p>
<ol>
<li>Generate definitie voor "authenticatie"</li>
<li>Verify Wikipedia/SRU sources appear in results</li>
<li>Check `sources` field in generation output</li>
<li>Verify web context is included in prompt</li>
</ol>

<p><strong>Code check:</strong></p>
<pre><code>grep -r "ModernWebLookupService\|web_lookup_service" src/services/ --include="*.py"</code></pre>

<h3>5. Scan for References</h3>
<pre><code>grep -r "web_lookup_tab\|WebLookupTab" src/ --include="*.py"</code></pre>

<h3>6. Run Tests</h3>
<pre><code>pytest tests/unit/web_lookup/ -v
pytest tests/ -v</code></pre>

<p>---</p>

<h2>ğŸ“‹ Testing Checklist</h2>

<ul>
<li>[ ] UI loads zonder errors</li>
<li>[ ] Tab menu toont 5 tabs (geen Web Lookup meer)</li>
<li>[ ] Definition generation includes web sources automatically</li>
<li>[ ] Wikipedia sources appear in generated definitions</li>
<li>[ ] SRU sources appear in generated definitions</li>
<li>[ ] `ModernWebLookupService` tests still pass</li>
<li>[ ] No broken references</li>
</ul>

<p>---</p>

<h2>ğŸ“Š Impact</h2>

<p><strong>Before:</strong> Standalone Web Lookup Tab + Automatic Integration</p>
<p><strong>After:</strong> Only Automatic Integration (simpler UX)</p>

<p><strong>LOC Removed:</strong> ~300</p>
<p><strong>Files Removed:</strong> 1</p>

<p><strong>User Benefit:</strong></p>
<ul>
<li>Geen verwarring over wanneer Web Lookup te gebruiken</li>
<li>Automatische integratie werkt altijd</li>
<li>EÃ©n manier om definities te genereren (met web sources)</li>
</ul>

<p>---</p>

<h2>ğŸ”— Dependencies</h2>

<ul>
<li>**After:** US-441, US-442, US-443</li>
</ul>

<p>---</p>

<h2>ğŸ“ Notes</h2>

<ul>
<li>Web Lookup Tab was redundant met automatische integratie</li>
<li>`ModernWebLookupService` blijft volledig functioneel</li>
<li>Users hoeven niet meer te beslissen: "standalone lookup of generatie?"</li>
<li>Simplifies UX: Ã©Ã©n knop = definitie + web sources</li>
</ul>

  </div>
</body>
</html>