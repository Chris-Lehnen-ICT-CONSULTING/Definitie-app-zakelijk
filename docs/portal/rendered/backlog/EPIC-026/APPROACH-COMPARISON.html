<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EPIC-026: Approach Comparison Matrix</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">← Terug naar Portal</a>
    <p>---</p>
<p>id: EPIC-026-APPROACH-COMPARISON</p>
<p>epic: EPIC-026</p>
<p>created: 2025-10-03</p>
<p>owner: bmad-orchestrator</p>
<p>status: comparison</p>
<p>type: decision-support</p>
<p>---</p>

<h1>EPIC-026: Approach Comparison Matrix</h1>

<p><strong>TL;DR:</strong> Enterprise plans assumed team/production. Solo dev reality needs pragmatic incremental approach.</p>

<p>---</p>

<h2>COMPARISON TABLE</h2>

<p>| Aspect | Original (v1.0) | Revised (v2.0) | Technical Analysis | Single Dev Reality ✅ |</p>
<p>|--------|-----------------|----------------|--------------------|-----------------------|</p>
<p>| <strong>Timeline</strong> | 11-16 days | 22 weeks | 4-5 weeks | <strong>1 week + incremental</strong> |</p>
<p>| <strong>Cost</strong> | €12.8k | €92k-€121k | €43-67k | <strong>Minimal (no features blocked)</strong> |</p>
<p>| <strong>Test Phase</strong> | None | 5 weeks (Phase 0) | 7 days (Week 1) | <strong>1 day (smoke tests)</strong> |</p>
<p>| <strong>Test Count</strong> | 73 baseline | 435 tests (85% coverage) | 15-20 integration | <strong>10 smoke tests</strong> |</p>
<p>| <strong>Design Phase</strong> | 3-5 days | 3 weeks | 7 days | <strong>2 hours (navigation aids)</strong> |</p>
<p>| <strong>Extraction</strong> | 7-10 days | 9 weeks | 4 weeks | <strong>Incremental (ongoing)</strong> |</p>
<p>| <strong>New Services</strong> | Unknown | 7 services | 2 services | <strong>0 (just move to files)</strong> |</p>
<p>| <strong>Architecture Layers</strong> | Unknown | 4 layers | 3 layers | <strong>Keep current (3 layers)</strong> |</p>
<p>| <strong>Features Blocked</strong> | 11-16 days | 22 weeks | 4-5 weeks | <strong>None</strong> |</p>
<p>| <strong>God Objects Split</strong> | 3 files | 2 files (repository deferred) | 2 files | <strong>Extract pain points only</strong> |</p>
<p>| <strong>DI Pattern</strong> | Assumed | Full implementation | Enhanced existing | <strong>Not needed (YAGNI)</strong> |</p>
<p>| <strong>Orchestrators</strong> | Unknown | 2 new orchestrators | Use existing | <strong>None (just handlers)</strong> |</p>
<p>| <strong>Hardcoded Patterns</strong> | Unknown | Still hardcoded | Move to config | <strong>Fix when changed 2x</strong> |</p>
<p>| <strong>Context</strong> | Team assumed | Team assumed | Team assumed | <strong>SOLO DEVELOPER</strong> ✅ |</p>

<p>---</p>

<h2>DETAILED COMPARISON</h2>

<h3>1. TIMELINE & EFFORT</h3>

<h4>Original (v1.0) - NAIVE</h4>
<pre><code>Timeline: 11-16 days
Context: Assumed simple file splitting
Problem: Underestimated complexity
Outcome: REJECTED (too naive)</code></pre>

<h4>Revised (v2.0) - ENTERPRISE</h4>
<pre><code>Timeline: 22 weeks
  Phase 0: 5 weeks (test recovery - 435 tests)
  Phase 1: 3 weeks (design)
  Phase 2: 9 weeks (extraction)
  Phase 3: 2 weeks (validation)
  Phase 4: 3 weeks (documentation)

Context: Multi-developer team, production environment
Problem: Enterprise theater for solo dev
Outcome: OVERKILL (5.5 months no features)</code></pre>

<h4>Technical Analysis - PRAGMATIC</h4>
<pre><code>Timeline: 4-5 weeks
  Week 1: Foundation (7 days, not 5)
  Week 2: Business logic (5 days)
  Week 3: UI splitting (5 days)
  Week 4: Orchestration (5 days)
  Week 5: Cleanup (3 days)

Context: Still assumed team
Problem: Still too long for solo
Outcome: BETTER but still overkill</code></pre>

<h4>Single Dev Reality ✅ - HONEST</h4>
<pre><code>Timeline: 1 week + incremental
  Week 1: Unblock (5 days)
    - Fix tests: 4 hours
    - Smoke tests: 1 day
    - Navigation aids: 2 hours
    - Documentation: 1 hour
  Ongoing: Extract pain points (2-3 hours each, when encountered)

Context: SOLO developer, personal tool, dev environment
Problem: None (right-sized for reality)
Outcome: APPROVED (balanced)</code></pre>

<p>---</p>

<h3>2. TEST STRATEGY</h3>

<h4>Original (v1.0)</h4>
<ul>
<li>Baseline: 73 tests (maintain)</li>
<li>New tests: Unknown</li>
<li>Coverage: Not specified</li>
<li>**Problem:** No test strategy</li>
</ul>

<h4>Revised (v2.0) - COMPREHENSIVE</h4>
<ul>
<li>Phase 0: 5 weeks dedicated to tests</li>
<li>New tests: 435 tests (85% coverage target)</li>
<li>Test types: Unit (40%), Integration (60%)</li>
<li>Infrastructure: Streamlit test harness, pytest-playwright</li>
<li>**Problem:** Overkill for solo dev (5 weeks before ANY refactoring)</li>
</ul>

<h4>Technical Analysis - TARGETED</h4>
<ul>
<li>Week 1: 15-20 integration tests</li>
<li>Coverage: 70-75% on god objects</li>
<li>Test types: Integration-focused</li>
<li>**Problem:** Still requires 7 days upfront</li>
</ul>

<h4>Single Dev Reality ✅ - PRAGMATIC</h4>
<ul>
<li>Day 1: Fix broken tests (pytest runs)</li>
<li>Day 2: 10 smoke tests (<30 sec, 80% confidence)</li>
<li>Ongoing: Add tests for extracted code (1-2 per extraction)</li>
<li>Coverage: 80% of critical paths (not 85% of all code)</li>
<li>**Benefit:** Unblocked in 1 day, not 5 weeks</li>
</ul>

<p>---</p>

<h3>3. ARCHITECTURE APPROACH</h3>

<h4>Original (v1.0)</h4>
<ul>
<li>Approach: Naive file splitting</li>
<li>Services: Unknown</li>
<li>Layers: Unknown</li>
<li>**Problem:** Would create more problems than it solves</li>
</ul>

<h4>Revised (v2.0) - ORCHESTRATOR-FIRST</h4>
<ul>
<li>Approach: Extract hidden orchestrators, create service layers</li>
<li>Services: 7 new services (89 → 96 total)</li>
<li>Layers: 4 (UI → Orchestration → Service → Data)</li>
<li>Orchestrators: `DefinitionGenerationOrchestrator`, `RegenerationOrchestrator`</li>
<li>Pattern: Full DI, interface-based abstractions</li>
<li>**Problem:** Over-engineering, orchestrator proliferation</li>
</ul>

<h4>Technical Analysis - PRAGMATIC</h4>
<ul>
<li>Approach: Enhance existing services, not create new</li>
<li>Services: 2 new (89 → 91 total)</li>
<li>Layers: 3 (UI → Service → Data)</li>
<li>Orchestrators: Use existing `DefinitionOrchestratorV2`</li>
<li>Pattern: Minimal new abstractions</li>
<li>**Problem:** Still creates services when files would suffice</li>
</ul>

<h4>Single Dev Reality ✅ - MINIMAL</h4>
<ul>
<li>Approach: Move code to separate files (not services)</li>
<li>Services: 0 new (keep 89, good enough)</li>
<li>Layers: 3 (keep current)</li>
<li>Orchestrators: 0 new (just extract to handlers)</li>
<li>Pattern: No DI needed (YAGNI for solo)</li>
<li>**Benefit:** Same outcome, 80% less abstraction</li>
</ul>

<p>---</p>

<h3>4. SCOPE DIFFERENCES</h3>

<h4>God Objects to Refactor</h4>

<p>| File | v1.0 | v2.0 | Technical | Solo Dev ✅ |</p>
<p>|------|------|------|-----------|-------------|</p>
<p>| <code>definition_generator_tab.py</code> (2525 LOC) | Split | Extract UI/Logic/Renderer | Split into 3 components | <strong>Extract pain points only</strong> |</p>
<p>| <code>tabbed_interface.py</code> (1793 LOC) | Split | Extract orchestrators | Extract god method (380 LOC) | <strong>Add navigation aids first</strong> |</p>
<p>| <code>definitie_repository.py</code> (1815 LOC) | Split | Defer (false positive) | Defer (well-structured) | <strong>Leave alone (it's fine)</strong> ✅ |</p>

<p><strong>Key Difference:</strong> Solo dev doesn't need perfect architecture, just navigable code.</p>

<p>---</p>

<h3>5. COST-BENEFIT ANALYSIS</h3>

<h4>Revised (v2.0) - Enterprise Approach</h4>

<p><strong>Investment:</strong></p>
<ul>
<li>5 weeks test recovery</li>
<li>3 weeks design</li>
<li>9 weeks extraction</li>
<li>2 weeks validation</li>
<li>**Total: 19 weeks = 4.75 months**</li>
</ul>

<p><strong>Cost (solo dev context):</strong></p>
<ul>
<li>4.75 months no features</li>
<li>Opportunity cost: High</li>
<li>Complexity: Orchestrators, DI, service layers</li>
</ul>

<p><strong>Benefit (solo dev context):</strong></p>
<ul>
<li>Perfect architecture</li>
<li>85% test coverage</li>
<li>Zero god objects</li>
</ul>

<p><strong>ROI:</strong> <strong>NEGATIVE</strong> (solo dev doesn't need team-oriented architecture)</p>

<h4>Single Dev Reality ✅ - Pragmatic Approach</h4>

<p><strong>Investment:</strong></p>
<ul>
<li>4 hours fix tests</li>
<li>1 day smoke tests</li>
<li>2 hours navigation aids</li>
<li>Ongoing: 2-3 hours per extraction (when needed)</li>
<li>**Total: 2 days upfront + incremental**</li>
</ul>

<p><strong>Cost:</strong></p>
<ul>
<li>2 days initial investment</li>
<li>No feature blocking</li>
<li>Minimal complexity added</li>
</ul>

<p><strong>Benefit:</strong></p>
<ul>
<li>Tests run (unblocked)</li>
<li>80% confidence (smoke tests)</li>
<li>Code navigable (aids)</li>
<li>Incremental improvement</li>
</ul>

<p><strong>ROI:</strong> <strong>MASSIVE POSITIVE</strong> (unblocked immediately, features continue)</p>

<p>---</p>

<h2>QUANTITATIVE COMPARISON</h2>

<h3>Timeline Comparison</h3>

<pre><code>┌────────────────────────────────────────────────────────────┐
│                      TIMELINE COMPARISON                    │
│                                                             │
│  v1.0 (Naive):        ████ 11-16 days                      │
│                                                             │
│  v2.0 (Enterprise):   ████████████████████████             │
│                       22 weeks (110 days)                  │
│                                                             │
│  Technical:           ██████████ 4-5 weeks (25 days)      │
│                                                             │
│  Solo Dev ✅:         █ 1 week + incremental (5 days +)   │
│                                                             │
└────────────────────────────────────────────────────────────┘

Savings: 105 days (21 weeks) → feature development instead</code></pre>

<h3>Test Investment Comparison</h3>

<pre><code>┌────────────────────────────────────────────────────────────┐
│                   TEST INVESTMENT COMPARISON                │
│                                                             │
│  v2.0 (Enterprise):   ████████████ 435 tests, 25 days     │
│                                                             │
│  Technical:           ████ 15-20 tests, 7 days             │
│                                                             │
│  Solo Dev ✅:         █ 10 smoke tests, 1 day              │
│                                                             │
└────────────────────────────────────────────────────────────┘

Efficiency: 80% confidence in 4% of time (1 day vs 25 days)</code></pre>

<h3>Architecture Complexity Comparison</h3>

<pre><code>┌────────────────────────────────────────────────────────────┐
│              ARCHITECTURE COMPLEXITY COMPARISON             │
│                                                             │
│  v2.0 (Enterprise):                                         │
│    Layers: 4 (UI → Orchestration → Service → Data)        │
│    Services: 96 (+7 new)                                   │
│    Patterns: Orchestrators, DI, Interfaces                 │
│    Abstraction: HIGH                                       │
│                                                             │
│  Technical:                                                 │
│    Layers: 3 (UI → Service → Data)                        │
│    Services: 91 (+2 new)                                   │
│    Patterns: Enhanced existing                             │
│    Abstraction: MEDIUM                                     │
│                                                             │
│  Solo Dev ✅:                                               │
│    Layers: 3 (keep current)                                │
│    Services: 89 (no new services)                          │
│    Patterns: Simple file extraction                        │
│    Abstraction: LOW                                        │
│                                                             │
└────────────────────────────────────────────────────────────┘

Solo Dev wins: Same navigability, 80% less abstraction</code></pre>

<p>---</p>

<h2>RISK COMPARISON</h2>

<h3>v2.0 (Enterprise) Risks</h3>

<p>| Risk | Probability | Impact | Mitigation |</p>
<p>|------|-------------|--------|------------|</p>
<p>| 5 weeks tests too long | HIGH | Features stalled | <strong>Accept or reduce scope</strong> |</p>
<p>| Timeline overrun (22→26 weeks) | MEDIUM | Delays compound | 2-week buffer added |</p>
<p>| Over-engineering | HIGH | Maintenance burden | Architecture review gates |</p>
<p>| Breaking changes | MEDIUM | Application broken | Comprehensive tests first |</p>
<p>| Orchestrator proliferation | HIGH | Abstraction debt | <strong>Unavoidable with approach</strong> |</p>

<p><strong>Overall Risk:</strong> MEDIUM-HIGH (long timeline, over-engineering likely)</p>

<h3>Solo Dev ✅ Risks</h3>

<p>| Risk | Probability | Impact | Mitigation |</p>
<p>|------|-------------|--------|------------|</p>
<p>| Smoke tests miss bugs | MEDIUM | Some regressions | Add tests incrementally |</p>
<p>| Incremental extraction incomplete | LOW | Some god objects remain | <strong>Acceptable (solo dev)</strong> |</p>
<p>| Navigation aids insufficient | LOW | Still hard to find code | Extract when painful |</p>
<p>| Tests stay broken | LOW | Blocking development | Fix immediately (P0) |</p>

<p><strong>Overall Risk:</strong> LOW (minimal changes, incremental, features continue)</p>

<p>---</p>

<h2>CONTEXT MATTERS</h2>

<h3>Why v2.0 Makes Sense for Teams</h3>

<p>✅ <strong>Production environment:</strong> 85% coverage prevents customer incidents</p>
<p>✅ <strong>Multi-developer:</strong> DI/interfaces enable parallel development</p>
<p>✅ <strong>Stakeholder gates:</strong> Architecture reviews ensure quality</p>
<p>✅ <strong>Bus factor:</strong> Service layers enable knowledge transfer</p>
<p>✅ <strong>Scale:</strong> God objects block team velocity</p>

<h3>Why Solo Dev Approach Makes Sense</h3>

<p>✅ <strong>Dev environment:</strong> Can fix bugs immediately, no customers affected</p>
<p>✅ <strong>Single developer:</strong> No parallel development, no merge conflicts</p>
<p>✅ <strong>Self-managed:</strong> No approval gates needed</p>
<p>✅ <strong>Personal tool:</strong> Velocity matters more than perfect architecture</p>
<p>✅ <strong>Pragmatic:</strong> Good enough > perfect architecture never shipped</p>

<p>---</p>

<h2>DECISION MATRIX</h2>

<p>| Criterion | v1.0 (Naive) | v2.0 (Enterprise) | Technical | Solo Dev ✅ |</p>
<p>|-----------|--------------|-------------------|-----------|-------------|</p>
<p>| <strong>Timeline</strong> | 11-16 days | 22 weeks | 4-5 weeks | <strong>1 week + incremental</strong> ✅ |</p>
<p>| <strong>Features Blocked</strong> | 11-16 days | 22 weeks | 4-5 weeks | <strong>None</strong> ✅ |</p>
<p>| <strong>Test Investment</strong> | None | 5 weeks | 1 week | <strong>1 day</strong> ✅ |</p>
<p>| <strong>Architecture Quality</strong> | Poor | Excellent | Good | <strong>Good enough</strong> ✅ |</p>
<p>| <strong>Complexity Added</strong> | Unknown | High | Medium | <strong>Low</strong> ✅ |</p>
<p>| <strong>Solo Dev ROI</strong> | Negative | <strong>Very Negative</strong> | Negative | <strong>POSITIVE</strong> ✅ |</p>
<p>| <strong>Team ROI</strong> | Negative | Positive | Positive | N/A |</p>
<p>| <strong>Pragmatism</strong> | Low | Low | Medium | <strong>HIGH</strong> ✅ |</p>
<p>| <strong>Realistic?</strong> | No | No (wrong context) | Maybe | <strong>YES</strong> ✅ |</p>

<p><strong>Winner for Solo Dev:</strong> Single Dev Reality approach (8/9 criteria)</p>

<p>---</p>

<h2>RECOMMENDATIONS BY CONTEXT</h2>

<h3>If You Are a Team (5-10 developers)</h3>

<p><strong>Choose:</strong> v2.0 (Enterprise) or Technical Analysis</p>
<p><strong>Why:</strong> Need service layers, DI, comprehensive tests for parallel development</p>
<p><strong>Accept:</strong> 4-22 weeks investment for sustainable team velocity</p>

<h3>If You Are Solo Dev (You) ✅</h3>

<p><strong>Choose:</strong> Single Dev Reality approach</p>
<p><strong>Why:</strong> Velocity matters, incremental improvement, no features blocked</p>
<p><strong>Accept:</strong> Some god objects remain (not a problem solo)</p>

<p>---</p>

<h2>THE VERDICT</h2>

<h3>❌ REJECT: v1.0 (Naive)</h3>
<ul>
<li>Too naive (underestimated complexity)</li>
<li>Would create more problems than it solves</li>
</ul>

<h3>❌ REJECT: v2.0 (Enterprise)</h3>
<ul>
<li>Wrong context (team vs solo)</li>
<li>Too long (22 weeks = 5.5 months no features)</li>
<li>Over-engineering (orchestrators, DI overkill for solo)</li>
<li>**ROI:** Negative for solo dev</li>
</ul>

<h3>⚠️ REJECT: Technical Analysis</h3>
<ul>
<li>Better than v2.0 but still assumes team</li>
<li>Still too long (4-5 weeks)</li>
<li>Still creates unnecessary services</li>
<li>**ROI:** Slightly negative for solo dev</li>
</ul>

<h3>✅ APPROVE: Single Dev Reality</h3>
<ul>
<li>Right context (solo dev, personal tool)</li>
<li>Right timeline (1 week + incremental)</li>
<li>Right scope (unblock + pragmatic improvements)</li>
<li>**ROI:** Massively positive</li>
</ul>

<p>---</p>

<h2>IMMEDIATE NEXT STEPS</h2>

<p>Based on Single Dev Reality approach:</p>

<ol>
<li>**TODAY:** Fix tests (4 hours) → pytest runs</li>
<li>**THIS WEEK:** Create smoke tests (1 day) → 80% confidence</li>
<li>**NEXT WEEK:** Add navigation aids (2 hours) → find code faster</li>
<li>**ONGOING:** Extract pain points (when encountered) → incremental improvement</li>
</ol>

<p><strong>Status:</strong> Ready to execute</p>
<p><strong>Urgency:</strong> HIGH (tests blocking)</p>
<p><strong>ROI:</strong> MASSIVE (unblock + features continue)</p>

<p>---</p>

<p><strong>Prepared by:</strong> BMad Orchestrator</p>
<p><strong>Date:</strong> 2025-10-03</p>
<p><strong>Conclusion:</strong> Solo dev needs pragmatic approach, not enterprise architecture programs</p>
<p><strong>Bottom Line:</strong> Fix tests today, smoke tests this week, extract incrementally, keep shipping features</p>

  </div>
</body>
</html>