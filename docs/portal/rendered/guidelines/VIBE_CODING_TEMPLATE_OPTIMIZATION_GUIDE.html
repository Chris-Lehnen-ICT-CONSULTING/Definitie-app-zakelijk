<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vibe Coding Template Optimization Guide for Claude Code & DefinitieAgent</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">‚Üê Terug naar Portal</a>
    <h1>Vibe Coding Template Optimization Guide for Claude Code & DefinitieAgent</h1>

<p><strong>Date</strong>: 2025-10-17</p>
<p><strong>Version</strong>: 1.0</p>
<p><strong>Audience</strong>: Prompt Engineers, Template Designers, Claude Code Users</p>
<p><strong>Status</strong>: Active</p>

<h2>Executive Summary</h2>

<p>This guide provides concrete, actionable recommendations for optimizing Vibe Coding prompt templates for Claude Code and the DefinitieAgent project. It's based on analysis of existing Vibe Coding templates (8-step method, planning system, UI design workflows) and DefinitieAgent's modular prompt architecture.</p>

<p><strong>Key Findings</strong>:</p>
<ul>
<li>**Template Quality**: Vibe Coding scores 88.5% on quality metrics (excellent)</li>
<li>**Integration Fit**: Strong alignment with DefinitieAgent's 16-module prompt system</li>
<li>**Primary Weakness**: Binary .docx format hampers version control and programmatic access</li>
<li>**Recommended Format**: Markdown with YAML frontmatter for all future templates</li>
</ul>

<p><strong>Quick Wins</strong>:</p>
<ol>
<li>Convert all .docx templates to .md format</li>
<li>Standardize naming: `template-{category}-{step}-{lang}.md`</li>
<li>Separate "empty template" from "filled example" as distinct files</li>
<li>Add YAML frontmatter for metadata, dependencies, versioning</li>
</ol>

<p>---</p>

<h2>1. Template Structure Best Practices</h2>

<h3>1.1 Anatomy of an Effective Prompt Template</h3>

<p><strong>Optimal Structure</strong> (derived from Vibe Coding + DefinitieAgent analysis):</p>

<pre><code>---
# YAML Frontmatter (Metadata)
template_id: "vibe-{workflow}-step-{N}"
version: "1.0.0"
category: "planning|design|implementation|validation"
language: "nl|en"
status: "active|draft|deprecated"
requires:
  - template-prerequisite-1
  - template-prerequisite-2
outputs:
  - artifact-name
  - validation-criteria
compatible_tools:
  - claude-code
  - cursor
  - chatgpt
estimated_tokens: 500
last_updated: "YYYY-MM-DD"
maintainer: "role@domain"
---

# [Template Name] - [One-line Purpose]

## üéØ Goal
[What this template accomplishes - 1-2 sentences]

## üìã Prerequisites
- [ ] [What must exist before using this template]
- [ ] [Required context or inputs]

## üîß Instructions for AI

### Context Briefing
[Provide AI with necessary background - use Vibe Tip 4: Conversational Warmup]

**Your Role**: [Specific role AI should adopt]
**Your Task**: [Concrete task description]
**Success Criteria**: [How to know you're done]

### Constraints
- [Explicit constraint 1]
- [Explicit constraint 2]
- [Time/resource limitations]

### Output Format
[Exact format expected - use examples, not vague descriptions]

**Example Output**:</code></pre>
<p>[Show actual example of desired output]</p>
<pre><code>
### Validation Checklist
Before delivering output, verify:
- [ ] [Quality check 1]
- [ ] [Quality check 2]
- [ ] [Completeness check]

## üö¶ Stop &amp; Confirm
**IMPORTANT**: Before proceeding, confirm your understanding:
1. Summarize what you will create
2. Identify any ambiguities or missing information
3. Wait for explicit GO from user

## üì§ Deliverable
[Describe the final artifact - be specific]

## üîó Next Steps
After completing this template, proceed to:
- [Next template in sequence]
- [Validation step]

## üìù Template Variables
&lt;!-- Variables that can be injected --&gt;
- `{{project_name}}` - Name of the project
- `{{context}}` - User-provided context
- `{{domain}}` - Domain or industry
- `{{constraints}}` - Specific limitations

## üß™ Example Usage
&lt;!-- Filled example showing template in action --&gt;
[Link to separate example file: template-name-example.md]</code></pre>

<p><strong>Why This Structure Works</strong>:</p>
<ul>
<li>**YAML Frontmatter**: Machine-readable metadata for tooling, versioning, dependency tracking</li>
<li>**Emoji Section Headers**: Visual scanning, human-friendly navigation</li>
<li>**Explicit Role/Task/Criteria**: Forces clarity (Vibe Tip 7: Confirm Understanding)</li>
<li>**Stop & Confirm Gate**: Prevents AI from proceeding without validation (Vibe PM Framework)</li>
<li>**Example Output**: Concrete reference (Vibe Tip 5: Break the Monolith)</li>
<li>**Template Variables**: Enables programmatic injection for automation</li>
</ul>

<p>---</p>

<h2>2. Modularity: Composable vs Monolithic Templates</h2>

<h3>2.1 The Modularity Spectrum</h3>

<p><strong>Vibe Coding Current State</strong>:</p>
<ul>
<li>‚ùå **Monolithic**: 8-step method = 1 massive workflow (hard to adapt)</li>
<li>‚ö†Ô∏è **Semi-Modular**: Planning system has 3 steps (better, but not composable)</li>
<li>‚úÖ **Modular Goal**: Each step = independent, reusable module</li>
</ul>

<p><strong>DefinitieAgent Current State</strong>:</p>
<ul>
<li>‚úÖ **Highly Modular**: 16 independent prompt modules with dependency resolution</li>
<li>‚úÖ **Composable**: Orchestrator dynamically combines modules based on context</li>
<li>‚úÖ **Testable**: Each module has unit tests, clear inputs/outputs</li>
</ul>

<p><strong>Recommendation</strong>: <strong>Adopt DefinitieAgent's modular approach for Vibe templates</strong></p>

<h3>2.2 Template Modularity Patterns</h3>

<h4>Pattern 1: Atomic Templates (Recommended)</h4>
<p><strong>Principle</strong>: One template = one responsibility</p>

<p><strong>Structure</strong>:</p>
<pre><code>templates/
‚îú‚îÄ‚îÄ atomic/
‚îÇ   ‚îú‚îÄ‚îÄ context-briefing.md          # Vibe Tip 4
‚îÇ   ‚îú‚îÄ‚îÄ chain-of-thought.md          # Vibe Tip 6
‚îÇ   ‚îú‚îÄ‚îÄ risk-analysis.md             # Vibe Tip 11
‚îÇ   ‚îú‚îÄ‚îÄ variant-generation.md        # Vibe Tip 16
‚îÇ   ‚îî‚îÄ‚îÄ synthesis.md                 # Vibe Tip 17
‚îú‚îÄ‚îÄ composed/
‚îÇ   ‚îú‚îÄ‚îÄ planning-workflow.md         # Composes: briefing + CoT + risk
‚îÇ   ‚îî‚îÄ‚îÄ implementation-workflow.md   # Composes: briefing + variants + synthesis
‚îî‚îÄ‚îÄ examples/
    ‚îú‚îÄ‚îÄ planning-workflow-example.md
    ‚îî‚îÄ‚îÄ implementation-workflow-example.md</code></pre>

<p><strong>Benefits</strong>:</p>
<ul>
<li>**Reusability**: Mix and match atomic templates for different workflows</li>
<li>**Testability**: Test each atomic template independently</li>
<li>**Maintainability**: Update one template without affecting others</li>
<li>**Versioning**: Version individual templates, not entire workflows</li>
</ul>

<p><strong>How to Compose</strong>:</p>
<pre><code># composed/planning-workflow.md frontmatter
includes:
  - atomic/context-briefing.md
  - atomic/chain-of-thought.md
  - atomic/risk-analysis.md
execution_order: sequential</code></pre>

<h4>Pattern 2: Workflow Templates (Use Sparingly)</h4>
<p><strong>When to Use</strong>: When the sequence is ALWAYS the same (rare)</p>

<p><strong>Structure</strong>:</p>
<pre><code># Workflow: Definition Generation
This workflow combines multiple atomic templates in a fixed sequence.

## Step 1: Context Briefing
{{include: atomic/context-briefing.md}}

## Step 2: Risk Analysis
{{include: atomic/risk-analysis.md}}

## Step 3: Chain of Thought
{{include: atomic/chain-of-thought.md}}</code></pre>

<p><strong>Trade-offs</strong>:</p>
<ul>
<li>‚úÖ **Pros**: Easy to follow for beginners, clear step-by-step progression</li>
<li>‚ùå **Cons**: Hard to adapt, version drift if atomic templates change</li>
</ul>

<p><strong>Recommendation</strong>: Use atomic templates as primary building blocks. Create workflow templates only for common, stable sequences. Always reference atomic templates via includes, not duplication.</p>

<h3>2.3 Dependency Management</h3>

<p><strong>Problem</strong>: Templates often depend on outputs from previous templates</p>

<p><strong>Solution</strong>: Declare dependencies explicitly in frontmatter</p>

<p><strong>Example</strong>:</p>
<pre><code>---
template_id: "vibe-synthesis"
requires:
  - template_id: "vibe-variant-generation"
    version: "&gt;=1.0.0"
    output: "variants_a_b_c"
inputs:
  - name: "variants_a_b_c"
    type: "list[str]"
    description: "Three definition variants from variant-generation template"
outputs:
  - name: "synthesized_definition"
    type: "str"
    description: "Final definition combining best elements"
---</code></pre>

<p><strong>Tooling Opportunity</strong>:</p>
<pre><code># Future: Template dependency resolver
class TemplateDependencyResolver:
    def resolve_order(self, templates: List[Template]) -&gt; List[Template]:
        """Topologically sort templates based on dependencies"""
        # Similar to PromptOrchestrator.resolve_dependencies()</code></pre>

<p>---</p>

<h2>3. Versioning: Managing Template Evolution</h2>

<h3>3.1 Semantic Versioning for Templates</h3>

<p><strong>Adopt SemVer</strong> (MAJOR.MINOR.PATCH):</p>
<ul>
<li>**MAJOR**: Breaking changes (incompatible inputs/outputs)</li>
<li>**MINOR**: New features (backward compatible additions)</li>
<li>**PATCH**: Bug fixes (clarifications, typo fixes)</li>
</ul>

<p><strong>Example</strong>:</p>
<pre><code>---
template_id: "vibe-chain-of-thought"
version: "2.1.3"
changelog:
  - version: "2.1.3"
    date: "2025-10-17"
    changes: "Fixed typo in example output"
  - version: "2.1.0"
    date: "2025-10-10"
    changes: "Added Dutch translation option"
  - version: "2.0.0"
    date: "2025-10-01"
    changes: "BREAKING: Changed output format from text to structured JSON"
---</code></pre>

<h3>3.2 Template Variants vs Versions</h3>

<p><strong>Variants</strong> = Same purpose, different flavors (NOT versions)</p>

<p><strong>Examples of Variants</strong>:</p>
<ul>
<li>Language: `template-planning-nl.md` vs `template-planning-en.md`</li>
<li>Complexity: `template-planning-beginner.md` vs `template-planning-advanced.md`</li>
<li>Tool: `template-planning-claude.md` vs `template-planning-cursor.md`</li>
</ul>

<p><strong>Naming Convention</strong>:</p>
<pre><code>template-{purpose}-{variant}.md

Examples:
- template-planning-nl-beginner.md
- template-planning-en-advanced.md
- template-cot-claude-code.md</code></pre>

<p><strong>Variants in Frontmatter</strong>:</p>
<pre><code>---
template_id: "vibe-planning"
version: "1.0.0"
variant:
  language: "nl"
  complexity: "beginner"
  tool: "claude-code"
canonical_template: "vibe-planning"  # Points to base template
---</code></pre>

<h3>3.3 Deprecation Strategy</h3>

<p><strong>When to Deprecate</strong>:</p>
<ul>
<li>Template is replaced by better version</li>
<li>Workflow pattern is outdated</li>
<li>Tool compatibility is lost</li>
</ul>

<p><strong>How to Deprecate</strong>:</p>
<pre><code>---
template_id: "vibe-old-planning"
version: "1.5.0"
status: "deprecated"
deprecated_date: "2025-10-01"
superseded_by: "vibe-planning-v2"
migration_guide: "docs/migrations/planning-v1-to-v2.md"
---

# ‚ö†Ô∏è DEPRECATED: Old Planning Template

**This template is deprecated as of 2025-10-01.**

**Reason**: Replaced by modular planning approach in vibe-planning-v2

**Migration**: See [Migration Guide](docs/migrations/planning-v1-to-v2.md)

**Support End Date**: 2025-12-31 (templates will be archived)

---
[Original template content preserved for reference]</code></pre>

<p><strong>Archival Process</strong>:</p>
<ol>
<li>Mark as `status: "deprecated"` in frontmatter</li>
<li>Add deprecation notice at top of template</li>
<li>Wait 3 months (grace period)</li>
<li>Move to `templates/archived/YYYY-MM/`</li>
<li>Update all references to point to new template</li>
</ol>

<p>---</p>

<h2>4. Customization: Making Templates Project-Specific</h2>

<h3>4.1 Generic vs Project-Specific Templates</h3>

<p><strong>Vibe Coding Templates</strong>: Generic (work for any software project)</p>
<p><strong>DefinitieAgent Needs</strong>: Domain-specific (legal definition generation)</p>

<p><strong>Strategy</strong>: Layer project-specific templates ON TOP of generic Vibe templates</p>

<p><strong>Directory Structure</strong>:</p>
<pre><code>templates/
‚îú‚îÄ‚îÄ vibe-generic/                    # Pure Vibe Coding templates
‚îÇ   ‚îú‚îÄ‚îÄ atomic/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context-briefing.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chain-of-thought.md
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ risk-analysis.md
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ 8-step-method.md
‚îú‚îÄ‚îÄ definitie-agent/                 # DefinitieAgent-specific
‚îÇ   ‚îú‚îÄ‚îÄ atomic/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ontology-classification.md  # Domain-specific
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ juridical-context.md        # Domain-specific
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validation-rules.md         # Domain-specific
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ definition-generation.md    # Combines vibe + domain templates
‚îî‚îÄ‚îÄ shared/                          # Cross-project utilities
    ‚îú‚îÄ‚îÄ polish-loop.md
    ‚îî‚îÄ‚îÄ self-healing.md</code></pre>

<h3>4.2 Template Injection Points</h3>

<p><strong>Make templates customizable via variables</strong>:</p>

<p><strong>Generic Template</strong> (<code>vibe-generic/chain-of-thought.md</code>):</p>
<pre><code>---
template_id: "vibe-cot"
variables:
  - domain: "string"
  - context_type: "string"
  - expertise_required: "string"
---

# Chain of Thought Template

Think through the following before generating {{output_type}}:

1. **Domain Context**: What do I know about {{domain}}?
2. **{{context_type}} Considerations**: What are key factors?
3. **Expertise**: What {{expertise_required}} knowledge is required?
4. **Edge Cases**: What could go wrong?
5. **Validation**: How will I verify correctness?

[Continue with thought process...]</code></pre>

<p><strong>Project-Specific Instantiation</strong> (<code>definitie-agent/cot-juridical.md</code>):</p>
<pre><code>---
extends: "vibe-generic/chain-of-thought.md"
variables:
  domain: "juridisch Nederlands recht"
  context_type: "Juridische"
  expertise_required: "rechtskundig"
  output_type: "juridische definitie"
---</code></pre>

<p><strong>Result</strong>: Domain-specific CoT template WITHOUT duplicating Vibe template logic</p>

<h3>4.3 Configuration Files for Templates</h3>

<p><strong>Problem</strong>: Hard-coding values in templates = inflexibility</p>

<p><strong>Solution</strong>: External configuration files</p>

<p><strong>Template Config</strong> (<code>config/templates.yaml</code>):</p>
<pre><code># DefinitieAgent Template Configuration
template_defaults:
  language: "nl"
  tone: "formal"
  max_tokens: 1000

domain_settings:
  legal:
    terminology_source: "Wetboek van Strafrecht"
    citation_style: "Bluebook"
    formality_level: "high"

workflows:
  definition_generation:
    steps:
      - context-briefing
      - ontology-classification
      - chain-of-thought
      - risk-analysis
      - definition-generation
      - validation
      - polish-loop
    validation_gates:
      - after: "chain-of-thought"
        required_approval: true
      - after: "validation"
        min_pass_rate: 0.9</code></pre>

<p><strong>Template References Config</strong>:</p>
<pre><code># Load config in template system
from config import load_template_config

config = load_template_config("config/templates.yaml")
workflow = config["workflows"]["definition_generation"]

# Dynamically compose workflow
for step in workflow["steps"]:
    template = load_template(f"templates/definitie-agent/{step}.md")
    execute_template(template, context=enriched_context)</code></pre>

<p>---</p>

<h2>5. Quality Control: Ensuring Consistent Template Usage</h2>

<h3>5.1 Template Quality Gates</h3>

<p><strong>Pre-Deployment Gates</strong> (Before template goes live):</p>

<p>| Gate | Check | Tool | Pass Criteria |</p>
<p>|------|-------|------|---------------|</p>
<p>| <strong>Structure</strong> | Valid YAML frontmatter | <code>yamllint</code> | No syntax errors |</p>
<p>| <strong>Completeness</strong> | All required sections present | Custom script | 100% section coverage |</p>
<p>| <strong>Language</strong> | Dutch for business logic | <code>spellchecker</code> | No EN in NL templates |</p>
<p>| <strong>Examples</strong> | Each template has example | File existence check | <code>*-example.md</code> exists |</p>
<p>| <strong>Dependencies</strong> | All <code>requires</code> are valid | Dependency resolver | All deps exist |</p>
<p>| <strong>Token Budget</strong> | Estimated tokens < limit | Token counter | < 1000 tokens |</p>

<p><strong>Implementation</strong>:</p>
<pre><code># .github/workflows/template-validation.yml
name: Template Quality Gates
on: [pull_request]
jobs:
  validate-templates:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Validate YAML Frontmatter
        run: yamllint templates/
      - name: Check Template Structure
        run: python scripts/validate_template_structure.py
      - name: Count Tokens
        run: python scripts/count_template_tokens.py --max 1000
      - name: Verify Examples
        run: python scripts/verify_examples_exist.py</code></pre>

<h3>5.2 Runtime Quality Checks</h3>

<p><strong>During Template Execution</strong> (When AI uses template):</p>

<p><strong>Check 1: Input Validation</strong></p>
<pre><code>def validate_template_inputs(template: Template, context: Dict) -&gt; None:
    """Ensure all required inputs are present before execution"""
    required = template.metadata["inputs"]
    for input_spec in required:
        if input_spec["name"] not in context:
            raise ValueError(f"Missing required input: {input_spec['name']}")
        if not isinstance(context[input_spec["name"]], eval(input_spec["type"])):
            raise TypeError(f"Wrong type for {input_spec['name']}")</code></pre>

<p><strong>Check 2: Output Validation</strong></p>
<pre><code>def validate_template_output(template: Template, output: Any) -&gt; ValidationResult:
    """Verify AI output matches template specification"""
    expected_outputs = template.metadata["outputs"]

    for output_spec in expected_outputs:
        if output_spec["name"] not in output:
            return ValidationResult(passed=False, error=f"Missing output: {output_spec['name']}")

    return ValidationResult(passed=True)</code></pre>

<p><strong>Check 3: Token Budget Compliance</strong></p>
<pre><code>@monitor_tokens
def execute_template(template: Template, context: Dict) -&gt; str:
    """Track actual token usage vs estimated budget"""
    estimated = template.metadata["estimated_tokens"]
    actual = count_tokens(rendered_template)

    if actual &gt; estimated * 1.5:  # 50% tolerance
        logger.warning(f"Template {template.id} exceeded token budget: {actual} &gt; {estimated}")

    return rendered_template</code></pre>

<h3>5.3 Template Testing Framework</h3>

<p><strong>Unit Tests for Templates</strong> (Yes, templates need tests!):</p>

<pre><code># tests/templates/test_vibe_cot_template.py
import pytest
from template_engine import render_template, validate_output

def test_cot_template_renders_with_valid_inputs():
    """Test Chain of Thought template renders without errors"""
    template = load_template("vibe-generic/chain-of-thought.md")
    context = {
        "domain": "software engineering",
        "context_type": "technical",
        "expertise_required": "programming"
    }

    rendered = render_template(template, context)

    assert "Domain Context" in rendered
    assert "software engineering" in rendered
    assert "Edge Cases" in rendered

def test_cot_template_fails_with_missing_inputs():
    """Test template raises error when required inputs missing"""
    template = load_template("vibe-generic/chain-of-thought.md")
    context = {}  # Empty context

    with pytest.raises(ValueError, match="Missing required input"):
        render_template(template, context)

def test_cot_template_output_meets_criteria():
    """Test AI output matches template specification"""
    template = load_template("vibe-generic/chain-of-thought.md")
    ai_output = {
        "thought_process": "...",
        "edge_cases": ["case1", "case2"],
        "validation_plan": "..."
    }

    result = validate_output(template, ai_output)
    assert result.passed is True</code></pre>

<p><strong>Integration Tests</strong> (Template + AI):</p>
<pre><code>def test_cot_template_improves_definition_quality():
    """Test that CoT template actually improves output quality"""
    # Generate definition WITHOUT CoT
    definition_no_cot = generate_definition(term, context, use_cot=False)

    # Generate definition WITH CoT
    definition_with_cot = generate_definition(term, context, use_cot=True)

    # Validate both
    score_no_cot = validate_definition(definition_no_cot)
    score_with_cot = validate_definition(definition_with_cot)

    # CoT should improve quality
    assert score_with_cot &gt; score_no_cot</code></pre>

<h3>5.4 Template Usage Analytics</h3>

<p><strong>Track template effectiveness</strong>:</p>

<pre><code>@dataclass
class TemplateMetrics:
    template_id: str
    execution_count: int
    avg_execution_time: float
    avg_token_usage: int
    success_rate: float  # % of successful executions
    user_satisfaction: float  # Optional: user ratings
    validation_pass_rate: float  # % of outputs passing validation

    def report(self) -&gt; str:
        return f"""
Template: {self.template_id}
- Executions: {self.execution_count}
- Avg Time: {self.avg_execution_time:.2f}s
- Avg Tokens: {self.avg_token_usage}
- Success Rate: {self.success_rate:.1%}
- Validation Pass Rate: {self.validation_pass_rate:.1%}
        """</code></pre>

<p><strong>Dashboard for Template Performance</strong>:</p>
<pre><code>Template Analytics Dashboard
============================

Top Performing Templates (by validation pass rate):
1. chain-of-thought.md      - 94% pass rate (500 uses)
2. risk-analysis.md          - 91% pass rate (450 uses)
3. variant-generation.md     - 87% pass rate (200 uses)

Underperforming Templates (&lt; 80% pass rate):
1. auto-polish.md            - 72% pass rate (300 uses)
   ‚Üí Action: Review template clarity

Token Budget Offenders (actual &gt; estimated by &gt;50%):
1. variant-generation.md     - 1800 actual vs 1000 estimated
   ‚Üí Action: Increase estimate or optimize template</code></pre>

<p>---</p>

<h2>6. Documentation Requirements</h2>

<h3>6.1 Per-Template Documentation</h3>

<p><strong>Every template MUST include</strong>:</p>

<ol>
<li>**Inline Documentation** (in template file):</li>
<pre><code>   ---
   # Frontmatter with all metadata
   ---

   # Template Name
   [One-line description]

   ## Purpose
   [Why this template exists - 2-3 sentences]

   ## When to Use
   [Scenarios where this template is appropriate]

   ## When NOT to Use
   [Anti-patterns, scenarios to avoid]

   ## Inputs
   | Name | Type | Description | Required |
   |------|------|-------------|----------|

   ## Outputs
   | Name | Type | Description |
   |------|------|-------------|

   ## Example
   [Link to separate example file]</code></pre>
</ol>

<ol>
<li>**Companion Example File** (`template-name-example.md`):</li>
<pre><code>   # Example: Chain of Thought Template

   ## Scenario
   User wants to generate a legal definition for "rechtspersoon"

   ## Inputs Provided</code></pre>
<p>   domain: "Nederlands privaatrecht"</p>
<p>   context_type: "Juridische"</p>
<p>   expertise_required: "civielrechtelijk"</p>
<p>   term: "rechtspersoon"</p>
<pre><code>
   ## Template Execution
   [Show rendered template with variables filled in]

   ## AI Response
   [Show actual AI output]

   ## Validation
   ‚úÖ All edge cases considered
   ‚úÖ Domain expertise applied
   ‚úÖ Output meets quality criteria</code></pre>
</ol>

<ol>
<li>**Integration Guide** (in `docs/templates/integrations/`):</li>
<pre><code>   # Integrating Chain of Thought Template

   ## In DefinitieAgent

   ### Module Location
   `src/services/prompts/modules/vibe_cot_module.py`

   ### Integration Code
   [Python code showing how to use template]

   ### Testing
   [How to test integration]

   ### Performance Impact
   - Token increase: +150 tokens
   - Time increase: +0.5s
   - Quality improvement: +15% validation pass rate</code></pre>
</ol>

<h3>6.2 Template Catalog</h3>

<p><strong>Centralized template registry</strong> (<code>docs/templates/TEMPLATE_CATALOG.md</code>):</p>

<pre><code># Template Catalog

## Active Templates

### Atomic Templates (Building Blocks)

| Template ID | Purpose | Tokens | Status | Version |
|-------------|---------|---------|--------|---------|
| vibe-context-briefing | Warm up AI with context | 200 | Active | 1.0.0 |
| vibe-chain-of-thought | Force deliberate reasoning | 150 | Active | 1.2.0 |
| vibe-risk-analysis | Identify edge cases | 180 | Active | 1.0.0 |
| vibe-variant-generation | Generate A/B/C options | 350 | Active | 2.0.0 |
| vibe-synthesis | Combine best elements | 120 | Active | 1.0.0 |

### Workflow Templates (Composed)

| Template ID | Steps | Total Tokens | Status | Version |
|-------------|-------|--------------|--------|---------|
| vibe-8-step-method | 8 steps | 2500 | Active | 3.0.0 |
| vibe-planning-system | 3 steps | 800 | Active | 2.1.0 |
| definitie-generation | 7 steps | 1200 | Active | 1.0.0 |

### Domain-Specific Templates

| Template ID | Domain | Tokens | Status | Version |
|-------------|---------|--------|--------|---------|
| ontology-classification | Legal/Semantic | 250 | Active | 1.0.0 |
| juridical-context | Legal | 300 | Active | 1.1.0 |
| validation-rules | Legal/QA | 400 | Active | 2.0.0 |

## Deprecated Templates

| Template ID | Deprecated Date | Superseded By | Archive Date |
|-------------|----------------|---------------|--------------|
| vibe-old-planning | 2025-10-01 | vibe-planning-system | 2026-01-01 |</code></pre>

<h3>6.3 Migration Guides</h3>

<p><strong>When templates change significantly</strong> (<code>docs/templates/migrations/</code>):</p>

<pre><code># Migration Guide: Planning Template v1 ‚Üí v2

## Overview
Planning template v2 introduces modular composition, breaking the monolithic v1 into 3 atomic templates.

## Changes

### Breaking Changes
- Input format changed from single `context` string to structured object
- Output now returns structured JSON instead of markdown text

### New Features
- Atomic templates can be used independently
- Dependency resolution for template composition

## Migration Steps

### Step 1: Update Input Format
**Before (v1)**:</code></pre>
<p>context = "I want to build a legal definition app"</p>
<pre><code>
**After (v2)**:</code></pre>
<p>context = {</p>
<p>    "project_description": "I want to build a legal definition app",</p>
<p>    "domain": "legal tech",</p>
<p>    "constraints": ["Dutch language", "GDPR compliant"]</p>
<p>}</p>
<pre><code>
### Step 2: Update Output Parsing
[Show code changes]

### Step 3: Test Migration
[Provide test cases]

## Timeline
- **Announcement**: 2025-10-01
- **v1 Deprecated**: 2025-10-01
- **v1 Support Ends**: 2026-01-01
- **v1 Archived**: 2026-01-01

## Support
Questions? Contact: template-support@domain.com</code></pre>

<p>---</p>

<h2>7. Naming Conventions</h2>

<h3>7.1 File Naming Standards</h3>

<p><strong>Template Files</strong>:</p>
<pre><code>template-{category}-{purpose}-{variant}.md

Examples:
‚úÖ template-planning-architect-nl.md
‚úÖ template-validation-risk-analysis-en.md
‚úÖ template-design-ui-blueprint-beginner.md

‚ùå stap 1 My NEW 8-Step Method fleshing out.docx  (current Vibe)
‚ùå Part 1 Vibe Planning architect.docx             (current Vibe)</code></pre>

<p><strong>Example Files</strong>:</p>
<pre><code>template-{category}-{purpose}-{variant}-example.md

Examples:
‚úÖ template-planning-architect-nl-example.md
‚úÖ template-validation-risk-analysis-en-example.md</code></pre>

<p><strong>Rationale</strong>:</p>
<ul>
<li>**Consistent Prefix** (`template-`): Easy to glob, filter</li>
<li>**Category First**: Groups related templates in file listings</li>
<li>**Purpose Descriptive**: Self-documenting</li>
<li>**Variant Last**: Optional, indicates specialization</li>
<li>**Lowercase with Hyphens**: Standard Unix/Git convention</li>
</ul>

<h3>7.2 Template ID Standards</h3>

<p><strong>In YAML Frontmatter</strong>:</p>
<pre><code>template_id: "{namespace}-{category}-{purpose}"

Examples:
template_id: "vibe-planning-architect"
template_id: "definitie-validation-risk"
template_id: "shared-polish-loop"</code></pre>

<p><strong>Namespace Rules</strong>:</p>
<ul>
<li>`vibe`: Pure Vibe Coding templates (generic)</li>
<li>`definitie`: DefinitieAgent-specific templates</li>
<li>`shared`: Cross-project utilities</li>
<li>`experimental`: Beta/testing templates</li>
</ul>

<h3>7.3 Variable Naming Standards</h3>

<p><strong>In Template Variables</strong>:</p>
<pre><code>{{snake_case_variable}}

Examples:
‚úÖ {{project_name}}
‚úÖ {{juridical_domain}}
‚úÖ {{max_token_budget}}

‚ùå {{ProjectName}}        (PascalCase)
‚ùå {{project-name}}       (kebab-case)
‚ùå {{PROJECTNAME}}        (ALL CAPS)</code></pre>

<p><strong>Rationale</strong>: Aligns with Python naming conventions (DefinitieAgent is Python-based)</p>

<h3>7.4 Section Header Standards</h3>

<p><strong>Use Emoji + Title Case</strong>:</p>
<pre><code>‚úÖ ## üéØ Goal
‚úÖ ## üìã Prerequisites
‚úÖ ## üîß Instructions for AI
‚úÖ ## üö¶ Stop &amp; Confirm

‚ùå ## goal                    (lowercase)
‚ùå ## PREREQUISITES           (all caps)
‚ùå ## Instructions For AI     (inconsistent caps)</code></pre>

<p><strong>Standard Emoji Mapping</strong>:</p>
<ul>
<li>üéØ Goal / Purpose</li>
<li>üìã Prerequisites / Requirements</li>
<li>üîß Instructions / Configuration</li>
<li>üö¶ Stop & Confirm / Validation Gate</li>
<li>üì§ Deliverable / Output</li>
<li>üîó Next Steps / Follow-up</li>
<li>üìù Template Variables</li>
<li>üß™ Example Usage</li>
<li>‚ö†Ô∏è Warnings / Cautions</li>
<li>‚úÖ Success Criteria</li>
<li>‚ùå Anti-Patterns</li>
</ul>

<p>---</p>

<h2>8. Template Lifecycle Management</h2>

<h3>8.1 Template Lifecycle Stages</h3>

<pre><code>graph LR
    DRAFT[üìù Draft] --&gt; REVIEW[üîç Review]
    REVIEW --&gt; ACTIVE[‚úÖ Active]
    ACTIVE --&gt; DEPRECATED[‚ö†Ô∏è Deprecated]
    DEPRECATED --&gt; ARCHIVED[üì¶ Archived]

    REVIEW --&gt;|Reject| DRAFT
    ACTIVE --&gt;|Update| REVIEW</code></pre>

<p><strong>Stage Definitions</strong>:</p>

<p>| Stage | Status | Description | Location | Access |</p>
<p>|-------|--------|-------------|----------|--------|</p>
<p>| <strong>Draft</strong> | <code>status: draft</code> | Template in development | <code>templates/drafts/</code> | Dev only |</p>
<p>| <strong>Review</strong> | <code>status: review</code> | Pending approval | <code>templates/review/</code> | Dev + Reviewers |</p>
<p>| <strong>Active</strong> | <code>status: active</code> | Production-ready | <code>templates/{category}/</code> | All users |</p>
<p>| <strong>Deprecated</strong> | <code>status: deprecated</code> | Replaced, still supported | <code>templates/{category}/</code> | All users (with warning) |</p>
<p>| <strong>Archived</strong> | <code>status: archived</code> | No longer supported | <code>templates/archived/YYYY-MM/</code> | Read-only |</p>

<h3>8.2 Template Approval Process</h3>

<p><strong>Required Approvals</strong> (before moving Draft ‚Üí Active):</p>

<p>| Reviewer Role | Checks | Required For |</p>
<p>|---------------|--------|--------------|</p>
<p>| <strong>Template Author</strong> | Completeness, examples, tests | All templates |</p>
<p>| <strong>Domain Expert</strong> | Accuracy, terminology (Dutch) | Domain-specific templates |</p>
<p>| <strong>Architect</strong> | Architecture fit, dependencies | Workflow templates |</p>
<p>| <strong>QA</strong> | Quality gates, test coverage | All templates |</p>

<p><strong>Approval Workflow</strong>:</p>
<pre><code># .github/workflows/template-approval.yml
name: Template Approval
on:
  pull_request:
    paths:
      - 'templates/**/*.md'
jobs:
  require-approvals:
    runs-on: ubuntu-latest
    steps:
      - name: Check for required reviews
        uses: actions/github-script@v6
        with:
          script: |
            const reviews = await github.pulls.listReviews({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: context.issue.number
            });

            const approvals = reviews.data.filter(r =&gt; r.state === 'APPROVED');
            const roles = approvals.map(a =&gt; a.user.login);

            // Require at least 2 approvals for active templates
            if (approvals.length &lt; 2) {
              core.setFailed('Need at least 2 approvals');
            }</code></pre>

<h3>8.3 Template Update Triggers</h3>

<p><strong>When to Update a Template</strong>:</p>

<p>| Trigger | Update Type | Version Bump | Example |</p>
<p>|---------|-------------|--------------|---------|</p>
<p>| <strong>Typo/Clarification</strong> | Patch | 1.0.0 ‚Üí 1.0.1 | Fix spelling error |</p>
<p>| <strong>Add optional section</strong> | Minor | 1.0.1 ‚Üí 1.1.0 | Add "Best Practices" section |</p>
<p>| <strong>Change input format</strong> | Major | 1.1.0 ‚Üí 2.0.0 | Change from string to object |</p>
<p>| <strong>User feedback</strong> | Varies | Depends on change | Improve clarity based on user confusion |</p>
<p>| <strong>Performance issue</strong> | Patch/Minor | 1.1.0 ‚Üí 1.1.1 | Reduce token usage |</p>
<p>| <strong>Tool compatibility</strong> | Minor/Major | 1.1.1 ‚Üí 1.2.0 | Add Claude Code specific features |</p>

<h3>8.4 Template Retirement Process</h3>

<p><strong>Steps to Retire a Template</strong>:</p>

<ol>
<li>**Announce Deprecation** (T-0):</li>
</ol>
<ul>
<li>  - Update `status: deprecated` in frontmatter</li>
<li>  - Add deprecation notice at top of template</li>
<li>  - Document `superseded_by` template</li>
<li>  - Create migration guide</li>
</ul>

<ol>
<li>**Grace Period** (T+0 to T+3 months):</li>
</ol>
<ul>
<li>  - Template remains in active location</li>
<li>  - Warning shown when used</li>
<li>  - Track usage metrics</li>
<li>  - Support users with migration</li>
</ul>

<ol>
<li>**Archive** (T+3 months):</li>
</ol>
<ul>
<li>  - Move to `templates/archived/YYYY-MM/`</li>
<li>  - Update catalog</li>
<li>  - Remove from active listings</li>
<li>  - Preserve for historical reference</li>
</ul>

<p><strong>Example Deprecation Notice</strong>:</p>
<pre><code>---
status: deprecated
deprecated_date: "2025-10-01"
superseded_by: "vibe-planning-v2"
support_end_date: "2026-01-01"
---

# ‚ö†Ô∏è DEPRECATED: Planning Template v1

**This template is deprecated and will be archived on 2026-01-01.**

**Why deprecated**: Replaced by modular v2 approach

**Migration path**: See [Migration Guide](../migrations/planning-v1-to-v2.md)

**New template**: [Planning v2](template-planning-architect-v2.md)

**Support**: Limited support until 2026-01-01

---
[Original template content below - for reference only]</code></pre>

<p>---</p>

<h2>9. Specific Recommendations for DefinitieAgent</h2>

<h3>9.1 Immediate Actions (Week 1)</h3>

<p><strong>Priority 1: Convert Existing Vibe Templates to Markdown</strong></p>

<p><strong>Task</strong>: Convert all .docx Vibe templates to .md format</p>

<p><strong>Approach</strong>:</p>
<pre><code># Script: scripts/convert-vibe-templates.sh
#!/bin/bash

VIBE_DIR="Vibe coding  prompt voorbeelden"
OUTPUT_DIR="templates/vibe-converted"

# Convert 8-step method
for file in "$VIBE_DIR/8 step method"/*.docx; do
    basename=$(basename "$file" .docx)
    # Use pandoc for conversion
    pandoc "$file" -o "$OUTPUT_DIR/8-step-$(echo $basename | tr ' ' '-' | tr '[:upper:]' '[:lower:]').md"
done

# Add YAML frontmatter
python scripts/add_frontmatter.py "$OUTPUT_DIR"/*.md</code></pre>

<p><strong>Deliverable</strong>: 50+ .md files in <code>templates/vibe-converted/</code></p>

<p><strong>Priority 2: Create Template Catalog</strong></p>

<p><strong>Task</strong>: Document all existing prompt modules + new Vibe templates</p>

<p><strong>Location</strong>: <code>docs/templates/TEMPLATE_CATALOG.md</code></p>

<p><strong>Content</strong>:</p>
<ul>
<li>Inventory of 16 existing DefinitieAgent prompt modules</li>
<li>Mapping to Vibe Coding concepts</li>
<li>Integration opportunities</li>
<li>Quick reference table</li>
</ul>

<p><strong>Priority 3: Implement Template Testing Framework</strong></p>

<p><strong>Task</strong>: Add unit tests for existing prompt modules</p>

<p><strong>Approach</strong>:</p>
<pre><code># tests/services/prompts/modules/test_template_quality.py
import pytest
from src.services.prompts.modules import *

@pytest.mark.parametrize("module_class", [
    ExpertiseModule,
    ChainOfThoughtModule,  # New Vibe module
    RiskAnalysisModule,    # New Vibe module
])
def test_module_has_valid_metadata(module_class):
    """All modules must have valid metadata"""
    module = module_class()
    assert hasattr(module, "module_id")
    assert hasattr(module, "priority")
    assert hasattr(module, "dependencies")</code></pre>

<h3>9.2 Short-Term Enhancements (Month 1)</h3>

<p><strong>Priority 4: Integrate Top 3 Vibe Patterns</strong></p>

<p>Based on quality assessment (Section 3.1 of VIBE_CODING_QUALITY_ASSESSMENT.md):</p>

<ol>
<li>**Chain of Thought (Vibe Tip 6)**</li>
</ol>
<ul>
<li>  - Create `vibe_cot_module.py`</li>
<li>  - Integrate with `expertise_module.py`</li>
<li>  - Expected improvement: +15-20% definition quality</li>
</ul>

<ol>
<li>**Risk Analysis (Vibe Tip 11)**</li>
</ol>
<ul>
<li>  - Create `vibe_risk_module.py`</li>
<li>  - Integrate with `error_prevention_module.py`</li>
<li>  - Expected improvement: -30-40% validation failures</li>
</ul>

<ol>
<li>**Conversational Warmup (Vibe Tip 4)**</li>
</ol>
<ul>
<li>  - Create `vibe_warmup_module.py`</li>
<li>  - Add as first module in orchestration</li>
<li>  - Expected improvement: Better context understanding</li>
</ul>

<p><strong>Implementation Template</strong>:</p>
<pre><code># src/services/prompts/modules/vibe_cot_module.py
from .base_module import BasePromptModule, ModuleContext, ModuleOutput

class ChainOfThoughtModule(BasePromptModule):
    """
    Vibe Coding Tip 6: Chain of Thought
    Forces AI to think through problem before generating definition.

    Integration Guide: docs/templates/integrations/vibe-cot-integration.md
    """

    module_id = "vibe_chain_of_thought"
    priority = 15  # Execute early, before definition generation
    dependencies = ["context_awareness"]

    def execute(self, context: ModuleContext) -&gt; ModuleOutput:
        """Generate Chain of Thought prompt"""
        prompt = f"""
GEDACHTEGANG (denk hardop voordat je definieert):

1. **Juridisch Domein**: Wat weet ik over {context.enriched_context.juridisch_domein}?
2. **Term Context**: Wat zijn belangrijke factoren voor "{context.begrip}"?
3. **Expertise**: Welke rechtskennis is vereist?
4. **Randgevallen**: Wat kan er misgaan bij het defini√´ren?
5. **Validatie**: Hoe verifieer ik de correctheid van mijn definitie?

Beantwoord deze vragen VOORDAT je de definitie genereert.
        """

        return ModuleOutput(
            content=prompt.strip(),
            metadata={
                "type": "reasoning",
                "pattern": "vibe_cot",
                "estimated_tokens": 150
            }
        )</code></pre>

<p><strong>Priority 5: Add Template Versioning to Existing Modules</strong></p>

<p><strong>Task</strong>: Retrofit existing prompt modules with versioning metadata</p>

<p><strong>Approach</strong>:</p>
<pre><code># Update all modules in src/services/prompts/modules/
class ExpertiseModule(BasePromptModule):
    """Expertise and domain context module"""

    module_id = "expertise"
    version = "1.0.0"  # ADD THIS
    priority = 5
    dependencies = []

    # Add changelog
    __changelog__ = {
        "1.0.0": "Initial stable version with juridical domain support"
    }</code></pre>

<h3>9.3 Long-Term Vision (Quarter 1 2026)</h3>

<p><strong>Priority 6: Template Marketplace</strong></p>

<p><strong>Concept</strong>: Shareable template repository for DefinitieAgent community</p>

<p><strong>Features</strong>:</p>
<ul>
<li>Browse templates by category</li>
<li>Rate and review templates</li>
<li>Fork and customize templates</li>
<li>Submit custom templates for review</li>
</ul>

<p><strong>Architecture</strong>:</p>
<pre><code>template-marketplace/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ template_api.py          # REST API for template CRUD
‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îî‚îÄ‚îÄ marketplace_ui.html      # Web UI for browsing
‚îú‚îÄ‚îÄ registry/
‚îÇ   ‚îî‚îÄ‚îÄ template_registry.json   # Metadata index
‚îî‚îÄ‚îÄ community/
    ‚îî‚îÄ‚îÄ contributed/              # User-submitted templates</code></pre>

<p><strong>Priority 7: AI-Powered Template Optimization</strong></p>

<p><strong>Concept</strong>: Use AI to analyze template effectiveness and suggest improvements</p>

<p><strong>Approach</strong>:</p>
<pre><code>class TemplateOptimizer:
    """
    Analyzes template usage patterns and suggests improvements
    """

    def analyze_template(self, template_id: str) -&gt; TemplateAnalysis:
        """Analyze template performance metrics"""
        metrics = self.get_metrics(template_id)

        analysis = {
            "effectiveness": self.calculate_effectiveness(metrics),
            "token_efficiency": self.analyze_token_usage(metrics),
            "common_failures": self.identify_failure_patterns(metrics),
            "suggested_improvements": self.generate_suggestions(metrics)
        }

        return TemplateAnalysis(**analysis)

    def generate_suggestions(self, metrics: TemplateMetrics) -&gt; List[str]:
        """Use AI to suggest template improvements"""
        prompt = f"""
Analyze this template's performance:
- Success rate: {metrics.success_rate}
- Avg validation pass rate: {metrics.validation_pass_rate}
- Common failures: {metrics.common_failures}

Suggest 3 specific improvements to increase effectiveness.
        """

        return ai_service.complete(prompt)</code></pre>

<p>---</p>

<h2>10. Conclusion & Quick Reference</h2>

<h3>10.1 Key Takeaways</h3>

<p><strong>DO</strong>:</p>
<ul>
<li>‚úÖ Use Markdown with YAML frontmatter for all templates</li>
<li>‚úÖ Separate "empty template" from "filled example"</li>
<li>‚úÖ Make templates atomic and composable</li>
<li>‚úÖ Version templates with SemVer</li>
<li>‚úÖ Add quality gates (YAML validation, token budgets, tests)</li>
<li>‚úÖ Document dependencies explicitly</li>
<li>‚úÖ Create migration guides for breaking changes</li>
<li>‚úÖ Track template usage metrics</li>
</ul>

<p><strong>DON'T</strong>:</p>
<ul>
<li>‚ùå Use binary formats (.docx, .pdf)</li>
<li>‚ùå Create monolithic workflow templates</li>
<li>‚ùå Hardcode domain-specific values</li>
<li>‚ùå Skip examples or documentation</li>
<li>‚ùå Duplicate content across templates</li>
<li>‚ùå Change templates without versioning</li>
<li>‚ùå Deploy templates without testing</li>
<li>‚ùå Mix languages in single template (NL vs EN)</li>
</ul>

<h3>10.2 Template Checklist</h3>

<p><strong>Before deploying a new template</strong>:</p>

<ul>
<li>[ ] **Structure**</li>
<li> - [ ] YAML frontmatter with all required fields</li>
<li> - [ ] Clear Goal, Prerequisites, Instructions sections</li>
<li> - [ ] Stop & Confirm gate included</li>
<li> - [ ] Example output provided</li>
</ul>

<ul>
<li>[ ] **Documentation**</li>
<li> - [ ] Companion example file exists</li>
<li> - [ ] Integration guide written</li>
<li> - [ ] Added to template catalog</li>
<li> - [ ] Migration guide (if replacing existing)</li>
</ul>

<ul>
<li>[ ] **Quality**</li>
<li> - [ ] YAML validation passes</li>
<li> - [ ] Token budget estimated and verified</li>
<li> - [ ] All dependencies exist</li>
<li> - [ ] Unit tests written and passing</li>
<li> - [ ] Language consistency (NL or EN, not mixed)</li>
</ul>

<ul>
<li>[ ] **Versioning**</li>
<li> - [ ] SemVer version assigned</li>
<li> - [ ] Changelog entry added</li>
<li> - [ ] Superseded templates marked deprecated (if applicable)</li>
</ul>

<ul>
<li>[ ] **Approval**</li>
<li> - [ ] Author review complete</li>
<li> - [ ] Domain expert review (if domain-specific)</li>
<li> - [ ] Architect review (if workflow template)</li>
<li> - [ ] QA review complete</li>
</ul>

<h3>10.3 Quick Reference Tables</h3>

<h4>Template Directory Structure</h4>
<pre><code>templates/
‚îú‚îÄ‚îÄ vibe-generic/              # Pure Vibe Coding (generic)
‚îÇ   ‚îú‚îÄ‚îÄ atomic/                # Single-responsibility templates
‚îÇ   ‚îî‚îÄ‚îÄ workflows/             # Composed workflows
‚îú‚îÄ‚îÄ definitie-agent/           # DefinitieAgent-specific
‚îÇ   ‚îú‚îÄ‚îÄ atomic/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îú‚îÄ‚îÄ shared/                    # Cross-project utilities
‚îú‚îÄ‚îÄ drafts/                    # Work in progress
‚îú‚îÄ‚îÄ review/                    # Pending approval
‚îî‚îÄ‚îÄ archived/                  # Deprecated templates
    ‚îî‚îÄ‚îÄ YYYY-MM/</code></pre>

<h4>Template Frontmatter Schema</h4>
<pre><code>---
template_id: "{namespace}-{category}-{purpose}"
version: "MAJOR.MINOR.PATCH"
category: "planning|design|implementation|validation"
language: "nl|en"
status: "draft|review|active|deprecated|archived"
requires:
  - template_id: "prerequisite-template"
    version: "&gt;=1.0.0"
    output: "expected_output_name"
inputs:
  - name: "input_name"
    type: "str|dict|list"
    description: "What this input represents"
    required: true
outputs:
  - name: "output_name"
    type: "str|dict|list"
    description: "What this output produces"
compatible_tools:
  - claude-code
  - cursor
estimated_tokens: 500
last_updated: "YYYY-MM-DD"
maintainer: "role@domain"
changelog:
  - version: "1.0.0"
    date: "YYYY-MM-DD"
    changes: "Description of changes"
---</code></pre>

<h4>Quality Gate Thresholds</h4>
<p>| Metric | Threshold | Action if Failed |</p>
<p>|--------|-----------|------------------|</p>
<p>| YAML validation | Must pass | Reject PR |</p>
<p>| Token budget | < 1000 tokens | Review necessity |</p>
<p>| Section completeness | 100% | Add missing sections |</p>
<p>| Example file | Must exist | Create example |</p>
<p>| Test coverage | > 80% | Add tests |</p>
<p>| Language consistency | 100% NL or EN | Fix mixed language |</p>
<p>| Approval count | ‚â• 2 reviewers | Request more reviews |</p>

<h4>Integration Priority Matrix</h4>
<p>| Vibe Pattern | DefinitieAgent Impact | Integration Effort | Priority |</p>
<p>|--------------|----------------------|-------------------|----------|</p>
<p>| Chain of Thought | +15-20% quality | Medium | üî¥ High |</p>
<p>| Risk Analysis | -30-40% failures | Medium | üî¥ High |</p>
<p>| Warmup | Better context | Low | üî¥ High |</p>
<p>| Variant Generation | +10% quality | High | üü° Medium |</p>
<p>| Auto-Polish | +5% quality | Medium | üü° Medium |</p>
<p>| PM Framework | Minimal | High | üü¢ Low |</p>

<p>---</p>

<h2>Appendix A: Conversion Scripts</h2>

<h3>Script: Convert .docx to .md with Frontmatter</h3>

<pre><code>#!/usr/bin/env python3
"""
Convert Vibe Coding .docx templates to Markdown with YAML frontmatter
Usage: python convert_vibe_templates.py &lt;input_dir&gt; &lt;output_dir&gt;
"""

import os
import sys
from pathlib import Path
import subprocess
from datetime import date

def extract_metadata_from_filename(filename: str) -&gt; dict:
    """Extract template metadata from Vibe Coding filename patterns"""
    # Pattern: "stap N Name.docx" or "Part N Name.docx"
    parts = filename.replace(".docx", "").split(" ")

    if parts[0].lower() == "stap":
        category = "8-step-method"
        step = int(parts[1])
        purpose = "-".join(parts[2:]).lower().replace(" ", "-")
    elif parts[0].lower() == "part":
        category = "ui-design"
        step = int(parts[1])
        purpose = "-".join(parts[2:]).lower().replace(" ", "-")
    else:
        category = "planning"
        step = 0
        purpose = "-".join(parts).lower().replace(" ", "-")

    return {
        "category": category,
        "step": step,
        "purpose": purpose
    }

def generate_frontmatter(metadata: dict) -&gt; str:
    """Generate YAML frontmatter for template"""
    return f"""---
template_id: "vibe-{metadata['category']}-step-{metadata['step']}"
version: "1.0.0"
category: "{metadata['category']}"
language: "nl"
status: "active"
estimated_tokens: 500
last_updated: "{date.today().isoformat()}"
maintainer: "template-team@domain.com"
changelog:
  - version: "1.0.0"
    date: "{date.today().isoformat()}"
    changes: "Converted from Vibe Coding .docx format"
---

"""

def convert_docx_to_md(input_path: Path, output_path: Path):
    """Convert .docx to .md using pandoc"""
    # Use pandoc for conversion
    subprocess.run([
        "pandoc",
        str(input_path),
        "-o", str(output_path),
        "--extract-media", str(output_path.parent / "media")
    ], check=True)

def main(input_dir: str, output_dir: str):
    """Main conversion logic"""
    input_path = Path(input_dir)
    output_path = Path(output_dir)
    output_path.mkdir(parents=True, exist_ok=True)

    # Find all .docx files
    docx_files = list(input_path.rglob("*.docx"))
    print(f"Found {len(docx_files)} .docx files")

    for docx_file in docx_files:
        print(f"Converting {docx_file.name}...")

        # Extract metadata
        metadata = extract_metadata_from_filename(docx_file.name)

        # Generate output filename
        output_filename = f"template-{metadata['category']}-{metadata['purpose']}.md"
        output_file = output_path / output_filename

        # Convert using pandoc
        temp_file = output_path / f"temp_{output_filename}"
        convert_docx_to_md(docx_file, temp_file)

        # Add frontmatter
        with open(temp_file, 'r', encoding='utf-8') as f:
            content = f.read()

        frontmatter = generate_frontmatter(metadata)

        with open(output_file, 'w', encoding='utf-8') as f:
            f.write(frontmatter)
            f.write(content)

        # Remove temp file
        temp_file.unlink()

        print(f"  ‚Üí {output_file.name}")

    print(f"\nConversion complete! {len(docx_files)} templates converted.")
    print(f"Output directory: {output_path}")

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Usage: python convert_vibe_templates.py &lt;input_dir&gt; &lt;output_dir&gt;")
        sys.exit(1)

    main(sys.argv[1], sys.argv[2])</code></pre>

<h3>Script: Validate Template Quality</h3>

<pre><code>#!/usr/bin/env python3
"""
Validate template quality gates
Usage: python validate_templates.py &lt;template_dir&gt;
"""

import sys
from pathlib import Path
import yaml
from typing import List, Tuple

class TemplateValidator:
    """Validates template structure and quality"""

    REQUIRED_FRONTMATTER_KEYS = [
        "template_id", "version", "category", "language",
        "status", "last_updated", "maintainer"
    ]

    REQUIRED_SECTIONS = [
        "Goal", "Prerequisites", "Instructions for AI",
        "Stop &amp; Confirm", "Deliverable"
    ]

    def __init__(self, template_path: Path):
        self.path = template_path
        self.errors = []
        self.warnings = []

    def validate(self) -&gt; Tuple[bool, List[str], List[str]]:
        """Run all validation checks"""
        self._validate_frontmatter()
        self._validate_sections()
        self._validate_token_budget()
        self._validate_example_exists()

        return (len(self.errors) == 0, self.errors, self.warnings)

    def _validate_frontmatter(self):
        """Check YAML frontmatter is valid and complete"""
        with open(self.path, 'r', encoding='utf-8') as f:
            content = f.read()

        if not content.startswith("---"):
            self.errors.append("Missing YAML frontmatter")
            return

        try:
            # Extract frontmatter
            parts = content.split("---", 2)
            if len(parts) &lt; 3:
                self.errors.append("Malformed YAML frontmatter")
                return

            frontmatter = yaml.safe_load(parts[1])

            # Check required keys
            for key in self.REQUIRED_FRONTMATTER_KEYS:
                if key not in frontmatter:
                    self.errors.append(f"Missing frontmatter key: {key}")

        except yaml.YAMLError as e:
            self.errors.append(f"Invalid YAML: {e}")

    def _validate_sections(self):
        """Check all required sections are present"""
        with open(self.path, 'r', encoding='utf-8') as f:
            content = f.read()

        for section in self.REQUIRED_SECTIONS:
            if f"## {section}" not in content and f"## üéØ {section}" not in content:
                self.warnings.append(f"Missing section: {section}")

    def _validate_token_budget(self):
        """Warn if no token budget specified"""
        with open(self.path, 'r', encoding='utf-8') as f:
            content = f.read()

        if "estimated_tokens" not in content:
            self.warnings.append("No token budget specified in frontmatter")

    def _validate_example_exists(self):
        """Check if example file exists"""
        example_path = self.path.parent / f"{self.path.stem}-example.md"
        if not example_path.exists():
            self.warnings.append(f"No example file found: {example_path.name}")

def main(template_dir: str):
    """Validate all templates in directory"""
    template_path = Path(template_dir)
    templates = list(template_path.rglob("template-*.md"))

    print(f"Validating {len(templates)} templates...")
    print("=" * 60)

    passed = 0
    failed = 0

    for template in templates:
        validator = TemplateValidator(template)
        valid, errors, warnings = validator.validate()

        if valid:
            print(f"‚úÖ {template.name}")
            passed += 1
        else:
            print(f"‚ùå {template.name}")
            for error in errors:
                print(f"   ERROR: {error}")
            failed += 1

        for warning in warnings:
            print(f"   ‚ö†Ô∏è  {warning}")

    print("=" * 60)
    print(f"Results: {passed} passed, {failed} failed")

    return 0 if failed == 0 else 1

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python validate_templates.py &lt;template_dir&gt;")
        sys.exit(1)

    sys.exit(main(sys.argv[1]))</code></pre>

<p>---</p>

<p><strong>Document Status</strong>: ‚úÖ Complete</p>
<p><strong>Next Review</strong>: 2025-11-17 (30 days)</p>
<p><strong>Maintainer</strong>: Template Standards Team</p>
<p><strong>Questions</strong>: template-standards@domain.com</p>

  </div>
</body>
</html>