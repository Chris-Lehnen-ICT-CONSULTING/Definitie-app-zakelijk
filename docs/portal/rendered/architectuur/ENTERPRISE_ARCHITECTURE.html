<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ENTERPRISE ARCHITECTURE - DEFINITIEAPP</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">‚Üê Terug naar Portal</a>
    <p>---</p>
<p>aangemaakt: '08-09-2025'</p>
<p>afhankelijkheden:</p>
<ul>
<li>docs/vereisten/REQUIREMENTS.md</li>
<li>docs/backlog/stories/MASTER-EPICS-USER-STORIES.md</li>
<p>applies_to: definitie-app@v2</p>
<p>bijgewerkt: '08-09-2025'</p>
<p>canonical: true</p>
<p>compliance:</p>
<p>  ASTRA: true</p>
<p>  bio: false</p>
<p>  GEMMA: true</p>
<p>  NORA: true</p>
<p>cross_references:</p>
<p>  ea: ENTERPRISE_ARCHITECTURE.md</p>
<p>  sa: SOLUTION_ARCHITECTURE.md</p>
<p>  ta: TECHNICAL_ARCHITECTURE.md</p>
<p>last_verified: 05-09-2025</p>
<p>next_review: 31-12-2025</p>
<p>owner: architecture</p>
<p>prioriteit: medium</p>
<p>review_cycle: quarterly</p>
<p>stakeholders:</p>
<li>contact: architecture-team@justice.nl</li>
<p>  role: owner</p>
<li>contact: product-owner@justice.nl</li>
<p>  role: business_owner</p>
<p>status: active</p>
<p>supersedes:</p>
<li>docs/archief/2025-09-architectuur-consolidatie/EA.md</li>
<li>docs/archief/2025-09-architectuur-consolidatie/EA-CFR.md</li>
<li>docs/archief/2025-09-architectuur-consolidatie/ASTRA_COMPLIANCE.md</li>
<li>docs/archief/2025-09-architectuur-consolidatie/CAPABILITY_MAP.md</li>
<p>version_history:</p>
<p>  current: 2.0.0</p>
<p>  migration_date: '05-09-2025'</p>
<p>  previous: 1.0.0</p>
<p>---</p>
</ul>



<h1>ENTERPRISE ARCHITECTURE - DEFINITIEAPP</h1>

<h2>1. Executive Summary</h2>

<h3>1.1 Management Samenvatting</h3>

<p>De DefinitieApp is een AI-gedreven systeem voor het genereren en valideren van juridische definities binnen de Nederlandse justitieketen. Dit innovatieve platform transformeert het proces van juridische definitiecreatie door gebruik te maken van GPT-4 technologie gecombineerd met 45+ gevalideerde toetsregels, waardoor de doorlooptijd van dagen naar minuten wordt teruggebracht.</p>

<p><strong>Kernpunten:</strong></p>
<ul>
<li>**Waardepropositie**: 90% tijdsbesparing bij definitiecreatie met verhoogde kwaliteit en consistentie</li>
<li>**Strategische afstemming**: Volledig ge√Øntegreerd met justitieketen architectuur (ASTRA/NORA compliant)</li>
<li>**Kritieke beslissingen**: V2-only architectuur met stateless services en Single Source of Truth principe</li>
<li>**Compliance status**: conform [COMPLIANCE-DASHBOARD.md](../COMPLIANCE-DASHBOARD.md). Let op: EPIC-010 (Context Flow) blokkeert volledige ASTRA/NORA‚Äëafronding tot voltooiing.</li>
<li>**PER-007/CFR fixes**: Context flow volledig hersteld, alle drie contextvelden worden correct doorgegeven</li>
</ul>

<h3>1.2 Vision Statement</h3>
<blockquote>Transform juridische definitiecreatie binnen de Nederlandse justitieketen door AI-powered assistentie, waarbij consistentie, kwaliteit en compliance worden gewaarborgd terwijl de creatietijd van dagen naar minuten wordt gereduceerd.</blockquote>

<h3>1.3 Business Context</h3>
<ul>
<li>**Organisatie**: Nederlandse Justitieketen - Digitale Transformatie</li>
<li>**Domein**: Legal Content Management / AI-Assisted Definition Generation</li>
<li>**Scope**: Justitie-breed platform voor definitie creatie, validatie en beheer</li>
<li>**Primaire Gebruikers**: OM, DJI, Rechtspraak, Justid</li>
<li>**Stakeholders**: Juridische professionals, Beleidsmakers, IT-afdelingen, Compliance officers</li>
</ul>

<h3>1.4 Key Business Drivers</h3>
<ol>
<li>**Digital Transformation** - Modernisering van juridische contentcreatie binnen justitie</li>
<li>**Quality & Consistency** - Uniforme definities met 45+ validatieregels</li>
<li>**Efficiency Gains** - 90% tijdsbesparing, van dagen naar minuten</li>
<li>**Compliance** - Volledige ASTRA/NORA compliance, WCAG 2.1, B1 taalniveau</li>
<li>**Context Flow Optimalisatie** - PER-007/CFR fixes voor complete context doorgifte</li>
</ol>

<p>---</p>

<h3>1.5 Current Snapshot (05-09-2025)</h3>
<ul>
<li>**Kern**: V2-only architectuur compleet; 45/45 toetsregels actief in productie</li>
<li>**UI**: 10 Streamlit tabs; volledig ge√Øntegreerd met stateless services</li>
<li>**AI Config**: Gecentraliseerd via ConfigManager; component-specifieke settings</li>
<li>**Context Flow**: PER-007/CFR fixes ge√Ømplementeerd - alle drie contextvelden correct</li>
<li>**Beveiliging**: Pre-productie fase - AuthN/Z en encryptie in Q4 2025 roadmap</li>
<li>**Prestaties**: 5-8s response tijd; token gebruik geoptimaliseerd (3000 tokens)</li>
<li>**Tests**: 60% coverage; V2 tests stabiel; TDD workflow actief</li>
<li>**Tech Stack**: Python 3.11, Streamlit UI, SQLite DB, ServiceContainer DI</li>
<li>**Compliance**: ASTRA-ready architectuur, NORA principes ge√Ømplementeerd</li>
</ul>

<h3>1.6 Key Architectural Decisions</h3>

<p>| Decision | Rationale | Business Impact | Status |</p>
<p>|----------|-----------|-----------------|---------|</p>
<p>| Single Source of Truth voor validatieregels | Consistentie en onderhoudbaarheid | Verminderde fouten, snellere updates | ‚úÖ Implemented |</p>
<p>| AI-gedreven definitie generatie (GPT-4) | Efficiency en kwaliteit | 90% tijdsbesparing | ‚úÖ Active |</p>
<p>| Stateless service architectuur | Testbaarheid en schaalbaarheid | 100% service testability | ‚úÖ Implemented |</p>
<p>| Context flow via DefinitionGeneratorContext | Complete context doorgifte | Verhoogde definitiekwaliteit | ‚úÖ Fixed (PER-007) |</p>
<p>| Modulaire validatie architectuur | Flexibiliteit en uitbreidbaarheid | 45+ actieve regels | ‚úÖ Production |</p>

<h3>1.7 Compliance Status Dashboard</h3>

<p>| Framework | Compliance Level | Certification | Next Audit | Actions |</p>
<p>|-----------|-----------------|---------------|------------|---------|</p>
<p>| ASTRA | Zie Compliance Dashboard | In uitvoering | Q1 2026 | Context flow afronden |</p>
<p>| NORA | Zie Compliance Dashboard | In uitvoering | Q2 2026 | Afhankelijk van EPIC‚Äë010 |</p>
<p>| BIO | ‚ö†Ô∏è 70% | Required | Q3 2025 | Implement security controls |</p>
<p>| GEMMA | ‚úÖ 100% | Valid | Q4 2025 | Maintain |</p>
<p>| AVG/GDPR | ‚úÖ 85% | Assessment done | Q1 2026 | Privacy by Design |</p>

<h2>2. Business Architecture</h2>

<h3>2.1 Business Capability Model</h3>

<pre><code>graph TD
    subgraph "Core Capabilities"
        BC1[AI Definitie Generatie]
        BC2[Multi-level Validatie&lt;br/&gt;45+ Toetsregels]
        BC3[Context &amp; Ontologie&lt;br/&gt;Management]
        BC4[Duplicaat Detectie]
        BC5[Generatie Orchestratie]
    end

    subgraph "Supporting Capabilities"
        BC6[Externe Bron Integratie&lt;br/&gt;Wikipedia/SRU]
        BC7[Document Verwerking]
        BC8[Expert Review Werkstroom]
        BC9[Export &amp; Publicatie]
        BC10[Usage Analytics]
    end

    subgraph "Platform Capabilities"
        BC11[IAM &amp; Autorisatie]
        BC12[Monitoring &amp; Observability]
        BC13[Configuratie Management]
        BC14[Data Repository]
        BC15[API Gateway]
        BC16[CI/CD Pipeline]
    end

    subgraph "Governance Capabilities"
        BC17[Architecture Governance]
        BC18[Compliance Management&lt;br/&gt;ASTRA/NORA/BIO]
        BC19[Risk Management]
        BC20[Quality Assurance]
    end

    BC1 --&gt; BC2
    BC2 --&gt; BC5
    BC3 --&gt; BC1
    BC4 --&gt; BC1
    BC6 --&gt; BC1
    BC7 --&gt; BC3
    BC8 --&gt; BC2
    BC9 --&gt; BC5
    BC10 --&gt; BC17</code></pre>

<h4>Capability Maturity Levels</h4>

<p>| Capability | Current Maturity | Target | Gap Analysis |</p>
<p>|------------|-----------------|--------|--------------|</p>
<p>| AI Definitie Generatie | ‚≠ê‚≠ê‚≠ê‚≠ê Managed | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Optimized | Prompt tuning needed |</p>
<p>| Multi-level Validatie | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Optimized | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Optimized | Complete |</p>
<p>| Context Management | ‚≠ê‚≠ê‚≠ê‚≠ê Managed | ‚≠ê‚≠ê‚≠ê‚≠ê Managed | PER-007 fixed |</p>
<p>| External Integration | ‚≠ê‚≠ê‚≠ê Defined | ‚≠ê‚≠ê‚≠ê‚≠ê Managed | UI integration pending |</p>
<p>| IAM & Beveiliging | ‚≠ê‚≠ê Developing | ‚≠ê‚≠ê‚≠ê‚≠ê Managed | Q4 2025 implementation |</p>
<p>| Monitoring | ‚≠ê‚≠ê Developing | ‚≠ê‚≠ê‚≠ê‚≠ê Managed | Structured logging needed |</p>

<h3>2.2 Value Streams</h3>

<p>| Value Stream | Description | Key Processes | Bedrijfswaarde | KPIs |</p>
<p>|--------------|-------------|---------------|----------------|------|</p>
<p>| <strong>Definitie Creatie</strong> | End-to-end juridische definitie generatie | Context ‚Üí Generate ‚Üí Validate ‚Üí Store | 90% tijdsbesparing | < 10 min per definitie |</p>
<p>| <strong>Kwaliteitsborging</strong> | 45+ validatieregels systeem | Auto-check ‚Üí Feedback ‚Üí Approve | 95% first-time-right | < 1% fouten |</p>
<p>| <strong>Kennis Management</strong> | Justitie-brede kennisdeling | Search ‚Üí Reuse ‚Üí Adapt ‚Üí Learn | 70% hergebruik | > 1000 definities/jaar |</p>
<p>| <strong>Compliance Management</strong> | ASTRA/NORA naleving | Monitor ‚Üí Report ‚Üí Audit ‚Üí Improve | 100% compliance | 0 violations |</p>
<p>| <strong>Context Flow</strong> | Complete context doorgifte | Capture ‚Üí Validate ‚Üí Enrich ‚Üí Apply | 100% context completeness | 3/3 velden actief |</p>

<h3>2.3 Architectural Principles</h3>

<h4>Clean Architecture Compliance</h4>
<p><strong>Principle</strong>: Services MUST be independent of UI frameworks and session state</p>
<ul>
<li>**Rationale**: Enable testing, reusability, and framework independence</li>
<li>**Implementatie**: Stateless services met Data Aggregation pattern</li>
<li>**Success Criteria**: 100% business services testable zonder UI mocks</li>
</ul>

<h4>Single Source of Truth</h4>
<p><strong>Principle</strong>: Elke validatieregel heeft exact √©√©n definitie voor validatie √©n prompt-generatie</p>
<ul>
<li>**Rationale**: Voorkomt inconsistenties en vereenvoudigt onderhoud</li>
<li>**Implementatie**: Centrale regel repository met modulaire architectuur</li>
<li>**Success Criteria**: Zero duplicatie, 100% rule coverage</li>
</ul>

<h4>Context-Driven Processing</h4>
<p><strong>Principle</strong>: Alle drie contextvelden (org/jur/wet) worden volledig doorgegeven</p>
<ul>
<li>**Rationale**: Waarborgt juridische correctheid en ASTRA compliance</li>
<li>**Implementatie**: DefinitionGeneratorContext als canonical data structure</li>
<li>**Success Criteria**: 3/3 context velden actief in elke generatie</li>
</ul>

<h4>Privacy by Design</h4>
<p><strong>Principle</strong>: Minimale data opslag, maximale beveiliging</p>
<ul>
<li>**Rationale**: AVG/GDPR compliance vanaf ontwerp</li>
<li>**Implementatie**: 90-dagen retentie, audit logging, encryptie at-rest (Q4)</li>
<li>**Success Criteria**: Zero PII lekkage, volledig audit trail</li>
</ul>

<h3>2.4 Business Services Portfolio</h3>

<p>| Service | Purpose | Criticality | SLA | Status |</p>
<p>|---------|---------|-------------|-----|--------|</p>
<p>| <strong>Definition Generation Service</strong> | AI-powered juridische definitie creatie | Critical | 99.9% | ‚úÖ Production |</p>
<p>| <strong>Validation Service</strong> | 45+ toetsregels validatie engine | Critical | 99.9% | ‚úÖ Production |</p>
<p>| <strong>Context Management Service</strong> | Complete context capture & flow | Critical | 99.9% | ‚úÖ Fixed (PER-007) |</p>
<p>| <strong>Web Lookup Service</strong> | Wikipedia/SRU integratie | High | 95% | üü° Beta |</p>
<p>| <strong>Export Service</strong> | JSON/Excel/Markdown export | Medium | 99% | ‚úÖ Production |</p>
<p>| <strong>Repository Service</strong> | SQLite persistence layer | Critical | 99.9% | ‚úÖ Production |</p>
<p>| <strong>Prompt Service</strong> | Modulaire prompt constructie | Critical | 99.9% | ‚úÖ V2 Active |</p>
<p>| <strong>Analytics Service</strong> | Usage tracking & insights | Low | 95% | üî¥ Planned Q1 2026 |</p>

<h3>2.5 Business KPIs & Success Metrics</h3>

<p>| KPI | Current | Target | Timeline | Measurement |</p>
<p>|-----|---------|--------|----------|-------------|</p>
<p>| <strong>Definition Creation Time</strong> | 8-10 min | <5 min | Q1 2026 | Avg response time |</p>
<p>| <strong>Quality Score (First-Time-Right)</strong> | 85% | 95% | Q2 2026 | Validation pass rate |</p>
<p>| <strong>Platform Adoption</strong> | 50 users | 500+ users | Q4 2025 | Active monthly users |</p>
<p>| <strong>Cost per Definition</strong> | ‚Ç¨15 | ‚Ç¨5 | Q2 2026 | API + infra costs |</p>
<p>| <strong>Context Completeness</strong> | 100% | 100% | ‚úÖ Achieved | 3/3 fields filled |</p>
<p>| <strong>Token Efficiency</strong> | 3000 | 2000 | Q1 2026 | Avg tokens/request |</p>
<p>| <strong>Validation Coverage</strong> | 45/45 | 50/50 | Q2 2026 | Active rules |</p>
<p>| <strong>System Availability</strong> | 95% | 99.9% | Q4 2025 | Uptime monitoring |</p>

<p>---</p>

<h2>3. Organizational Context & Stakeholders</h2>

<h3>3.1 Organisatie Positionering</h3>

<p>De DefinitieApp opereert binnen de Nederlandse justitieketen onder gezamenlijke verantwoordelijkheid:</p>

<pre><code>graph TD
    subgraph "Justitie Keten"
        MJV[Ministerie JenV]
        OM[Openbaar Ministerie (OM)]
        DJI[DJI - Dienst Justiti√´le Inrichtingen (DJI)]
        RS[Rechtspraak]
        JID[Justid]
    end

    subgraph "DefinitieApp Governance"
        DA[DefinitieApp Platform]
        SB[Stuurgroep]
        AB[Architecture Board]
        OT[Operationeel Team]
    end

    MJV --&gt; SB
    OM --&gt; DA
    DJI --&gt; DA
    RS --&gt; DA
    JID --&gt; DA

    SB --&gt; AB
    AB --&gt; OT
    OT --&gt; DA</code></pre>

<h3>3.2 Stakeholder Analysis</h3>

<p>| Stakeholder Group | Primary Concerns | Influence | Engagement Strategy | Contact |</p>
<p>|-------------------|------------------|-----------|--------------------|---------|</p>
<p>| <strong>Juridische Professionals</strong> | Accuraatheid, Compliance, Snelheid | High | Wekelijkse feedback, Training | legal@justice.nl |</p>
<p>| <strong>IT Departments</strong> | Onderhoudbaarheid, Beveiliging, Integratie | High | Technical reviews, ADRs | it@justice.nl |</p>
<p>| <strong>Management JenV</strong> | Kosten, Efficiency, Risico's | High | Kwartaal rapportages | management@justice.nl |</p>
<p>| <strong>Eindgebruikers</strong> | Usability, Prestaties, Features | Medium | User groups, Surveys | users@justice.nl |</p>
<p>| <strong>Compliance Officers</strong> | ASTRA/NORA, AVG, Audit trails | High | Compliance reviews | compliance@justice.nl |</p>
<p>| <strong>Beveiliging Officers</strong> | BIO compliance, Data protection | High | Beveiliging audits | security@justice.nl |</p>
<p>| <strong>Externe Auditors</strong> | Traceability, Documentatie | Medium | Audit support | audit@justice.nl |</p>

<h3>3.3 Justice Chain Integration Points</h3>

<p>| System | Organization | Integration Type | Data Exchange | Protocol | Status |</p>
<p>|--------|--------------|------------------|---------------|----------|--------|</p>
<p>| <strong>GCOS</strong> | OM | Real-time | Zaak definities | REST API | üî¥ Planned |</p>
<p>| <strong>TRIAS</strong> | DJI | Batch | Detentie begrippen | SFTP | üî¥ Planned |</p>
<p>| <strong>NSCR</strong> | Rechtspraak | Real-time | Jurisprudentie | REST API | üî¥ Planned |</p>
<p>| <strong>Justid</strong> | Justid | Real-time | Authenticatie | OIDC | üî¥ Q4 2025 |</p>
<p>| <strong>Wikipedia</strong> | External | Real-time | Context verrijking | REST API | ‚úÖ Active |</p>
<p>| <strong>SRU</strong> | KB | Real-time | Juridische bronnen | SRU/REST | üü° Beta |</p>

<h2>4. Information Architecture</h2>

<h3>4.1 Enterprise Information Model</h3>

<pre><code>classDiagram
    class JuridischeDefinitie {
        +String id
        +String begrip
        +String definitie
        +String[] organisatorische_context
        +String[] juridische_context
        +String[] wettelijke_basis
        +DateTime created_at
        +String created_by
        +ValidationStatus status
        +validate()
        +export()
    }

    class Validatieregel {
        +String id
        +String category
        +Prioriteit priority
        +String description
        +ValidationLogic logic
        +execute()
    }

    class ContextData {
        +List~String~ organisatorisch
        +List~String~ juridisch
        +List~String~ wettelijk
        +Dict custom_entries
        +merge()
        +validate()
    }

    class Gebruiker {
        +String id
        +String email
        +String organisatie
        +Role role
        +Permissions permissions
    }

    class AuditLog {
        +String id
        +DateTime timestamp
        +String user_id
        +String action
        +Dict context
        +String result
    }

    JuridischeDefinitie "1" --&gt; "*" Validatieregel : validated_by
    JuridischeDefinitie "1" --&gt; "1" ContextData : uses
    Gebruiker "1" --&gt; "*" JuridischeDefinitie : creates
    JuridischeDefinitie "1" --&gt; "*" AuditLog : tracked_by
    Gebruiker "1" --&gt; "*" AuditLog : generates</code></pre>

<h3>4.2 Data Governance</h3>

<p>| Data Category | Eigenaar | Classification | Retention | Privacy Impact | Encryption |</p>
<p>|---------------|-------|----------------|-----------|----------------|------------|</p>
<p>| <strong>Juridische Definities</strong> | Business | Public | 7 years | Low | At-rest (Q4) |</p>
<p>| <strong>User Data</strong> | IT Beveiliging | Confidential | 2 years | High | Required |</p>
<p>| <strong>Audit Logs</strong> | Compliance | Internal | 10 years | Medium | Required |</p>
<p>| <strong>Context Data</strong> | Business | Internal | 90 days | Low | Optional |</p>
<p>| <strong>API Keys</strong> | Beveiliging | Secret | Rotation | Critical | Always |</p>
<p>| <strong>Validation Results</strong> | QA Team | Internal | 1 year | Low | Optional |</p>

<h3>4.3 Information Flows</h3>

<h4>Definition Generation Flow (PER-007 Compliant)</h4>
<pre><code>sequenceDiagram
    participant User
    participant UI
    participant Context as ContextService
    participant Gen as GeneratorService
    participant Val as ValidationService
    participant Repo as Repository

    User-&gt;&gt;UI: Input term + 3 contexts
    UI-&gt;&gt;Context: Capture all fields
    Context-&gt;&gt;Context: Validate &amp; merge
    Context-&gt;&gt;Gen: Complete context
    Gen-&gt;&gt;Gen: Build prompt
    Gen-&gt;&gt;Gen: Call GPT-4
    Gen-&gt;&gt;Val: Validate definition
    Val-&gt;&gt;Val: Apply 45 rules
    Val-&gt;&gt;Repo: Store if valid
    Repo--&gt;&gt;User: Return result</code></pre>
<p>      description: Official government term definition</p>
<p>      owner: Content Governance Board</p>
<p>      criticality: High</p>
<p>      retention: 7 years</p>

<ul>
<li> - Context:</li>
<p>      description: Domain and usage context</p>
<p>      owner: Domain Owners</p>
<p>      criticality: High</p>
<p>      relationships: [Definition, Organization]</p>
</ul>

<ul>
<li> - Organization:</li>
<p>      description: Government entity</p>
<p>      owner: Identity Management</p>
<p>      criticality: High</p>
<p>      type: Master Data</p>
</ul>

<ul>
<li> - ValidationResult:</li>
<p>      description: Quality assessment outcome</p>
<p>      owner: Quality Assurance Team</p>
<p>      criticality: Medium</p>
<p>      retention: 2 years</p>
<pre><code>
### 2.2 Data Governance
- **Data Ownership**: Federated model with central standards
- **Data Quality Standards**: Government Data Quality Framework (GDQF)
- **Privacy &amp; Compliance**: GDPR/AVG compliant, no PII in definitions
- **Master Data Management**: Centralized for organizations, terms, contexts
- **Data Classification**: Public (definitions), Internal (drafts), Confidential (reviews)

### 2.3 Information Flow</code></pre>
<p>graph LR</p>
<p>    A[Government User] --> B[Platform]</p>
<p>    B --> C[AI Services]</p>
<p>    C --> D[External Sources]</p>
<p>    D --> E[Validation Engine]</p>
<p>    E --> F[Publishing System]</p>
<p>    F --> G[Government Portals]</p>
<pre><code>
---

## 3. Application Architecture

### 3.1 Application Portfolio

#### Current State (AS-IS)
| Application | Type | Business Capability | Status | Health |
|-------------|------|-------------------|---------|--------|
| DefinitieAgent v1.0 | Monolith | All capabilities | Production | Amber |
| Word-based Tools | Desktop | Manual creation | Legacy | Red |
| Department Wikis | Web-based | Knowledge sharing | Active | Amber |
| Email Workflows | Manual | Review process | Active | Red |

#### Target State (TO-BE)
| Application | Type | Business Capability | Timeline | Investment |
|-------------|------|-------------------|----------|-----------|
| DefinitieAgent v2.0 | Microservices | Core platform | Q2 2025 | ‚Ç¨800k |
| Mobile Apps | Native | Field access | Q3 2025 | ‚Ç¨200k |
| Analytics Platform | SaaS | Insights &amp; reporting | Q3 2025 | ‚Ç¨150k |
| API Gateway | PaaS | Integration hub | Q2 2025 | ‚Ç¨100k |

### 3.2 Application Principles
1. **API-First Design**: All functionality exposed via standardized APIs
2. **Cloud-Native Architecture**: Containerized, scalable, resilient
3. **Buy vs Build**: Buy commodity capabilities, build differentiating features
4. **Progressive Web Apps**: Mobile-first, offline capable
5. **Open Standards**: Prevent vendor lock-in, ensure interoperability

### 3.3 Integration Landscape</code></pre>
<p>Integration Categories:</p>
<p>  Government Systems:</p>
<li>   - Authentication: DigiD/eHerkenning</li>
<li>   - Content: RijksWoordenboek, Officielebekendmakingen</li>
<li>   - Legal: Wetten.nl, EUR-Lex</li>
</ul>

<p>  Internal Systems:</p>
<ul>
<li>   - Document Management: SharePoint/OpenText</li>
<li>   - Werkstroom: ServiceNow/Pegasystems</li>
<li>   - Analytics: PowerBI/Tableau</li>
</ul>

<p>  External Services:</p>
<ul>
<li>   - AI/ML: Azure OpenAI Service</li>
<li>   - Translation: DeepL API</li>
<li>   - Accessibility: ReadSpeaker</li>
<pre><code>
---

## 4. Technology Architecture

### 4.0 Current Technical Snapshot (28-08-2025)
- **Taal/Runtime**: Python 3.11; Streamlit UI
- **Data**: SQLite (unencrypted) met migraties; export naar TXT/JSON
- **Services**: Modulair (generatie, validatie, lookup, repo, monitoring)
- **Resilience**: Retries/ratelimiting aanwezig, centralisatie gewenst
- **Observability**: Basis monitoring/logging; uitbreiden met structured logging en P95/P99 metrics
- **Beperkingen**: Geen auth/crypto; UI-coupling in enkele services; import hygi√´ne issues

### 4.1 Technology Standards

#### Government-Wide Standards
| Category | Standard | Versie/Spec | Mandate |
|----------|----------|-------------|----------|
| Identity | DigiD/eHerkenning | Latest | Required |
| Accessibility | WCAG | 2.1 AA | Required |
| API | RESTful | OpenAPI 3.0 | Required |
| Beveiliging | NCSC Guidelines | Current | Required |
| Cloud | Government Cloud | Azure/AWS Gov | Preferred |
| Data Exchange | StUF/NLGOV | 3.0+ | Where applicable |

#### Technology Principles
1. **Cloud-First Strategy**: Prefer SaaS &gt; PaaS &gt; IaaS &gt; On-premise
2. **Zero Trust Beveiliging**: Never trust, always verify
3. **API Economy**: Services communicate via APIs only
4. **Open Source Preference**: Wanneer TCO is comparable
5. **Mobile-First Design**: Primary interface on mobile devices

### 4.2 Platform Strategy
- **Primary Platform**: Government Cloud (Azure Government)
- **Secondary Platform**: Private cloud for sensitive data
- **Edge Computing**: For offline scenarios
- **Exit Strategy**: Container-based, cloud-agnostic

### 4.3 Innovation Roadmap
| Innovation | Business Impact | Timeline | Investment |
|------------|----------------|----------|------------|
| Advanced AI (GPT-4+) | 50% quality improvement | Q1 2025 | ‚Ç¨200k |
| Voice Interface | Accessibility compliance | Q3 2025 | ‚Ç¨150k |
| Real-time Collaboration | 30% faster reviews | Q4 2025 | ‚Ç¨100k |
| Blockchain Audit Trail | Immutable compliance | 2026 | ‚Ç¨250k |
| AR/VR Training | 80% faster onboarding | 2026 | ‚Ç¨300k |

---

## 5. Beveiliging &amp; Risk Architecture

### 5.1 Beveiliging Framework
- **Framework**: Zero Trust Architecture aligned with BIO
- **Compliance**: ISO 27001, BIO, GDPR/AVG, NEN 7510
- **Risk Appetite**:
  - Data Beveiliging: Very Low
  - Service Availability: Low
  - Innovation: Medium

### 5.2 Enterprise Risk Register
| Risk | Impact | Probability | Mitigation Strategy |
|------|--------|-------------|--------------------|
| AI Bias/Hallucination | High | Medium | Multi-layer validation, human review |
| Data Breach | Very High | Low | Encryption, access control, monitoring |
| Service Unavailability | High | Low | Multi-region deployment, DR strategy |
| Adoption Resistance | Medium | Medium | Change management, training program |
| Compliance Violation | High | Low | Automated compliance checks |
| Vendor Lock-in | Medium | Medium | Open standards, portability |

### 5.4 Open Issues (28-08-2025)
- üî¥ Geen authenticatie/autorisatie (BIO/NORA blocker)
- üî¥ Geen encryptie at rest (SQLite) en in transit buiten dev
- üü† 8 bare excepts en E402 importfouten riskeren stabiliteit
- üü† Rate limiting/resilience niet uniform toegepast
- üü° Logging/monitoring niet gestandaardiseerd; auditability beperkt

### 5.3 Beveiliging Principles
1. **Privacy by Design**: Built-in from the start
2. **Least Privilege Access**: Minimal necessary permissions
3. **Defense in Depth**: Multiple security layers
4. **Continuous Monitoring**: Real-time threat detection
5. **Incident Response**: 24/7 SOC coverage

---

## 6. Governance

### 6.1 Architecture Governance
- **Architecture Board**: Monthly review with CIO Council
- **Decision Rights**: RACI matrix for architecture decisions
- **Compliance Process**: Automated + quarterly manual audits
- **Exception Process**: Risk-based approval workflow

### 6.2 Enterprise Principles

#### Business Principles
1. **Citizen-Centric Design**: User needs drive all decisions
2. **Transparency**: Open and auditable processes
3. **Collaboration**: Cross-department cooperation by default
4. **Continuous Improvement**: Learn and adapt from usage
5. **Sustainability**: Green IT practices

#### IT Principles
1. **Reuse Before Build**: Leverage existing capabilities
2. **Interoperability**: Open standards for integration
3. **Scalability**: Design for 10x growth
4. **Resilience**: No single point of failure
5. **Automation**: Automate repetitive tasks

### 6.3 Standards &amp; Guidelines
- **Enterprise Standards**: BIO, NORA, GDPR/AVG
- **Technical Standards**: ‚Üí [Link to SA Section 2.1]
- **Beveiliging Standards**: NCSC guidelines, ISO 27001/2
- **Quality Standards**: ISO 9001, Government quality framework

---

## 7. Roadmap &amp; Portfolio

### 7.1 Strategic Roadmap</code></pre>
<p>2024 Q4: Foundation Phase</p>
<p>‚îú‚îÄ‚îÄ Architecture Design & Approval</p>
<p>‚îú‚îÄ‚îÄ Pilot Department Selection</p>
<p>‚îî‚îÄ‚îÄ Infrastructure Setup</p>
</ul>

<p>2025 Q1-Q2: MVP & Early Adoption</p>
<p>‚îú‚îÄ‚îÄ Core Platform Development</p>
<p>‚îú‚îÄ‚îÄ 3 Ministry Pilots</p>
<p>‚îú‚îÄ‚îÄ Integration with Key Sources</p>
<p>‚îî‚îÄ‚îÄ Initial User Training</p>

<p>2025 Q3-Q4: Scaling & Enhancement</p>
<p>‚îú‚îÄ‚îÄ Government-wide Rollout</p>
<p>‚îú‚îÄ‚îÄ Advanced AI Features</p>
<p>‚îú‚îÄ‚îÄ Mobile Applications</p>
<p>‚îî‚îÄ‚îÄ Analytics Platform</p>

<p>2026: Excellence & Innovation</p>
<p>‚îú‚îÄ‚îÄ Voice & Accessibility</p>
<p>‚îú‚îÄ‚îÄ European Integration</p>
<p>‚îú‚îÄ‚îÄ Blockchain Audit</p>
<p>‚îî‚îÄ‚îÄ AI Autonomous Mode</p>

<h3>7.1.1 Revised Roadmap (Post‚ÄëQuinn Review, Aug 2025)</h3>
<p>Week 1‚Äì2: FOUNDATION & SECURITY</p>
<ul>
<li>Splits legacy Unified service; fix E402/imports; verwijder bare excepts</li>
<li>AuthN/AuthZ (OIDC) en feature flags; DB-encryptie of migratie</li>
</ul>

<p>Week 3‚Äì4: TESTING & INTEGRATION</p>
<ul>
<li>Testinfra herstellen; AI Toetser coverage omhoog; Web Lookup UI integratie</li>
<li>Observability: structured logging, performance monitors en tracing</li>
<li>Voorbeelden-module: consolideren naar `src/voorbeelden/unified_voorbeelden.py`,</li>
<p>  temperature-config centraliseren; legacy modules uitfaseren en orchestrators migreren</p>
</ul>

<p>Week 5‚Äì8: PERFORMANCE & QUALITY</p>
<ul>
<li>N+1/caching‚Äëleaks oplossen; resilience policies centraliseren; strict rate limiting</li>
<li>46/46 toetsregels; prompt/duplicaat‚Äëdetectie bijstellen</li>
</ul>

<p>Week 9‚Äì12: PRODUCTION READINESS</p>
<ul>
<li>BIO/NORA hardening; monitoring/alerts; exportformaten; governance/ADR‚Äôs afronden</li>
<pre><code>
### 7.2 Investment Portfolio
| Initiative | Bedrijfswaarde | Investment | ROI | Prioriteit |
|------------|---------------|------------|-----|----------|
| Core Platform | ‚Ç¨3M savings/year | ‚Ç¨800k | 275% | Critical |
| AI Enhancement | 50% quality gain | ‚Ç¨200k | 200% | High |
| Mobile Access | 3x user reach | ‚Ç¨200k | 150% | High |
| Analytics Platform | Data-driven decisions | ‚Ç¨150k | 125% | Medium |
| Voice Interface | Full accessibility | ‚Ç¨150k | 100% | Medium |
| **Total Portfolio** | **‚Ç¨4M+ value/year** | **‚Ç¨1.5M** | **167%** | - |

### 7.3 Benefits Realization

#### Financial Benefits
- **Cost Reduction**: ‚Ç¨3M/year from efficiency gains
- **FTE Savings**: 1000 hours/month across government
- **Error Reduction**: ‚Ç¨500k/year from fewer corrections

#### Non-Financial Benefits
- **Quality Improvement**: 95% first-time-right definitions
- **Citizen Satisfaction**: Clearer government communication
- **Compliance**: 100% accessibility and language compliance
- **Knowledge Sharing**: 70% definition reuse rate
- **Innovation**: AI-powered government services

---

## 8. Product Portfolio Status

### 8.1 Feature Portfolio Overview
**Laatst Bijgewerkt**: 20-08-2025

#### Overall Product Completion</code></pre>
<p>Total Features: 87</p>
<p>‚îú‚îÄ‚îÄ ‚úÖ Complete: 23 (26%)</p>
<p>‚îú‚îÄ‚îÄ üîÑ In Progress: 12 (14%)</p>
<p>‚îî‚îÄ‚îÄ ‚ùå Not Started: 52 (60%)</p>
</ul>

<p>üéØ Overall Product Completion: 26%</p>
<pre><code>
#### Development Metrics
- **Total Python Files**: 304 (150+ unused requiring cleanup)
- **Code Quality**: 799 errors (improved from 880+)
- **Critical Errors**: 0 (resolved from 38)
- **UI Completeness**: 30% (3 of 10 tabs active)
- **Response Time**: 8-12 seconds (target: &lt;5s)
- **Development Velocity**: ~3 features per sprint

### 8.2 Episch Verhaal Status Dashboard

| Episch Verhaal | Features | Complete | In Progress | Not Started | % Complete | Business Prioriteit | Risk |
|------|----------|----------|-------------|-------------|------------|-------------------|------|
| **Basis Definitie Generatie** | 5 | 4 | 0 | 1 | 80% | P0 - Critical | ‚úÖ Low |
| **Kwaliteitstoetsing** | 4 | 3 | 1 | 0 | 75% | P0 - Critical | ‚úÖ Low |
| **User Interface** | 15 | 3 | 3 | 9 | 20% | P1 - High | üî¥ High |
| **Beveiliging &amp; Authentication** | 5 | 0 | 0 | 5 | 0% | P0 - Critical | üî¥ Critical |
| **Prestaties** | 5 | 1 | 1 | 3 | 20% | P1 - High | üü† Medium |
| **Export/Import** | 7 | 1 | 1 | 5 | 14% | P1 - High | üü† Medium |
| **Web Lookup &amp; Integration** | 5 | 0 | 0 | 5 | 0% | P0 - Critical | üî¥ Critical |
| **Monitoring &amp; Analytics** | 5 | 2 | 1 | 2 | 40% | P2 - Medium | üü° Low |
| **Content Management** | 6 | 4 | 1 | 1 | 67% | P2 - Medium | ‚úÖ Low |

### 8.3 Critical Missing Features - Business Impact

| Prioriteit | Feature | Business Impact | Risk Level | Investment Required |
|----------|---------|-----------------|------------|---------------------|
| üî¥ **P0** | Authentication System | No enterprise deployment possible | Critical | 2 weeks |
| üî¥ **P0** | Web Lookup Integration | Core value proposition missing | Critical | 2 weeks |
| üî¥ **P0** | Bulk Import/Export | No scalability for departments | Critical | 1 week |
| üü† **P1** | Prestaties &lt; 5s | Poor user adoption | High | 2 weeks |
| üü† **P1** | 7 Missing UI Tabs | Incomplete user journey | High | 3 weeks |
| üü° **P2** | Export Formats | Limited integration options | Medium | 1 week |
| üü° **P2** | Monitoring Dashboard | No operational insights | Medium | 1 week |

### 8.4 Development Projections

#### Current Status
- **Sprint**: Week 8 of 16
- **Features Completed**: 23 of 87 (26%)
- **Average Velocity**: 3 features/sprint

#### Projected Timelines</code></pre>
<p>Critical Features (P0): Week 12 (4 weeks)</p>
<p>‚îú‚îÄ‚îÄ Authentication: 2 weeks</p>
<p>‚îú‚îÄ‚îÄ Web Lookup: 2 weeks</p>
<p>‚îî‚îÄ‚îÄ Bulk Operations: 1 week</p>

<p>High Prioriteit (P1): Week 16 (8 weeks)</p>
<p>‚îú‚îÄ‚îÄ Prestaties: 2 weeks</p>
<p>‚îî‚îÄ‚îÄ UI Completion: 3 weeks</p>

<p>MVP Ready: Week 14</p>
<p>Full Product: Week 20</p>
<pre><code>
### 8.5 Investment Realization Status

#### Development Investment
- **Planned**: 400-600 hours
- **Spent**: ~160 hours (Week 8/16)
- **Remaining**: ~440 hours
- **Team Size**: Currently 1-2, need 2-3 developers

#### ROI Tracking
| Metric | Target | Current | Gap |
|--------|--------|---------|-----|
| Prestaties | &lt;5s response | 8-12s | -60% |
| User Capacity | 10+ concurrent | 1 | -90% |
| Quality Score | 95% first-time-right | ~70% | -25% |
| Cost per Definition | ‚Ç¨0.30 | ‚Ç¨1.00 | -70% |

### 8.6 Business Risk Assessment

#### Updated Risk Matrix
| Risk | Business Impact | Technical Impact | Mitigation Prioriteit | Status |
|------|-----------------|------------------|---------------------|---------|
| **No Authentication** | Cannot deploy to government | Beveiliging breach risk | üî¥ Critical - Week 1 | ‚ùå Open |
| **Single User Only** | No departmental rollout | Database locks | üî¥ Critical - Week 2 | ‚ùå Open |
| **Missing Web Lookup** | Limited value proposition | Feature gap | üî¥ Critical - Week 3 | ‚ùå Open |
| **Poor Prestaties** | User rejection | Resource waste | üü† High - Week 4 | üîÑ In Progress |
| **Incomplete UI** | Confusing UX | Low adoption | üü† High - Week 5 | üîÑ In Progress |

---

## 9. Cross-References

### Solution Architecture Documents
- **DefinitieAgent Solution Architecture**: docs/architectuur/SOLUTION_ARCHITECTURE.md
- **API Specifications**: docs/api/
- **Beveiliging Analysis &amp; Guidance**: docs/SECURITY_AND_FEEDBACK_ANALYSIS.md
- **Legacy Migration Plan**: docs/LEGACY_CODE_MIGRATION_ROADMAP.md
 - **ConfigManager Implementatie**: src/config/config_manager.py
- **V2 Service Container**: src/services/container.py

### Governance Documents
&lt;!-- ADR directory niet meer beschikbaar na consolidatie - ADRs zijn ge√Øntegreerd in de canonical architecture documenten --&gt;
- **Product Vereisten (PRD)**: docs/prd.md
- **Architecture Viewer**: docs/architectuur/architecture-viewer.html
- **Compliance (BIO/NORA/WCAG) ‚Äì status &amp; acties**: docs/SECURITY_AND_FEEDBACK_ANALYSIS.md
 - **Compliance Matrix (Skeleton)**: docs/compliance/COMPLIANCE_MATRIX.md
 - **Capability Map (Compact)**: docs/architectuur/CAPABILITY_MAP.md

### Standards &amp; Frameworks
- **NORA**: [Nederlandse Overheid Referentie Architectuur](https://www.noraonline.nl)
- **BIO**: [Baseline Informatiebeveiliging Overheid](https://www.bio-overheid.nl)
- **WCAG**: [Web Content Accessibility Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)

---

## Appendices

### A. Stakeholder Matrix
| Stakeholder | Role | Key Concerns | Influence | Engagement |
|-------------|------|--------------|-----------|------------|
| CIO Council | Governance | Standards, costs, risks | High | Monthly |
| Ministry CDOs | Sponsors | ROI, adoption, integration | High | Bi-weekly |
| Policy Makers | Users | Ease of use, quality | Medium | Continuous |
| Legal Teams | Validators | Accuracy, compliance | High | Weekly |
| Citizens | End Users | Clarity, accessibility | Low | Via research |
| EU Partners | External | Interoperability | Medium | Quarterly |

### B. Compliance Vereisten
| Requirement | Source | Impact | Implementatie |
|-------------|--------|--------|----------------|
| WCAG 2.1 AA | EU/NL Law | All UI | Built-in accessibility |
| GDPR/AVG | EU Law | Data handling | Privacy by design |
| BIO | NL Standard | Beveiliging | Beveiliging controls |
| DigiD/eHerkenning | NL Gov | Authentication | Identity integration |
| Language Level B1 | NL Policy | Content | Validation rules |

### C. Success Metrics

#### Phase 1 (MVP) - Q2 2025
- 3 pilot ministries live
- 100+ definitions created
- 80% user satisfaction
- &lt;30min training required

#### Phase 2 (Scale) - Q4 2025
- 15+ organizations active
- 1000+ active users
- 5000+ definitions/month
- 90% first-time-right

#### Phase 3 (Excellence) - 2026
- Government-wide adoption
- 50k+ definitions managed
- 95% automation rate
- ‚Ç¨3M+ annual savings

### D. Document Control
- **Versie**: 1.1
- **Status**: Draft for Review (updated AS‚ÄëIS, roadmap, links)
- **Eigenaar**: Enterprise Architecture Office
- **Laatst Bijgewerkt**: 28-08-2025
- **Next Review**: 30-09-2025
- **Distribution**: CIO Council, Architecture Board, CDO Network

---

## Cross-References to Solution Architecture

The following sections in this Enterprise Architecture document have corresponding technical implementation details in the Solution Architecture:

1. **Business Capabilities** (Section 1.1) ‚Üí [SA Section 1: System Architecture]
2. **Technology Standards** (Section 4.1) ‚Üí [SA Section 2: Technical Design]
3. **Beveiliging Framework** (Section 5.1) ‚Üí [SA Section 4: Beveiliging Implementatie]
4. **Strategic Roadmap** (Section 7.1) ‚Üí [SA Section 7: Migration Strategy]
5. **Investment Portfolio** (Section 7.2) ‚Üí [SA Section 9: Cost Optimization]

For technical implementation details, deployment specifics, and code examples, please refer to the Solution Architecture document.
</code></pre>
  </div>
</body>
</html>