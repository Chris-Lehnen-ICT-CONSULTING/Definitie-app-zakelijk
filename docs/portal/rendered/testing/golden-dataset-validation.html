<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Golden Dataset voor Validation Testen</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">← Terug naar Portal</a>
    <h1>Golden Dataset voor Validation Testen</h1>

<p><strong>Status</strong>: ACTIEF</p>
<p><strong>Versie</strong>: 1.0.0</p>
<p><strong>Laatst Bijgewerkt</strong>: 29-08-2025</p>
<p><strong>Eigenaar</strong>: QA Team</p>

<h2>Overzicht</h2>

<p>Dit document beschrijft het golden dataset voor ValidationOrchestratorV2 testing. Het golden dataset bevat referentie-definities met bekende validation scores en wordt gebruikt voor:</p>
<ul>
<li>Regressie testing</li>
<li>Prestaties benchmarking</li>
<li>Contract compliance verificatie</li>
<li>Drift detectie tussen versies</li>
</ul>

<h2>Dataset Structuur</h2>

<h3>Locatie & Opslag</h3>
<pre><code>data/testing/golden-dataset/
├── definitions/
│   ├── valid/           # 100% valide definities
│   ├── invalid/         # Definities met bekende fouten
│   └── edge-cases/      # Rand gevallen
├── expected-results/    # Verwachte validation resultaten
└── metadata.json        # Dataset metadata en versie info</code></pre>

<h3>Dataset Samenstelling</h3>

<p>| Categorie | Aantal | Beschrijving |</p>
<p>|-----------|--------|--------------|</p>
<p>| Valid Definitions | 50 | Perfecte definities (score > 0.95) |</p>
<p>| Invalid Definitions | 30 | Definities met specifieke fouten |</p>
<p>| Edge Cases | 20 | Grensgevallen en speciale karakters |</p>
<p>| <strong>Totaal</strong> | <strong>100</strong> | Complete test coverage |</p>

<h2>Definitie Categorieën</h2>

<h3>Valid Definitions (50)</h3>
<pre><code>{
  "category": "valid",
  "examples": [
    {
      "id": "GD-VAL-001",
      "term": "natuurlijk persoon",
      "definition": "mens van vlees en bloed met rechtspersoonlijkheid vanaf geboorte tot overlijden",
      "expected_score": 0.98,
      "tolerance": 0.02
    }
  ]
}</code></pre>

<h3>Invalid Definitions (30)</h3>
<pre><code>{
  "category": "invalid",
  "examples": [
    {
      "id": "GD-INV-001",
      "term": "burger",
      "definition": "De burger is een persoon die...",
      "expected_violations": ["GRAMMAR_001"],
      "expected_score": 0.65,
      "tolerance": 0.05,
      "reason": "Begint met lidwoord"
    }
  ]
}</code></pre>

<h3>Edge Cases (20)</h3>
<pre><code>{
  "category": "edge-cases",
  "examples": [
    {
      "id": "GD-EDG-001",
      "term": "e-mail",
      "definition": "elektronisch bericht verzonden via TCP/IP protocol",
      "notes": "Speciale karakters in term",
      "expected_score": 0.90,
      "tolerance": 0.03
    }
  ]
}</code></pre>

<h2>Update Process</h2>

<h3>Versie Beheer</h3>
<ul>
<li>Golden dataset volgt semantic versioning (MAJOR.MINOR.PATCH)</li>
<li>MAJOR: Breaking changes in dataset structuur</li>
<li>MINOR: Nieuwe test cases toegevoegd</li>
<li>PATCH: Fixes in bestaande cases</li>
</ul>

<h3>Update Werkstroom</h3>
<ol>
<li>**Propose Change**: Via PR met rationale</li>
<li>**Review**: Door QA Lead + Tech Lead</li>
<li>**Impact Analysis**: Check op downstream tests</li>
<li>**Approval**: Minimum 2 reviewers</li>
<li>**Versie Bump**: Update metadata.json</li>
<li>**Snapshot**: Maak backup van oude versie</li>
</ol>

<h3>Change Log Format</h3>
<pre><code>## [1.1.0] - 2025-MM-DD
### Added
- 5 nieuwe edge cases voor Unicode support
### Changed
- Updated tolerance voor GD-VAL-001
### Fixed
- Typo in GD-INV-003 definition</code></pre>

<h2>Drift Detection</h2>

<h3>Drift Drempels</h3>
<p>| Metric | Warning | Critical | Action |</p>
<p>|--------|---------|----------|--------|</p>
<p>| Score Drift | > 3% | > 5% | Block deployment |</p>
<p>| New Violations | > 2 | > 5 | Investigation required |</p>
<p>| Missing Violations | > 1 | > 3 | Contract review |</p>
<p>| Prestaties | > 10% slower | > 20% slower | Prestaties analysis |</p>

<h3>Monitoring Script</h3>
<pre><code>def check_drift(current_results, golden_results):
    """Vergelijk huidige resultaten met golden dataset."""
    drift_report = {
        "timestamp": datetime.now().isoformat(),
        "version": GOLDEN_DATASET_VERSION,
        "drifts": []
    }

    for golden, current in zip(golden_results, current_results):
        score_drift = abs(golden.score - current.score)
        if score_drift &gt; golden.tolerance:
            drift_report["drifts"].append({
                "id": golden.id,
                "expected": golden.score,
                "actual": current.score,
                "drift": score_drift,
                "severity": "KRITIEK" if score_drift &gt; 0.05 else "WARNING"
            })

    return drift_report</code></pre>

<h2>Snapshot Management</h2>

<h3>Snapshot Creation</h3>
<pre><code># Create snapshot before update
./scripts/snapshot-golden-dataset.sh create "Pre-v1.1.0 update"

# Restore snapshot if needed
./scripts/snapshot-golden-dataset.sh restore "29-08-2025-v1.0.0"</code></pre>

<h3>Retention Policy</h3>
<ul>
<li>Keep last 5 versions</li>
<li>Archive older versions to cold storage</li>
<li>Maintain change log for all versions</li>
</ul>

<h2>Integration met CI/CD</h2>

<h3>Pre-Uitrol Check</h3>
<pre><code># .github/workflows/golden-dataset-check.yml
- name: Golden Dataset Validation
  run: |
    python scripts/validate_golden_dataset.py
    if [ $? -ne 0 ]; then
      echo "Golden dataset validation failed!"
      exit 1
    fi</code></pre>

<h3>Automated Regression Test</h3>
<pre><code>@pytest.mark.golden
def test_golden_dataset_regression():
    """Test alle golden dataset cases."""
    orchestrator = ValidationOrchestratorV2()
    results = []

    for case in load_golden_dataset():
        result = await orchestrator.validate_definition(case.definition)
        assert_within_tolerance(result.score, case.expected_score, case.tolerance)
        results.append(result)

    generate_drift_report(results)</code></pre>

<h2>Maintenance</h2>

<h3>Weekly Review</h3>
<ul>
<li>Check voor drift trends</li>
<li>Review failed cases</li>
<li>Update edge cases based on production issues</li>
</ul>

<h3>Monthly Update</h3>
<ul>
<li>Add new cases from production</li>
<li>Remove obsolete cases</li>
<li>Update tolerance based on metrics</li>
</ul>

<h3>Quarterly Audit</h3>
<ul>
<li>Full dataset review</li>
<li>Prestaties baseline update</li>
<li>Contract alignment check</li>
</ul>

<h2>Contacten</h2>

<ul>
<li>**Dataset Eigenaar**: QA Team Lead</li>
<li>**Technical Contact**: Senior Developer</li>
<li>**Approval Board**: QA Lead, Tech Lead, Product Eigenaar</li>
</ul>

<p>---</p>

<p><em>Voor vragen of updates, open een issue in het project repository met label <code>golden-dataset</code>.</em></p>

  </div>
</body>
</html>