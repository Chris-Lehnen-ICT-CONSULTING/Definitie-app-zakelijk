<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Synonym Pages Bug Impact Diagram</title>
  <link rel="stylesheet" href="../portal.css" />
  <style>
    .doc { max-width: 900px; margin: 16px auto 48px auto; padding: 0 16px; }
    .doc h1,.doc h2,.doc h3,.doc h4{ color:#223 }
    .doc p{ line-height:1.6; color:#222 }
    .doc a{ color:#1d4ed8; text-decoration: underline; }
    .doc pre{ background:#0b1020; color:#e6edf3; padding:12px; overflow:auto; border-radius:8px }
    .doc code{ background:#f0f2f5; padding:2px 6px; border-radius:4px }
    .back{ display:inline-block; margin:12px 0; padding:6px 10px; border:1px solid #ccd; border-radius:6px; text-decoration:none; color:#223; background:#f8f9fb }
  </style>
</head>
<body>
  <div class="doc">
    <a class="back" href="../../index.html">â† Terug naar Portal</a>
    <h1>Synonym Pages Bug Impact Diagram</h1>

<h2>Bug Flow Analysis</h2>

<h3>Critical Bug #1: Non-Existent API Method</h3>

<pre><code>User loads synonym_admin.py
         â†“
Page calls registry.get_all_groups()
         â†“
    âŒ CRASH âŒ
AttributeError: 'SynonymRegistry' object has no attribute 'get_all_groups'
         â†“
Streamlit shows error traceback
         â†“
Page unusable</code></pre>

<p><strong>Impact:</strong> <strong>BLOCKER</strong> - Page cannot load at all</p>

<p>---</p>

<h3>Critical Bug #2: N+1 Query Problem</h3>

<pre><code>Current Implementation (100 groups):

registry.get_all_groups()                    [Query #1]    ~50ms
  â†“
Loop starts:
  registry.get_group_members(group_1)        [Query #2]    ~20ms
  registry.get_group_members(group_2)        [Query #3]    ~20ms
  registry.get_group_members(group_3)        [Query #4]    ~20ms
  ... (97 more queries)
  registry.get_group_members(group_100)      [Query #101]  ~20ms
  â†“
Total: 101 queries = ~2050ms (2 seconds!)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Optimized Implementation:

registry.get_all_members_filtered()          [Query #1]    ~100ms
  â†“
Total: 1 query = ~100ms

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Performance Improvement: 20x faster (2050ms â†’ 100ms)</code></pre>

<p><strong>Impact:</strong> <strong>CRITICAL</strong> - Unacceptable performance with realistic data</p>

<p>---</p>

<h3>Critical Bug #3: Statistics Key Mismatch</h3>

<pre><code>Metrics Tab Rendering Flow:

get_statistics() returns:
{
  'members_by_status': {
    'ai_pending': 50,
    'active': 200,
    'rejected_auto': 30
  }
}
         â†“
Code tries: stats.get('by_status', {})
         â†“
    Returns: {} (empty dict!)
         â†“
    .get('ai_pending', 0)
         â†“
    Returns: 0
         â†“
Dashboard shows: "â³ AI Pending: 0" (WRONG!)
                "âœ… Active: 0" (WRONG!)
                "âŒ Rejected: 0" (WRONG!)</code></pre>

<p><strong>Impact:</strong> <strong>HIGH</strong> - Misleading data, users can't make informed decisions</p>

<p>---</p>

<h2>Query Performance Comparison</h2>

<h3>Current (Broken) Implementation</h3>

<pre><code>Scenario: 100 groups, 500 members, user filters by "ai_pending"

Step 1: Get all groups
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SELECT * FROM synonym_groups        â”‚
â”‚ Returns: 100 rows                   â”‚
â”‚ Time: 50ms                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
Step 2-101: Get members per group (100 iterations!)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SELECT * FROM synonym_group_members                â”‚
â”‚ WHERE group_id = ? AND status = 'ai_pending'      â”‚
â”‚ Returns: ~5 rows per query                        â”‚
â”‚ Time: ~20ms Ã— 100 = 2000ms                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
Step 102: Client-side term filtering (Python)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ if term_search.lower() in m.term.lower()          â”‚
â”‚ Processes: 500 members in memory                  â”‚
â”‚ Time: ~50ms                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total Time: 2100ms (2.1 seconds)
Total Queries: 101
Memory: Load all 500 members, then filter</code></pre>

<p>---</p>

<h3>Optimized Implementation</h3>

<pre><code>Scenario: Same dataset (100 groups, 500 members, "ai_pending" filter)

Step 1: Single filtered query
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SELECT * FROM synonym_group_members                â”‚
â”‚ WHERE status = 'ai_pending'                        â”‚
â”‚   AND term LIKE '%search%'                         â”‚
â”‚ ORDER BY weight DESC                               â”‚
â”‚ LIMIT 20 OFFSET 0                                  â”‚
â”‚ Returns: 20 rows (only current page!)             â”‚
â”‚ Time: 100ms                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total Time: 100ms
Total Queries: 1
Memory: Load only 20 members (current page)

Performance Gain: 21x faster, 101x fewer queries</code></pre>

<p>---</p>

<h2>Data Flow Architecture</h2>

<h3>Correct Flow (After Fixes)</h3>

<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Streamlit UI Layer                    â”‚
â”‚         (synonym_admin.py)                      â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Filter UI    â”‚  â”‚ Pagination   â”‚           â”‚
â”‚  â”‚ - Status     â”‚  â”‚ - Page 1-10  â”‚           â”‚
â”‚  â”‚ - Term       â”‚  â”‚ - 20/page    â”‚           â”‚
â”‚  â”‚ - Weight     â”‚  â”‚              â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”‚                 â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Dependency Injection Container             â”‚
â”‚         (ServiceContainer)                      â”‚
â”‚                                                 â”‚
â”‚  registry = container.synonym_registry()        â”‚
â”‚  orchestrator = container.synonym_orchestrator()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Business Logic Layer                      â”‚
â”‚      (SynonymOrchestrator)                      â”‚
â”‚                                                 â”‚
â”‚  - TTL caching (3600s)                         â”‚
â”‚  - Governance policy (strict/pragmatic)        â”‚
â”‚  - Cache invalidation callbacks                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Data Access Layer                       â”‚
â”‚       (SynonymRegistry)                         â”‚
â”‚                                                 â”‚
â”‚  get_all_members_filtered(                     â”‚
â”‚    statuses=['ai_pending'],                    â”‚
â”‚    term_search='verdachte',                    â”‚
â”‚    min_weight=0.7,                             â”‚
â”‚    limit=20,                                   â”‚
â”‚    offset=0                                    â”‚
â”‚  )                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Database Layer                       â”‚
â”‚              (SQLite)                           â”‚
â”‚                                                 â”‚
â”‚  Tables:                                       â”‚
â”‚  - synonym_groups                              â”‚
â”‚  - synonym_group_members                       â”‚
â”‚                                                 â”‚
â”‚  Single efficient query with:                  â”‚
â”‚  - JOIN (if needed)                            â”‚
â”‚  - WHERE (status, weight, LIKE)                â”‚
â”‚  - ORDER BY (weight DESC)                      â”‚
â”‚  - LIMIT/OFFSET (pagination)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

<p>---</p>

<h2>Error Cascade Analysis</h2>

<h3>What Happens When Bugs Hit Production?</h3>

<pre><code>User Action: Visit /synonym_admin
         â†“
Bug #1 Triggers: get_all_groups() not found
         â†“
    âŒ Page Crash
         â†“
User sees: Streamlit error traceback (scary!)
         â†“
User Action: Reports bug to admin
         â†“
Admin Action: Checks logs, finds AttributeError
         â†“
Time to Diagnosis: 5 minutes (obvious bug)
         â†“
Fix Required: Add missing method
         â†“
Downtime: Until fix deployed (30-60 min)
         â†“
User Trust: Damaged âš ï¸

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Alternative Flow (If Bug #1 Fixed But #2 Remains):

User Action: Visit /synonym_admin
         â†“
Bug #2 Triggers: N+1 queries execute
         â†“
Database: 101 queries in 2 seconds
         â†“
Page: Loads slowly (user sees spinner)
         â†“
User: Tries filter change
         â†“
Database: Another 101 queries
         â†“
Page: Hangs for 2+ seconds again
         â†“
User Experience: "This is too slow!" âš ï¸
         â†“
With 1000 groups: 1001 queries = 20+ seconds
         â†“
Page: Timeout! âŒ
         â†“
User: Gives up, stops using feature

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Alternative Flow (If Bug #3 Remains):

User Action: Visit /synonym_metrics
         â†“
Bug #3 Triggers: Wrong statistics keys
         â†“
Dashboard Shows:
  - AI Pending: 0 (actual: 50)
  - Active: 0 (actual: 200)
  - Rejected: 0 (actual: 30)
         â†“
User: "System has no data?" ğŸ¤”
         â†“
User: Generates new synonyms via admin page
         â†“
User: Returns to metrics
         â†“
Dashboard: Still shows 0 for everything
         â†“
User: "Data is not saving!" âš ï¸
         â†“
User Confidence: Lost
         â†“
Time to Diagnosis: Hours (data exists, keys wrong)</code></pre>

<p>---</p>

<h2>Testing Gap Analysis</h2>

<h3>What Tests Would Catch These Bugs?</h3>

<pre><code>Bug #1: Non-Existent Method
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test: test_registry_get_all_groups()      â”‚
â”‚                                            â”‚
â”‚ def test_registry_get_all_groups():       â”‚
â”‚     registry = SynonymRegistry()          â”‚
â”‚     groups = registry.get_all_groups()    â”‚
â”‚     assert isinstance(groups, list)       â”‚
â”‚                                            â”‚
â”‚ Status: âŒ Test does not exist            â”‚
â”‚ Would catch: YES - import error           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bug #2: N+1 Queries
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test: test_admin_page_query_count()       â”‚
â”‚                                            â”‚
â”‚ def test_query_efficiency():              â”‚
â”‚     with QueryCounter() as counter:       â”‚
â”‚         load_admin_page(100_groups)       â”‚
â”‚     assert counter.count &lt;= 5  # not 101! â”‚
â”‚                                            â”‚
â”‚ Status: âŒ Test does not exist            â”‚
â”‚ Would catch: YES - performance regression â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bug #3: Statistics Keys
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test: test_metrics_statistics_display()   â”‚
â”‚                                            â”‚
â”‚ def test_metrics_display():               â”‚
â”‚     registry.add_member(..., status='ai') â”‚
â”‚     stats = registry.get_statistics()     â”‚
â”‚     tab = SynonymMetricsTab()             â”‚
â”‚     rendered = tab.render_approval()      â”‚
â”‚     assert "AI Pending: 1" in rendered    â”‚
â”‚                                            â”‚
â”‚ Status: âŒ Test does not exist            â”‚
â”‚ Would catch: YES - wrong data displayed   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bug #4: Wrong Parameter Type
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test: test_get_group_members_params()     â”‚
â”‚                                            â”‚
â”‚ def test_order_by_validation():           â”‚
â”‚     with pytest.raises(ValueError):       â”‚
â”‚         registry.get_group_members(       â”‚
â”‚             group_id=1,                   â”‚
â”‚             order_by=['weight']  # list!  â”‚
â”‚         )                                 â”‚
â”‚                                            â”‚
â”‚ Status: âš ï¸ Partial - validates str only  â”‚
â”‚ Would catch: MAYBE - depends on test data â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

<p>---</p>

<h2>Risk Assessment Matrix</h2>

<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IMPACT vs LIKELIHOOD                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  High â”‚                    â”‚ Bug #1 (Crash)             â”‚
â”‚       â”‚                    â”‚ Bug #2 (Slow)              â”‚
â”‚       â”‚                    â”‚                            â”‚
â”‚   â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ I â”‚   â”‚                    â”‚                            â”‚
â”‚ M â”‚   â”‚                    â”‚                            â”‚
â”‚ P â”‚   â”‚                    â”‚                            â”‚
â”‚ A Med â”‚                    â”‚ Bug #3 (Wrong Data)        â”‚
â”‚ C â”‚   â”‚                    â”‚                            â”‚
â”‚ T â”‚   â”‚                    â”‚                            â”‚
â”‚   â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”‚   â”‚                    â”‚                            â”‚
â”‚       â”‚                    â”‚                            â”‚
â”‚  Low  â”‚                    â”‚                            â”‚
â”‚       â”‚                    â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           Low              Med             High
                      LIKELIHOOD

Bug #1: High Impact + High Likelihood = CRITICAL
Bug #2: High Impact + High Likelihood = CRITICAL
Bug #3: Med Impact + High Likelihood = HIGH
Bug #4: Low Impact + Med Likelihood = MEDIUM</code></pre>

<p>---</p>

<h2>Recommended Fix Order</h2>

<pre><code>Priority 1: MUST FIX BEFORE ANY DEPLOYMENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Add get_all_groups() to SynonymRegistry     â”‚
â”‚    Effort: 15 minutes                          â”‚
â”‚    Blocks: Everything                          â”‚
â”‚                                                 â”‚
â”‚ 2. Add get_all_members_filtered() to Registry  â”‚
â”‚    Effort: 30 minutes                          â”‚
â”‚    Blocks: Performance                         â”‚
â”‚                                                 â”‚
â”‚ 3. Update admin page to use new methods        â”‚
â”‚    Effort: 20 minutes                          â”‚
â”‚    Blocks: Functionality                       â”‚
â”‚                                                 â”‚
â”‚ 4. Fix statistics keys in metrics tab          â”‚
â”‚    Effort: 10 minutes                          â”‚
â”‚    Blocks: Correct data display                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Total: ~75 minutes (1.25 hours)

Priority 2: SHOULD FIX BEFORE USER TESTING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Add async error handling                    â”‚
â”‚    Effort: 20 minutes                          â”‚
â”‚    Impact: Better error messages               â”‚
â”‚                                                 â”‚
â”‚ 6. Add database schema validation              â”‚
â”‚    Effort: 15 minutes                          â”‚
â”‚    Impact: Graceful degradation                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Total: ~35 minutes

Priority 3: NICE TO HAVE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Extract status display utilities            â”‚
â”‚    Effort: 30 minutes                          â”‚
â”‚    Impact: Code maintainability                â”‚
â”‚                                                 â”‚
â”‚ 8. Add progress indicators                     â”‚
â”‚    Effort: 20 minutes                          â”‚
â”‚    Impact: Better UX for bulk ops              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Total: ~50 minutes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Grand Total: ~2.5 hours (focused work)</code></pre>

<p>---</p>

<h2>Post-Fix Validation Checklist</h2>

<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Manual Testing Checklist                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ ] Page loads without errors                   â”‚
â”‚ [ ] Statistics show correct counts              â”‚
â”‚ [ ] Filters work correctly:                     â”‚
â”‚     [ ] Status filter (All, AI Pending, etc.)   â”‚
â”‚     [ ] Term search (partial match)             â”‚
â”‚     [ ] Weight threshold slider                 â”‚
â”‚ [ ] Pagination works:                           â”‚
â”‚     [ ] Correct page count calculation          â”‚
â”‚     [ ] Navigation between pages                â”‚
â”‚     [ ] Items per page = 20                     â”‚
â”‚ [ ] GPT-4 generation:                           â”‚
â”‚     [ ] Successful generation                   â”‚
â”‚     [ ] Timeout handling                        â”‚
â”‚     [ ] Error messages clear                    â”‚
â”‚ [ ] Single approve/reject:                      â”‚
â”‚     [ ] Updates status correctly                â”‚
â”‚     [ ] Cache invalidated                       â”‚
â”‚     [ ] UI updates immediately                  â”‚
â”‚ [ ] Bulk operations:                            â”‚
â”‚     [ ] Confirmation dialog shows               â”‚
â”‚     [ ] Count matches visible items             â”‚
â”‚     [ ] Progress indicator (if added)           â”‚
â”‚     [ ] Success message accurate                â”‚
â”‚ [ ] Performance:                                â”‚
â”‚     [ ] Page load &lt; 500ms (100 groups)          â”‚
â”‚     [ ] Filter change &lt; 500ms                   â”‚
â”‚     [ ] No N+1 query logs                       â”‚
â”‚ [ ] Metrics dashboard:                          â”‚
â”‚     [ ] Cache stats accurate                    â”‚
â”‚     [ ] Approval stats accurate                 â”‚
â”‚     [ ] Charts render correctly                 â”‚
â”‚     [ ] Top usage table shows data              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Automated Testing Checklist                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ ] Unit tests pass:                            â”‚
â”‚     [ ] test_registry_get_all_groups()          â”‚
â”‚     [ ] test_registry_get_all_members_filtered()â”‚
â”‚     [ ] test_count_members_filtered()           â”‚
â”‚ [ ] Integration tests pass:                     â”‚
â”‚     [ ] test_admin_page_loads()                 â”‚
â”‚     [ ] test_approve_workflow()                 â”‚
â”‚     [ ] test_bulk_operations()                  â”‚
â”‚ [ ] Performance tests pass:                     â”‚
â”‚     [ ] Query count &lt;= 5 per page load          â”‚
â”‚     [ ] Response time &lt; 500ms (100 groups)      â”‚
â”‚ [ ] Code quality:                               â”‚
â”‚     [ ] ruff check passes                       â”‚
â”‚     [ ] black format passes                     â”‚
â”‚     [ ] mypy type check passes                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

<p>---</p>

<p><strong>Next Steps:</strong> See detailed fix implementations in <code>synonym-pages-technical-review.md</code></p>

  </div>
</body>
</html>